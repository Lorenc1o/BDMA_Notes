#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\begin_preamble

\end_preamble
\use_default_options true
\begin_modules
tcolorbox
customHeadersFooters
theorems-ams-bytype
theorems-sec-bytype
fixltx2e
tabs-within-sections
eqs-within-sections
figs-within-sections
\end_modules
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\pdf_quoted_options "linkcolor=blue, urlcolor=blue, citecolor=blue"
\papersize a4paper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\boxbgcolor #62a0ea
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2cm
\topmargin 3cm
\rightmargin 2cm
\bottommargin 3cm
\headheight 2cm
\headsep 1cm
\footskip 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
INFOH423 - Data Mining Lab Sessions
\end_layout

\begin_layout Date
Fall 2022
\end_layout

\begin_layout Author
Jose Antonio Lorencio Abril
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename /home/jose/Dropbox/BDMA/ULB/DM/Summary/1200px-Université_libre_de_Bruxelles_(logo).svg.png
	scale 10

\end_inset


\end_layout

\begin_layout Standard
\align right
Professor: Mahmoud Sakr
\end_layout

\begin_layout Standard
\align right
Student e-mail: jose.lorencio.abril@ulb.be
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList figure

\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList table

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand lstlistoflistings

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Lab session 1: RapidMiner introduction and data preparation
\end_layout

\begin_layout Exercise
Introductory video to rapidminer: Read a .csv file and apply a decision tree
 algorithm
\end_layout

\begin_layout Enumerate
First we need to import the data, setting attribute 
\emph on
id
\emph default
 with role 
\series bold
id
\series default
 and attribute 
\emph on
married
\emph default
 with role 
\series bold
label
\series default
.
 This makes the algorithm not using 
\emph on
id
\emph default
 as a feature (ids are not suitable for prediction, as it is just an identifier
 of the record) and it says the algorithm which characteristic we are trying
 to predict.
 
\emph on
married
\emph default
 in our case.
\end_layout

\begin_layout Enumerate
After that, we add a decision tree.
\end_layout

\begin_layout Enumerate
Run!
\end_layout

\begin_layout Standard
The process can be seen in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ex1-process"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado1.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:ex1-process"

\end_inset

exercise 1 - Decision Tree process
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The decision tree obtained through this process is quite big, so we are
 only showing one branch in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ex1-branch"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado2.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:ex1-branch"

\end_inset

exercise 1 - One branch of the decision tree.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Exercise
Assignment 1: Go through the two following operators' repositories: Blending
 and Cleansing.
 These contain many modules useful for data preparation such as selection
 of attributes, generation of attributes, binning, filtering, joining datasets,
 dealing with missing values, transforming data, setting roles for each
 attribute (label, id, other), etc.
\end_layout

\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Definition

\series bold
Data blending
\series default
 is the process of combining multiple data sources in order to create a
 single dataset with the combined data.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
If we access the 
\emph on
Blending
\emph default
 repository in RapidMiner, we will see four main groups:
\end_layout

\begin_layout Itemize

\series bold
Attributes
\series default
: this group has operations that deals with the attributes of the data to
 be blended.
\end_layout

\begin_deeper
\begin_layout Standard
It is subdivided in another 5 groups:
\end_layout

\begin_layout Itemize
Names and roles: operations to modify attributes' names and their role in
 the dataset.
\end_layout

\begin_layout Itemize
Types: operations to cast between different data types.
 For example, we find transformations such as 
\emph on
Numerical to Real
\emph default
 or 
\emph on
Nominal to Text
\emph default
.
\end_layout

\begin_layout Itemize
Selection: used to select some attributes from a dataset, by different criteria
 or even using weights.
\end_layout

\begin_layout Itemize
Generation: generate new data from existing data.
\end_layout

\begin_layout Itemize

\emph on
Reorder Attributes
\emph default
: this is an operator that allows to reorder the attributes according to
 the parameter 
\emph on
sort_mode
\emph default
.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Table
\series default
: the operations in this groups perform transformation on tables as a whole.
\end_layout

\begin_deeper
\begin_layout Standard
Again, it is subdivided.
 There are three groups:
\end_layout

\begin_layout Itemize
Grouping: we encounter here the 
\emph on
Aggregate
\emph default
 operator, which is used to perform aggregation on the data, just as a 
\emph on
GROUP BY
\emph default
 does in SQL.
\end_layout

\begin_layout Itemize
Rotation: operators to perform rotation operations on a dataset, such as
 
\emph on
Pivot
\emph default
 a table.
\end_layout

\begin_layout Itemize
Joins: operator to perform join operations between differents datasets.
 These includes operations such as the 
\emph on
Cartesian Product
\emph default
 or an usual 
\emph on
Join
\emph default
.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Values
\series default
: here we can find operations that changes the values of our data in many
 ways.
 Some operators that exemplify this are 
\emph on
map 
\emph default
(which maps specified values of selected attributes to new values) or 
\emph on
cut 
\emph default
(which cuts the nominal values of the specified regular attributes.
 The resultant attributes have values that are substrings of the original
 attribute values).
\end_layout

\begin_layout Itemize

\series bold
Examples
\series default
: the operators in this group focus on applying some operations to the records
 of the dataset.
 It is subdivided in three subgroups:
\end_layout

\begin_deeper
\begin_layout Itemize
Filter: filtering operators.
\end_layout

\begin_layout Itemize
Sampling: operators to get samples of records from the dataset.
\end_layout

\begin_layout Itemize
Sort: different sorting mechanisms.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Definition

\series bold
Data cleansing
\series default
 is a synonim of data cleaning and it refers to the process of descovering
 and deciding how to deal with incorrect data, being it corrected or eliminated.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This time, we find 8 subgroups:
\end_layout

\begin_layout Itemize

\series bold
Normalization
\series default
: operators to normalize data, i.e., transform the data in such a way that
 all attributes have the same scale, or different scales according to some
 weights (this weights usually model the importance of the attributes for
 our purposes and are dependant on the application at hand).
\end_layout

\begin_layout Itemize

\series bold
Binning
\series default
: binning is the process to discretize continuous data or simplify very
 dense categorical data.
 For example, we find operators such as 
\emph on
Discretize by Size
\emph default
 (it creates the bins so that all of them have the same amount of examples
 inside) or 
\emph on
Discretize by Entropy
\emph default
 (used to discretize numerical attributes, trying to minimize the entropy
 among possible partitions).
\end_layout

\begin_layout Itemize

\series bold
Missing
\series default
: operations to deal with missing (null) values.
 This includes 
\emph on
Replace Missing Values 
\emph default
(used to replace missing values with some specified value, as the min, max
 or average) or 
\emph on
Impute Missing Values 
\emph default
(used to replace missing values with a value returned by a model learned
 for this purpose).
\end_layout

\begin_layout Itemize

\series bold
Duplicates
\series default
: the operator 
\emph on
Remove Duplicates
\emph default
 is used to remove duplicate datapoints.
\end_layout

\begin_layout Itemize

\series bold
Outliers
\series default
: different operators to detect outliers.
\end_layout

\begin_layout Itemize

\series bold
Dimensionality reduction
\series default
: operators to reduce dimensionality.
 We have PCA among other operators.
\end_layout

\begin_layout Itemize

\emph on
Statistics
\emph default
: operator that calculates some basic statistics and distributions for all
 columns of the input data.
\end_layout

\begin_layout Itemize

\emph on
Quality Measures
\emph default
: operator that calculates some quality measurements for the columns of
 the input data.
\end_layout

\begin_layout Exercise
There are many datasets already contained in Rapidminer.
 Search for "Generate sales data".
 Create a process that allows to generate a column containing the total
 price of each transaction and does not consider the quantity as well as
 the unit price of each good in a transaction.
 Then, complete the process to have the total revenue of each category of
 
\strikeout on
transaction
\strikeout default
 product (Health, Toys, etc.) for each store.
 Finally, filter the transactions to only consider store 09 and store 10.
 Compare their revenue on each category (that has a revenue larger than
 0) in the results' table.
\end_layout

\begin_layout Standard
First, connecting the 
\emph on
Generate Sales Data
\emph default
 operator to the 
\series bold
res
\series default
 gate, we can see the structure of the datase, which is as follows:
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="1" columns="8">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
transaction_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
store_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
customer_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
product_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
product_category
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
date
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
amount
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
single_price
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:ex3-sales_ds"

\end_inset

exercise 3 - Sales Dataset Schema
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Thus, we are ask to:
\end_layout

\begin_layout Itemize
generate a new column that contains the total price of each transaction.
\end_layout

\begin_deeper
\begin_layout Standard
That is, create a column 
\begin_inset Formula 
\[
total\_price=amount\times single\_price.
\]

\end_inset

 In order to do this, we design the process in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ex3-total_price_create"
plural "false"
caps "false"
noprefix "false"

\end_inset

, i.e., we add a 
\emph on
Generate Attributes
\emph default
 operator from 
\emph on
Blending-Attributes-Generation
\emph default
 and define the new column with the proper mathematical expression.
 We can check the correctness of what we have just done connecting the operator
 to 
\series bold
res
\series default
 and checking the results.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado3.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:ex3-total_price_create"

\end_inset

exercise 3 - Creation of 
\emph on
total_price
\emph default
 column.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
not consider the quantity as well as the unit price of each good in a transactio
n.
\end_layout

\begin_deeper
\begin_layout Standard
To achieve this, we have to select all attributes except these two.
 This can be easily done with the 
\emph on
Select Attributes
\emph default
 operator, from 
\emph on
Blending-Attributes-Selection
\emph default
.
 We connect the output of the 
\emph on
Generate Attributes
\emph default
 operator to this new operator and then select the 'subset' attribute filter
 type, the two attributes that we want to remove and tick the box of 'invert
 selection', which removes the selected attributes.
 The process at this point can be seen in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ex3-remove_unw_cols"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado4.png
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:ex3-remove_unw_cols"

\end_inset

exercise 3 - Removing unwanted columns.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
get the total revenue of each category of product for each store.
\end_layout

\begin_deeper
\begin_layout Standard
We have to aggregate the 
\emph on
total_price
\emph default
 by summing it, grouping by 
\emph on
product_category 
\emph default
and
\emph on
 store_id
\emph default
.
 The process is now as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ex3-aggregate_revenue"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado5.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:ex3-aggregate_revenue"

\end_inset

exercise 3 - Get total revenue per store and category.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
filter the transactions to only consider stores 09 and 10.
\end_layout

\begin_deeper
\begin_layout Standard
We now add a 
\emph on
Filter Examples
\emph default
 operators from 
\emph on
Blending-Examples-Filter
\emph default
 as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-3-filter_stores"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado7.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-3-filter_stores"

\end_inset

exercise 3 - Filter stores 09 and 10.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Compare the revenue in the results' table.
\end_layout

\begin_deeper
\begin_layout Standard
Now, we just have to execute the process and check the results.
 We get the table captured in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-3-compare_results"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 As we can see, in all categories that are sold in both stores, the store
 with id=10 always get a higher total revenue.
 Also, we see that store 09 sells Books and 10 doesn't, and the other way
 with the Sports category.
 To simplify the comparisons, we can click on the product_category column,
 which will make RapidStudio sort the dataset according to this column's
 values.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado8.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-3-compare_results"

\end_inset

exercise 3 - Compare results.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Exercise
Download the House data in Boston and check for missing values and try to
 obtain a data set clear from missing values.
\end_layout

\begin_layout Standard
To start, we set up a process to import the data and we choose the proper
 type for each column.
 When do this, we get some errors, as can be seen in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-4-import_data"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 We check the 
\begin_inset Quotes eld
\end_inset

Replace errors with missing values
\begin_inset Quotes erd
\end_inset

 button to solve this.
 Now we have 15 warnings instead.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado11.png
	scale 40

\end_inset


\begin_inset Graphics
	filename pegado12.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-4-import_data"

\end_inset

exercise 4 - Importing the data
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Now, we are going to deal with the missing values in different ways.
 To be able to compare all the ways, we will use the 
\emph on
Multiply
\emph default
 operator, which generates several copies of the input that it receives.
 
\end_layout

\begin_layout Itemize
The first thing that we are going to do is filter the records to remove
 those that have missing values.
 To do this, we use the 
\emph on
Filter Examples
\emph default
 operator, enabling advanced parameters and setting the 
\emph on
condition class
\emph default
 to be 
\emph on
no_missing_attributes
\emph default
.
 The resulting process is captured in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-4-first_approach"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado13.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-4-first_approach"

\end_inset

exercise 4 - First approach: removing records with missing values
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
The second strategy we are going to use is imputing values with a process
 like the one in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-4-second_approach_main"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado14.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-4-second_approach_main"

\end_inset

exercise 4 - Second approach: imputing values - Main process
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
We now have to create the model that is going to be used to impute the values.
 For example, a model like the one in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-4-second_approach_knn"
plural "false"
caps "false"
noprefix "false"

\end_inset

, in which we have chosen a simple k-NN model.
 We can select any suitable model for this purpose.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado15.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-4-second_approach_knn"

\end_inset

exercise 4 - Second approach: imputing values - kNN model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Lab session 2: Data preparation
\end_layout

\begin_layout Subsection
Data preparation 
\begin_inset Quotes eld
\end_inset

Turbo
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
Watch the video « data preparation turbo ».
 It explains how you can clean/ transform your data faster.
 Try for yourself with the Titanic dataset.
\end_layout

\begin_layout Standard
(Optional): see that it is also possible to create a pivot very easily and
 visually.
 For instance, try with the pivot to obtain a table that contains only 3
 attributes:
\end_layout

\begin_layout Enumerate
The sex.
\end_layout

\begin_layout Enumerate
The passenger class.
\end_layout

\begin_layout Enumerate
The amount of survivors (in function of the sex and the passenger class).
\end_layout

\begin_layout Standard
First of all, what is data preparation Turbo?
\end_layout

\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Plain Layout

\series bold
Turbo Prep
\series default
 is a data-centric view of managing, manipulating, and preparing data sets.
 While you are making changes to your data sets, we record them in the backgroun
d and can create RapidMiner processes based on those actions.
 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Now, we start by loading the Titanic dataset using the Load Data button.
 Let's say we want to change the column 'Sex' to 'Gender'.
 In order to do this, we use the transform feature:
\end_layout

\begin_layout Itemize
Press 
\emph on
Transform
\emph default
.
\end_layout

\begin_layout Itemize
Select the column.
\end_layout

\begin_layout Itemize
Select 
\emph on
Rename
\emph default
.
\end_layout

\begin_layout Itemize
Commit transformation.
\end_layout

\begin_layout Standard
Now we are going to add a new column used to calculate the size of the family
 of each passenger.
 To achieve this:
\end_layout

\begin_layout Itemize
Press 
\emph on
Generate
\emph default
.
\end_layout

\begin_layout Itemize
We use the formula
\begin_inset Formula 
\[
Family\_Size=N_{siblings\ or\ spouses}+N_{parents\ or\ children}+1,
\]

\end_inset

 dragging these columns into the 
\emph on
Formula
\emph default
 table.
 Note the +1 accounts for the person himself.
\end_layout

\begin_layout Itemize
If we click 
\emph on
Update Preview
\emph default
 we can see how it would look like, as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-1:-GeneratingTurboPrep"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado16.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-1:-GeneratingTurboPrep"

\end_inset

exercise 1: Generating a column with Turbo Prep.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Commit Generate.
\end_layout

\begin_layout Standard
By selecting 
\series bold
\emph on
History
\series default
\emph default
 we can see what has been done and committed so far:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado17.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-1:-TurboPrepHistory"

\end_inset

exercise 1: Turbo Prep History.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
If we select some past step we can roll back to how the data was at that
 time or branch off another preparation process with the data as it was
 at that step.
\end_layout

\begin_layout Standard
By selecting 
\series bold
\emph on
Process
\series default
\emph default
 we can see the generated process that is created behind the scenes by Turbo
 Prep.
 The generated process until this point is the one shown in Figure
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado18.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-1:-TurboPrepProcess"

\end_inset

exercise 1: Turbo Prep Process.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Let's now focus on the information that we are shown for each column.
 For illustration, see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-1:-TicketNumbercolumn"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado19.png
	scale 120

\end_inset


\begin_inset Graphics
	filename pegado20.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-1:-TicketNumbercolumn"

\end_inset

exercise 1: 
\emph on
Ticket Number
\emph default
 column details.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
There is a histogram showing the distribution of the data of the column.
\end_layout

\begin_layout Itemize
The colours under the histograms are indicators of the quality of the data
 in the column.
\end_layout

\begin_layout Itemize
Right-clicking a table will enable us to use the Transformation and Cleansing
 tools on it directly.
\end_layout

\begin_layout Itemize
If we click 
\emph on
Show Details 
\emph default
we will see a window like in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-1:-TicketNumbercolumn"
plural "false"
caps "false"
noprefix "false"

\end_inset

-Right, where we can see the format (Category in this case), a bigger display
 of the histogram, some key statistics and information on the quality of
 the data:
\end_layout

\begin_deeper
\begin_layout Itemize
Missing (red): The number of missing values in this column divided by the
 number of rows.
 
\end_layout

\begin_layout Itemize
Infinite (red): The number of infinite values in this column divided by
 the number of rows.
 
\end_layout

\begin_layout Itemize
ID-ness (blue): The number of different values for this column divided by
 the number of rows.
 
\end_layout

\begin_layout Itemize
Stability (gray): The count for the most frequent non-missing value for
 this column divided by the number of rows.
 
\end_layout

\begin_layout Itemize
Valid (green): The fraction of values of this column which are not counted
 as missing, infinite, id, or stable.
\end_layout

\end_deeper
\begin_layout Standard
If we select 
\series bold
\emph on
Model
\series default
\emph default
 we can create a quick model on our dataset.
 We click on 
\emph on
Predict
\emph default
, we select the 
\emph on
survived
\emph default
 column as objective and 
\emph on
Next
\emph default
.
 We will be faced with several options now which we can adjust and then
 we have to select the models that we want to generate.
 I will generate a Naïve Bayes and a Decision Tree.
 We will arrive to a new window in which several statistics about the models
 will be displayed to help us choose the best one for our use case.
\end_layout

\begin_layout Standard

\series bold
Optional exercise
\series default
: to do this, we click on the 
\series bold
\emph on
Pivot
\series default
\emph default
 feature and we drag 'Gender' to the Group-By field, 'Passenger Class' to
 the Column Grouping field, and 'Survived' to the Aggregates field.
 It automatically selects count, but be aware that it is counting all instances
 of each class.
 We have to add a filter, clicking in the 'Survived' aggregate field and
 'Add filter', we would set the filter to be '=Yes'.
\end_layout

\begin_layout Standard
The final result is as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-1:-TurboPrepPivot"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 If we are happy with the result, we can now Commit it.
 Else we cancel.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado21.png
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-1:-TurboPrepPivot"

\end_inset

exercise 1: Turbo Prep pivot table.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Feature selection
\end_layout

\begin_layout Standard
Go back to you prepared Titanic data set (without the optional pivot operation).
 One could try to select the attributes that are critical to predict the
 survival of a passenger (make this attribute have the role of a label).
 Using a forward selection process and a cross validation sub-process that
 itself implements a decision tree, reduce the amount of attributes of the
 Titanic dataset (that has been through the data preparation shown in the
 video above (data preparation turbo)).
 This process uses modelling and optimization process but is part of data
 preparation because it helps eliminate attributes that are less useful
 to predict the value of an attribute (in this case: Survived).
\end_layout

\begin_layout Standard
Then, retrieve the unlabeled Titanic dataset.
 Add it to the process.
 Prepare it exactly as the first dataset.
 Create a decision tree model with the training set (titanic data set),
 then apply this model on the unlabeled Titanic dataset.
\end_layout

\begin_layout Standard
So, we go to the created process, where we are going to select all the steps
 generated by the Turbo Prep and embed them into a subprocess called 'Data
 Preparation', as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-2:-decisiontree"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 We also add to this subprocess the setting of the role of 'Survived' as
 Label.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado23.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado24.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-2:-creation_subprocess"

\end_inset

exercise 2: creation of subprocess.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Let's explore now the 
\series bold
\emph on
feature selection
\series default
\emph default
 capabilities.
 We search for the feature selection folder and we are going to use 
\emph on
Forward Selection
\emph default
, whose strategy consist on adding new attributes to a certain model until
 no significant gain is achieve by adding more attributes.
 Our process is now as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-2:-ForwardSelection"
plural "false"
caps "false"
noprefix "false"

\end_inset

 (Top).
 Now we go into the Forward Selection subprocess, because we need to add
 a 
\emph on
Cross Validation
\emph default
 step for this to work properly.
 The Forward Selection subprocess is as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-2:-ForwardSelection"
plural "false"
caps "false"
noprefix "false"

\end_inset

 (Middle).
 To finish this nest of subprocesses, we have to complete the Cross Validation
 subprocess.
 First, we have to add a model, which will be a decision Tree.
 Then, we need to test the model.
 In order to be able to do this, we search for the 
\emph on
Apply Model
\emph default
 operator and add it in the Testing tab.
 We need to produce a performance metric, so we now search for the 
\emph on
Performance
\emph default
 operator and add it to the process.
 The final results is as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-2:-ForwardSelection"
plural "false"
caps "false"
noprefix "false"

\end_inset

 (Bottom).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado29.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado26.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado27.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-2:-ForwardSelection"

\end_inset

exercise 2: Forward Selection.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
If we run this now, we can see the metrics for the performance, the attribute
 weight, which show a 1 if the attribute is selected, and 0 if it was not,
 and the final ExampleSet with the non selected attributes removed.
 See this figure for visuals:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado30.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado31.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
exercise 2: Selection results.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
At this point, we want to make predictions on an unlabeled dataset.
 We load the Titanic unlabeled dataset.
 We prepare the data using the same Data Preparation subprocess that we
 created before.
 Also, we want to select the attributes that have weight 1, so we search
 for the 
\emph on
Select by Weights
\emph default
 operator.
\end_layout

\begin_layout Standard
To make predictions, we add a decision tree, whose training set is the one
 obtained in the previous step.
 In the end, we have a process like the following:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado32.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
exercise 2: final process.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
We get a result like this one:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado33.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
exercise 2: final results.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Where we have a predicted label and the confidence the model has for each
 label predicted.
\end_layout

\begin_layout Subsection
Data transformation
\end_layout

\begin_layout Standard
It can happen that you need to transform the type of an attribute for a
 given model.
 For instance, some predictive model cannot handle polynomial data (or text).
 This is the case of some machine learning models as the Neural net available
 in the predictive operators.
 You will be able to understand and test such a model when you will see
 different classification algorithms.
 For now, read the csv file “melb_data” on Melbourne housing prices.
 Observe the data.
 If a neural net model were to be applied on that dataset to predict the
 price of a house in function of the region, number of bedrooms and bathrooms,
 you should transform data type of the region attribute to another type.
 Try two ways: one hot encoding and nominal to numerical.
 What is the difference?
\end_layout

\begin_layout Itemize
We import the data.
\end_layout

\begin_layout Itemize
We prepare the data, setting the role of Price to be 'label', selecting
 the attributes Price, Bedroom2, Bathroom, BuildingArea and Regionname,
 and finally we filter the data to have no missing values.
 We also multiply the output.
\end_layout

\begin_layout Itemize
Now, we want to use a neural network to predict the price of the houses.
 If we try to connect our data directly to the neural network, we will get
 an error, because Neural Networks cannot deal with polynomial attributes,
 so we have to fix this issue.
 For this, we will use the two encodings suggested in the exercise.
\end_layout

\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Plain Layout

\series bold
One hot encoding
\series default
: 
\end_layout

\begin_layout Plain Layout
First, and if desired, all nominal columns which have too many different
 values can be removed from the data set.
 
\end_layout

\begin_layout Plain Layout
Second, and if desired, this operator can perform an encoding on the remaining
 nominal attributes.
 Those settings and the removed and transformed columns are stored in a
 preprocessing model which can be applied to new data sets in scoring situations
 to get the same compatible data set structure as a result.
\end_layout

\begin_layout Plain Layout
To encode the data, it creates a new column for each different value, and
 it sets 1 if the attribute takes that value, and 0 if not.
 If the attribute can take N values, it will create N-1 columns, and those
 records that take the N-th attribute will have all the columns set to 0.
\end_layout

\begin_layout Plain Layout
For example, if we have the Attribute Type with 3 possible values, the one
 hot encoding will work in the following manner:
\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
t1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
t2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
t3
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Formula $\implies$
\end_inset


\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type=t1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type=t2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
Nominal to numerical
\series default
:
\end_layout

\begin_layout Plain Layout
Used for changing the type of non-numeric attributes to a numeric type.
 This operator not only changes the type of selected attributes but it also
 maps all values of these attributes to numeric values.
 Binary attribute values are mapped to 0 and 1.
 Numeric attributes of input the ExampleSet remain unchanged.
 This operator provides three modes for conversion from nominal to numeric.
 
\end_layout

\begin_layout Plain Layout
It does it in the same way as the One hot encoding, but it does not remove
 one column.
 The previous example would end as follows:
\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
t1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
t2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
t3
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Formula $\implies$
\end_inset


\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type=t1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type=t2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type=t3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
We end up with the process in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:exercise-3:-process."
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado34.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado35.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:exercise-3:-process."

\end_inset

exercise 3: process.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
If we check the performance metrics obtained, we get:
\end_layout

\begin_layout Itemize
One hot encoding: root_mean_squared_error: 517141.719 +/- 99537.936 (micro
 average: 525692.475 +/- 0.000)
\end_layout

\begin_layout Itemize
Nominal to numerical: root_mean_squared_error: 497715.914 +/- 47887.005 (micro
 average: 499784.933 +/- 0.000)
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Lab session 3: Clustering
\end_layout

\begin_layout Subsection
Clustering
\end_layout

\begin_layout Enumerate
Download the excel file : SDGs_reduced.xls ( 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

https://uv.ulb.ac.be/pluginfile.php/3448783/course/section/367881/SDGs_reduced.xlsx
\end_layout

\end_inset

 ).
\end_layout

\begin_layout Enumerate
Import it on Rapidminer and make the country name as an ID attribute.
\end_layout

\begin_layout Enumerate
Check the data (type, missing values; etc.).
\end_layout

\begin_layout Enumerate
Pre-process the data to be able to apply a k-means algorithm (replace missing
 values, impute missing values, etc).
\end_layout

\begin_layout Enumerate
Apply the k-means algorithm (check the parameters and try different values
 number of clusters).
\end_layout

\begin_layout Enumerate
Use a performance operator to compute the average distance to centroid and
 the Davies Bouldin index.
\end_layout

\begin_layout Enumerate
What two indicators are studied to compute the Davies Bouldin index?
\end_layout

\begin_layout Enumerate
Try now to normalize the data and see if there are differences in the clustering
 partitions.
\end_layout

\begin_layout Enumerate
Check again the initial data and if there miss too many data for some attributes
, disregard them, then redo the k-mean algorithm.
\end_layout

\begin_layout Enumerate
Let us now contextualize the Sustainable development goals developed by
 the UN’s.
 It is a benchmark on the countries made to evaluate and try to regulate
 the sustainability of every country.
 Benchmarking is often used as an improvement tool based on learning by
 the others.
 Sustainability is the intersection between society, environment and economy.
 Therefore, the attributes of the SDG’s can be seen as criteria to optimize,
 with an optimization direction: max or min.
\end_layout

\begin_deeper
\begin_layout Enumerate
Exported CO2 emissions : min.
\end_layout

\begin_layout Enumerate
Adjusted Gini coefficient : min.
\end_layout

\begin_layout Enumerate
Woman in national parliament : be as close as possible to 50 % (change this
 attribute in order to have an attribute to minimize ).
\end_layout

\begin_layout Enumerate
GDP per capita : max.
\end_layout

\begin_layout Enumerate
Quality of overall infrastructure : max.
\end_layout

\begin_layout Enumerate
Average of top 3 university rankings : max.
\end_layout

\begin_layout Enumerate
Government R&D expenditure : max.
\end_layout

\end_deeper
\begin_layout Standard
Based on the plot in the Cluster Model tab, try to understand the profiles
 of the clusters.
 Does it look like there is an order in the clusters.
 Can you say that one profile is better than another profile in terms of
 sustainability?
\end_layout

\begin_layout Standard
First, what is the Davies Bouldin index?
\end_layout

\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Definition
The algorithms that produce clusters with low intra-cluster distances (high
 intra-cluster similarity) and high inter-cluster distances (low inter-cluster
 similarity) will have a low Davies–Bouldin index, the clustering algorithm
 that produces a collection of clusters with the smallest Davies–Bouldin
 index is considered the best algorithm based on this criterion.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Thus, we will search for the algorithm with lowest Davies-Bouldin index.
\end_layout

\begin_layout Standard
For questions 
\series bold
1-6
\series default
, I have developed the process shown in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:lab3-Process-of-exercise-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 The two Clustering algorithms in the upper part are used to see the difference
 between replacing missing values and imputing them, which can be checked
 to be relevant differences.
\end_layout

\begin_layout Standard
On the other hand, the 
\emph on
Loop Parameters
\emph default
 operator allows us to apply different values for 
\begin_inset Formula $k$
\end_inset

 in the 
\begin_inset Formula $k$
\end_inset

-means algorithm and computing the performance using the Davies Bouldin
 index for each of them.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado36.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Process of exercise 1.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:lab3-Process-of-exercise-1"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
To do this, we create the sub-process shown in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:lab3-Sub-process-Loop-Parameters."
plural "false"
caps "false"
noprefix "false"

\end_inset

 inside the Loop.
 We introduce a clustering method and a 
\emph on
Cluster Distance Performance
\emph default
 operator, setting main criterion to be Davies Bouldin.
\end_layout

\begin_layout Standard
We also click on Parameters Settings in the context menu of the Loop Operator
 and set the values for 
\begin_inset Formula $k$
\end_inset

 to be checked.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado37.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado38.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado39.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Sub-process Loop Parameters.
\begin_inset CommandInset label
LatexCommand label
name "fig:lab3-Sub-process-Loop-Parameters."

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
This way, we obtain the results shown in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:lab3-Clustering-results-for-ex1"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado41.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Clustering results for exercise 1.
\begin_inset CommandInset label
LatexCommand label
name "fig:lab3-Clustering-results-for-ex1"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
As we can see, the best 
\begin_inset Formula $k$
\end_inset

 according to the Davies Bouldin index is 
\begin_inset Formula $k=6$
\end_inset

.
\end_layout

\begin_layout Standard
For question 
\series bold
7
\series default
, we rely on our previous definition: the Davies Bouldin index uses the
 intra-cluster similarity and the inter-cluster similarity.
\end_layout

\begin_layout Standard
For question 
\series bold
8
\series default
, the process is as follows:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado42.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Process of exercise 1, expanded.
\begin_inset CommandInset label
LatexCommand label
name "fig:lab3-Process-of-exercise1-expanded"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
And the results we get are different:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado43.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Clustering results for exercise 1 with normalize data.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
As we can see, now we obtain an optimal 
\begin_inset Formula $k$
\end_inset

 of 3.
 But, on which one we should rely?
\end_layout

\begin_layout Standard
The normalized one should be better at detecting clusters, because all the
 attributes are being taken into account in the same manner.
 When we don't normalize the data, those fields with larger scales will
 opaque the attributes with smaller values, which can be equally important.
\end_layout

\begin_layout Standard
For question 
\series bold
9
\series default
 we would just check the statistics and decide if we want to delete some
 entries.
\end_layout

\begin_layout Standard
As for question 
\series bold
10
\series default
, we should take a look at Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:lab3-Clusters'-results-in-SDG"
plural "false"
caps "false"
noprefix "false"

\end_inset

, where the average value for each SDG is shown.
 As we can see, there are 3 main profiles:
\end_layout

\begin_layout Itemize
The green one is using a lot of fossil fuel per capita (thus, they are not
 very efficient), but punctuate good in the rest of the attributes, although
 being behind the red one.
\end_layout

\begin_layout Itemize
The red one punctuates good in all categories.
\end_layout

\begin_layout Itemize
The blue one punctuate not so good in all categories, except the fossil
 fuels consumed.
 
\end_layout

\begin_layout Standard
This could mean that green line is developing countries (they are approaching
 developed countries but they are not very efficient yet), red line is developed
 countries and blue line is poor countries (low punctuations in all categories,
 and little use of fuels in general).
\end_layout

\begin_layout Standard
According to SDG, red profile is better than the blue (it wins in all categories
), but they will normally not be comparable in such a global way.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado44.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Clusters' results in function of the SDG.
\begin_inset CommandInset label
LatexCommand label
name "fig:lab3-Clusters'-results-in-SDG"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
New-York Airbnb
\end_layout

\begin_layout Enumerate
Explore the data set 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

https://uv.ulb.ac.be/pluginfile.php/3448783/course/section/367881/AB_NYC_2019.csv
\end_layout

\end_inset

.
\end_layout

\begin_layout Enumerate
Using any technique seen so far in the course, can you help us determine
 if a group neighborhood differs from one another in terms of Airbnb offer?
 Determine what is important to you as attributes to define an offer.
\end_layout

\begin_layout Enumerate
Do the same exercise with the sub neighborhoods of Manhattan.
\end_layout

\begin_layout Standard
I have created the following process:
\end_layout

\begin_layout Enumerate
Import data, setting 
\emph on
host_id
\emph default
 as ID.
\end_layout

\begin_layout Enumerate
Filtering examples to those not having missing values.
\end_layout

\begin_layout Enumerate
Select some attributes that seem important in Airbnb to pick an offer.
 I have selected 
\emph on
room_type, price, number of reviews 
\emph default
and 
\emph on
minimum_nights
\emph default
.
\end_layout

\begin_layout Enumerate
Normalize data.
\end_layout

\begin_layout Enumerate
Detect outliers and filter them out.
 Before this, I sample the dataset because it takes long to process all
 distances.
\end_layout

\begin_layout Enumerate
Clustering.
\end_layout

\begin_layout Enumerate
Parallely, I select the latitude, longitude and neighbourhoods to plot the
 clusters in a map-like plot.
\end_layout

\begin_layout Standard
The final process can be seen in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:lab3-Process-of-exercise2"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
The results are shown in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:lab3-Clusters-(left)-andNY"
plural "false"
caps "false"
noprefix "false"

\end_inset

, next to a picture of NY neighbourhoods.
 The size of the circles is given by the price.
 As we can see, the Manhattan area has the most expensive flats.
 The rest of the clusters are sparced through all NY.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado46.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Process of exercise 2.
\begin_inset CommandInset label
LatexCommand label
name "fig:lab3-Process-of-exercise2"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado49.png
	scale 40

\end_inset


\begin_inset Graphics
	filename pegado45.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Clusters (left) and NY neighbourhoods (right).
\begin_inset CommandInset label
LatexCommand label
name "fig:lab3-Clusters-(left)-andNY"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
To repeat the process with the Manhattan neighbourhoods, we just have to
 filter previously with neighbourhood-group equal to Manhattan.
\end_layout

\begin_layout Subsection
Optional
\end_layout

\begin_layout Enumerate
Apply the DBSCAN approach on the 2D fictitious data set (
\begin_inset Flex URL
status open

\begin_layout Plain Layout

https://uv.ulb.ac.be/pluginfile.php/3448783/course/section/367881/Factice_2Dexample.x
lsx
\end_layout

\end_inset

).
 Try yourself different parameters then try:
\end_layout

\begin_deeper
\begin_layout Itemize
Eps = 10
\end_layout

\begin_layout Itemize
Minimum points= 5
\end_layout

\end_deeper
\begin_layout Enumerate
Use the multiply operator to apply simultaneously the DBSCAN, KMEANS and
 KMEDOIDS methods.
 Specify different amount of clusters.
 Observe the results of the KMEANS and KMEDOIDS.
\end_layout

\begin_layout Enumerate
Use eps = 10 and min points = 5 for DBSCAN, and K = 8 for both KMEDOIDS
 and KMEANS.
 Compare each partitioning result of the clustering methods on a scatter
 chart.
 (Results > Charts > Scatter > Color Column : cluster).
 Try to understand the pros and cons of each clustering methods.
\end_layout

\begin_layout Standard
The process is as in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Process-of-optional"
plural "false"
caps "false"
noprefix "false"

\end_inset

 and the results are in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Clusters-of-optional-ex"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 In this case, it seems that DBScan is not the best option (at least with
 the selected parameters) and between k-means and k-medoids, this time k-means
 provides more distinct clusters, but we should check which of the two partition
s make more sense with the actual meaning of the data.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado50.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Process of optional exercise.
\begin_inset CommandInset label
LatexCommand label
name "fig:Process-of-optional"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename pegado51.png
	scale 40

\end_inset


\begin_inset Graphics
	filename pegado52.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado53.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Clusters of optional exercise: DBScan (up-left), k-Means (up-right), k-Medoids
 (bottom).
\begin_inset CommandInset label
LatexCommand label
name "fig:Clusters-of-optional-ex"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Lab session 4: FP-growth
\end_layout

\begin_layout Exercise
Exercise 1 is:
\end_layout

\begin_layout Enumerate
Download the .csv file 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

https://uv.ulb.ac.be/pluginfile.php/3448783/course/section/368392/lab_market_355.csv
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
Import this file in rapidminer
\end_layout

\begin_layout Enumerate
Explore the data (type of attributes, statistics, etc.)
\end_layout

\begin_layout Enumerate
Using a FP-growth algorithm, make some conclusions and association rulesNB:
 You might have to pre-process the data before applying directly the FP-growth
 operator on the data.
 Please, consider reading the information help about the “pivot” operator
 as you might need it.
 Read also carefully what input the FP-growth operator requires.
\end_layout

\begin_layout Standard
To begin with, we should try to understand what is FP-growth:
\end_layout

\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Definition
The 
\series bold
FP-Growth algorithm
\series default
 is an efficient algorithm for calculating frequently co-occurring items
 in a transaction database.
 To understand how it works, let's start with some terminology, using a
 customer transaction as an example: 
\end_layout

\begin_deeper
\begin_layout Itemize
item - any object that is sold on the market 
\end_layout

\begin_layout Itemize
basket - a container for one or more items selected by the customer 
\end_layout

\begin_layout Itemize
itemset - any subset of items that are sold together, in the same shopping
 basket 
\end_layout

\begin_layout Itemize
transaction - the complete set of items in an individual shopping basket,
 at the moment of purchase 
\end_layout

\begin_layout Itemize
transaction database - the complete set of shopping baskets / transactions
 recorded by the merchant 
\end_layout

\end_deeper
\begin_layout Definition
Here, the words "basket" and "transaction" are used interchangably, because
 we identify the customer's shopping basket with the items that were purchased.
 
\end_layout

\begin_layout Definition

\series bold
Frequent Pattern Tree (FP-Tree)
\series default
 is a tree-like structure that is made with the initial itemsets of the
 database.
 The purpose of the FP tree is to mine the most frequent pattern.
 Each node of the FP tree represents an item of the itemset.
\end_layout

\begin_layout Definition
The root node represents null while the lower nodes represent the itemsets.
 The association of the nodes with the lower nodes that is the itemsets
 with the other itemsets are maintained while forming the tree.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
So, let's take a look at our data:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename pegado54.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
We can see what each customer have bought and in which quantity.
 This is not exactly an itemset, so we need to transform this to obtain
 them.
 To achieve this, we are going to pivot the table, with:
\end_layout

\begin_layout Itemize
Group by customerID.
\end_layout

\begin_layout Itemize
Column group by itemID.
\end_layout

\begin_layout Itemize
Aggregate the itemCount by count, i.e., it will be 1 if the item is purchased,
 0 if not.
\end_layout

\begin_layout Standard
For example, we can see a part of the result for customers 1 and 3:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename pegado55.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
Observe that we obtain lots of unknown values, which we will have to fix
 in some way.
 We can also see that items 2 and 3 were bought by customer 3, which is
 true according to the previous picture.
\end_layout

\begin_layout Standard
Now, to deal with missing values, we'll just impute 0s in every unknown
 value.
\end_layout

\begin_layout Standard
Finally, the FP Growth operator requires the attributes to be binomial,
 so we apply a 
\emph on
Numerical to Binomial
\emph default
 operator, without transforming the customerID.
 We set the input format of the FP Growth operator to be 'Items in dummy
 coded columns', which is exactly what we have.
 I have set the 
\emph on
min support
\emph default
 to be 0.1, to be able to get some rules (the support is a measure of how
 sure we are about a rule being true).
\end_layout

\begin_layout Standard
All in all, we get the process in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:lab4-exercise-1--"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado56.png
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:lab4-exercise-1--"

\end_inset

exercise 1 - Process.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
We get rules such as 
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename pegado57.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
which, as can be seen, have little support.
\end_layout

\begin_layout Exercise
Now:
\end_layout

\begin_layout Enumerate
Use the same .csv file than exercise 1
\end_layout

\begin_layout Enumerate
You will consider that a product that is bought more than 3 times can only
 be considered as relevant.
 Therefore, filter the example with the attribute item_count greater or
 equal to 3
\end_layout

\begin_layout Enumerate
Redo the same analysis as above
\end_layout

\begin_layout Enumerate
Compare both results (exercise 1 and exercise 2)
\end_layout

\begin_layout Standard
We just have to apply a filter before pivoting.
\end_layout

\begin_layout Standard
Now, if we see all the rules that conclude item 10, we obtain:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename pegado59.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
As we can see, the rule that was obtained in the first exercise, 
\begin_inset Formula $34\implies10$
\end_inset

, is not derived this time.
\end_layout

\begin_layout Exercise
This time:
\end_layout

\begin_layout Enumerate
Retrieve the data from the Iris data set
\end_layout

\begin_layout Enumerate
Check the data
\end_layout

\begin_layout Enumerate
It is suspected that there might exist association rules (dependence); between
 the three first attributes from the data (a1, a2, a3).
 You are asked to disregard the last attribute a4.
 Discretize each regular attribute into bins (Discretize by bins).
 You may choose the range of the bins and the amount of bins for each attribute.
 It will require one “discretize” operator by attribute if you want to treat
 them differently.
 Then make a conclusion on possible relations between each attribute or
 set of attributes in {a1, a2, a3}.
\end_layout

\begin_layout Enumerate
Now, check if the same rules apply for each label value.
 Or if different rules apply.
 Check their confidence.
\end_layout

\begin_layout Enumerate
Conclude about your results
\end_layout

\end_body
\end_document
