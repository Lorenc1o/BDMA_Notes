<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head><title>BDMA - Massive Graph Management and Analytics</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="TeX4ht (https://tug.org/tex4ht/)" name="generator"/>
<meta content="TeX4ht (https://tug.org/tex4ht/)" name="originator"/>
<!-- html -->
<meta content="summary.tex" name="src"/>
<link href="summary.css" rel="stylesheet" type="text/css"/>
</head><body>
<div class="maketitle">
<h2 class="titleHead">BDMA - Massive Graph Management and Analytics</h2>
<div class="author"><span class="ecrm-1200">Jose Antonio Lorencio Abril</span></div>
<br/>
<div class="date"><span class="ecrm-1200">Fall 2023</span></div>
</div>
<div class="center">
<!--l. 106--><p class="noindent">
<!--l. 107--><p class="noindent"><img alt="PIC" src="0_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___cision-Modeling_LectureNotes_source_CS-logo.png"/>
</p></p></div>
<div class="flushright">
<!--l. 110--><p class="noindent">
 Professor: Nacéra Seghouani
</p></div>
<div class="flushright">
<!--l. 114--><p class="noindent">
 Student e-mail: jose-antonio.lorencio-abril@student-cs.fr
</p></div>
<!--l. 118--><p class="noindent">
<!--l. 125--><p class="noindent">This
is
a
summary
of
the
course
<span class="ecti-1000">Massive</span>
<span class="ecti-1000">Graph</span>
<span class="ecti-1000">Management</span>
<span class="ecti-1000">and</span>
<span class="ecti-1000">Analytics</span>
taught
at
the
Université
Paris
Saclay
-
CentraleSupélec
by
Professor
Nacéra
Seghouani
in
the
academic
year
23/24.
Most
of
the
content
of
this
document
is
adapted
from
the
course
notes
by
Seghouani,
<span class="cite">[<a href="#XSeghouani2023">3</a>]</span>,
so
I
won’t
be
citing
it
all
the
time.
Other
references
                                                                                            
                                                                                            
will
be
provided
when
used.
<h3 class="likesectionHead"><a id="x1-1000"></a>Contents</h3>
<div class="tableofcontents">
 <span class="sectionToc">1 <a href="#x1-20001" id="QQ2-1-2">Introduction</a></span>
<br/> <span class="sectionToc">2 <a href="#x1-30002" id="QQ2-1-3">Preliminaries</a></span>
<br/>  <span class="subsectionToc">2.1 <a href="#x1-40002.1" id="QQ2-1-4">Graph Theory Preliminaries</a></span>
<br/>  <span class="subsectionToc">2.2 <a href="#x1-90002.2" id="QQ2-1-9">Linear Algebra Preliminaries</a></span>
<br/> <span class="sectionToc">3 <a href="#x1-110003" id="QQ2-1-11">Random Walks on Graphs</a></span>
<br/>  <span class="subsectionToc">3.1 <a href="#x1-120003.1" id="QQ2-1-12">First Perron-Frobenius Theorem</a></span>
<br/>  <span class="subsectionToc">3.2 <a href="#x1-130003.2" id="QQ2-1-13">Random Walks on Graphs</a></span>
<br/>  <span class="subsectionToc">3.3 <a href="#x1-180003.3" id="QQ2-1-18">PageRank</a></span>
<br/> <span class="sectionToc">4 <a href="#x1-190004" id="QQ2-1-19">Centrality Measures</a></span>
<br/>  <span class="subsectionToc">4.1 <a href="#x1-200004.1" id="QQ2-1-20">Degree Centrality</a></span>
<br/>  <span class="subsectionToc">4.2 <a href="#x1-210004.2" id="QQ2-1-21">Neighbourhood centrality</a></span>
<br/>  <span class="subsectionToc">4.3 <a href="#x1-220004.3" id="QQ2-1-22">Eigenvector Centrality</a></span>
<br/>  <span class="subsectionToc">4.4 <a href="#x1-230004.4" id="QQ2-1-23">PageRank Centrality</a></span>
<br/>  <span class="subsectionToc">4.5 <a href="#x1-240004.5" id="QQ2-1-24">Katz (or alpha) centrality</a></span>
<br/>  <span class="subsectionToc">4.6 <a href="#x1-250004.6" id="QQ2-1-25">Clustering Coefficient Centrality</a></span>
<br/>  <span class="subsectionToc">4.7 <a href="#x1-260004.7" id="QQ2-1-26">Closeness Centrality</a></span>
<br/>  <span class="subsectionToc">4.8 <a href="#x1-270004.8" id="QQ2-1-27">Betweenness Centrality</a></span>
<br/> <span class="sectionToc">5 <a href="#x1-280005" id="QQ2-1-28">MapReduce Computation Model</a></span>
<br/>  <span class="subsectionToc">5.1 <a href="#x1-290005.1" id="QQ2-1-29">The Map Function</a></span>
<br/>  <span class="subsectionToc">5.2 <a href="#x1-300005.2" id="QQ2-1-30">Shuflling/Grouping Function</a></span>
<br/>  <span class="subsectionToc">5.3 <a href="#x1-310005.3" id="QQ2-1-31">Reduce Function</a></span>
<br/>  <span class="subsectionToc">5.4 <a href="#x1-320005.4" id="QQ2-1-32">MapReduce Execution Model</a></span>
<br/>  <span class="subsectionToc">5.5 <a href="#x1-350005.5" id="QQ2-1-35">Use-Case: Matrix-Vector Multiplication by MapReduce</a></span>
<br/>  <span class="subsectionToc">5.6 <a href="#x1-370005.6" id="QQ2-1-37">Relational Algebra by MapReduce</a></span>
<br/>  <span class="subsectionToc">5.7 <a href="#x1-420005.7" id="QQ2-1-42">Some Issues of MapReduce</a></span>
<br/> <span class="sectionToc">6 <a href="#x1-430006" id="QQ2-1-43">Spark Parallel Computing Framework</a></span>
<br/>  <span class="subsectionToc">6.1 <a href="#x1-440006.1" id="QQ2-1-44">Spark’s Engine Properties and Components</a></span>
<br/>  <span class="subsectionToc">6.2 <a href="#x1-450006.2" id="QQ2-1-45">Spark’s Execution Architecture</a></span>
<br/>  <span class="subsectionToc">6.3 <a href="#x1-460006.3" id="QQ2-1-46">Resilient Distributed Datasets (RDDs)</a></span>
<br/> <span class="sectionToc">7 <a href="#x1-500007" id="QQ2-1-50">Community Detection Approaches</a></span>
<br/>  <span class="subsectionToc">7.1 <a href="#x1-510007.1" id="QQ2-1-51">k-Clique</a></span>
<br/>  <span class="subsectionToc">7.2 <a href="#x1-520007.2" id="QQ2-1-52">k-Core</a></span>
<br/>  <span class="subsectionToc">7.3 <a href="#x1-530007.3" id="QQ2-1-53">Community Detection Problem</a></span>
</div>
<!--l. 129--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">1   </span> <a id="x1-20001"></a>Introduction</h3>
<!--l. 133--><p class="noindent">Graph-structured data is at the heart of complex systems and plays a major role in our daily life, science and economy.
Examples of this data are the cooperation between billions of individuals, or communication infraestructures with
billions of cell phones, computers and satellites, the interactions between thousands of genes and metabolites within our
cells, and so on.
<!--l. 140--><p class="noindent">Therefore, understanding its mathematical foundations, description, prediction, and eventually being able to control
them is one of the major scientific challenges of the 21st century.
<!--l. 144--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">2   </span> <a id="x1-30002"></a>Preliminaries</h3>
<!--l. 146--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a id="x1-40002.1"></a>Graph Theory Preliminaries</h4>
<!--l. 148--><p class="noindent">A graph is a pair <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary0x.png"/>, where <span class="cmmi-10">V </span>is the set of vertices and <span class="cmmi-10">E </span><span class="cmsy-10">⊂ </span><span class="cmmi-10">V </span><span class="cmsy-10">× </span><span class="cmmi-10">V </span>is the set of edges. Usually, we denote
<img align="middle" alt="|V |" class="left" src="summary1x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">n </span>and <img align="middle" alt="|E |" class="left" src="summary2x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">m</span>.
<!--l. 152--><p class="noindent">There are different types of graphs:
     <ul class="itemize1">
<li class="itemize">
<!--l. 154--><p class="noindent"><span class="ecbx-1000">Undirected</span>: <img align="middle" alt="(u,v)" class="left" src="summary3x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E</span> <img alt="= ⇒" class="Longrightarrow" src="summary4x.png"/><img align="middle" alt="(v,u)" class="left" src="summary5x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E</span>. That is, the edges goes in both directions.
     </p></li>
<li class="itemize">
<!--l. 156--><p class="noindent"><span class="ecbx-1000">Directed</span>: <img align="middle" alt="(u,v)" class="left" src="summary6x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E </span><span class="cmsy-10">⁄</span> <img alt="=⇒" class="Longrightarrow" src="summary7x.png"/><img align="middle" alt="(v,u)" class="left" src="summary8x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E</span>. That is, the edges have direction, and it is possible that an edge
     goes from <span class="cmmi-10">u </span>to <span class="cmmi-10">v</span>, but not the other way.
     </p></li>
<li class="itemize">
<!--l. 159--><p class="noindent"><span class="ecbx-1000">Weigthed vertices</span>: the vertices have a weight. That is, there is a function <span class="cmmi-10">w</span><sub><span class="cmmi-7">v</span></sub> <span class="cmr-10">: </span><span class="cmmi-10">V </span><span class="cmsy-10">→ </span><span class="msbm-10">ℝ</span>.
     </p></li>
<li class="itemize">
<!--l. 161--><p class="noindent"><span class="ecbx-1000">Weigthed edges</span>: the edges have a weight. That is, there is a function <span class="cmmi-10">w</span><sub><span class="cmmi-7">e</span></sub> <span class="cmr-10">: </span><span class="cmmi-10">E </span><span class="cmsy-10">→ </span><span class="msbm-10">ℝ</span>.
     </p></li>
<li class="itemize">
<!--l. 163--><p class="noindent"><span class="ecbx-1000">Labeled vertices</span>: the vertices have a label, <span class="cmmi-10">L</span><sub><span class="cmmi-7">v</span></sub> <span class="cmr-10">: </span><span class="cmmi-10">V </span><span class="cmsy-10">→<img alt="L" class="10x-x-4c" src="cmsy10-4c.png"/></span>, where <span class="cmsy-10"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"> </img></span>is the set of labels.
     </p></li>
<li class="itemize">
<!--l. 165--><p class="noindent"><span class="ecbx-1000">Labeled edges</span>: the edges have a label, <span class="cmmi-10">L</span><sub><span class="cmmi-7">e</span></sub> <span class="cmr-10">: </span><span class="cmmi-10">E </span><span class="cmsy-10">→<img alt="L" class="10x-x-4c" src="cmsy10-4c.png"/></span>.
     </p></li>
<li class="itemize">
<!--l. 166--><p class="noindent"><span class="ecbx-1000">Bipartite</span>: a graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary9x.png"/> is bipartite if there is a partition of the vertices, <span class="cmmi-10">V </span><span class="cmr-10">= </span><span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">∪ </span><span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub>, such that
     <span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">∩ </span><span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><span class="cmsy-10">∅ </span>and <span class="cmmi-10">E </span><span class="cmr-10">= </span><img align="middle" alt="{(vi,vj)|vi ∈ V1,vj ∈ Vj}" class="left" src="summary10x.png"/>. That is, the vertices in <span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub> only connect to vertices in
     <span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub>, and viceversa.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 171--><p class="noindent"><span class="cmmi-10">k</span><span class="ecbx-1000">-Partite</span>: a graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary11x.png"/> is <span class="cmmi-10">k</span>-partite if there is a <span class="cmmi-10">k</span>-partition of the vertices, <span class="cmmi-10">V </span><span class="cmr-10">= </span><span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">∪</span><span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub> <span class="cmsy-10">∪</span><span class="cmmi-10">...</span><span class="cmsy-10">∪</span><span class="cmmi-10">V</span> <sub><span class="cmmi-7">k</span></sub>,
     such that <span class="cmmi-10">V</span> <sub><span class="cmmi-7">i</span></sub> <span class="cmsy-10">∩ </span><span class="cmmi-10">V</span> <sub><span class="cmmi-7">j</span></sub> <span class="cmr-10">= </span><span class="cmsy-10">∅</span><span class="cmmi-10">,</span><span class="cmsy-10">∀</span><span class="cmmi-10">i</span><span class="cmmi-10">≠</span><span class="cmmi-10">j </span>and the is no edge <span class="cmmi-10">e </span><span class="cmr-10">= </span><img align="middle" alt="(u,v)" class="left" src="summary12x.png"/> such that <span class="cmmi-10">u,v </span><span class="cmsy-10">∈ </span><span class="cmmi-10">V</span> <sub><span class="cmmi-7">i</span></sub>, for the same <span class="cmmi-10">i</span>.
     </p></li>
<li class="itemize">
<!--l. 176--><p class="noindent"><span class="ecbx-1000">Multigraph </span>or <span class="ecbx-1000">multidigraph</span>: in this case, there can be several edges between two vertices. For this, we
     define the edges as a separate set <span class="cmmi-10">E</span>, and a function <span class="cmmi-10">r </span><span class="cmr-10">: </span><span class="cmmi-10">E </span><span class="cmsy-10">→ </span><span class="cmmi-10">V </span><span class="cmsy-10">× </span><span class="cmmi-10">V </span>, that assigns the vertices related by
     that edge.
     </p></li>
<li class="itemize">
<!--l. 180--><p class="noindent"><span class="ecbx-1000">Hypergraph</span>: in this case, <span class="cmmi-10">E </span><span class="cmsy-10">⊂ </span><span class="cmr-10">2</span><sup><span class="cmmi-7">V</span> </sup>. That it, the edges can relate 0 or more vertices. In this case, it is
     more appropriate to interpret <span class="cmmi-10">E </span>as a set of classes or hierarchies, rather than edges.
     </p></li>
<li class="itemize">
<!--l. 184--><p class="noindent"><span class="ecbx-1000">Complete</span>: a graph is complete if <span class="cmmi-10">E </span><span class="cmr-10">= </span><span class="cmmi-10">V </span><span class="cmsy-10">× </span><span class="cmmi-10">V </span>.</p></li></ul>
<!--l. 186--><p class="noindent">Some examples are:
<div class="center">
<!--l. 187--><p class="noindent">
<!--l. 188--><p class="noindent"><img alt="PIC" src="1_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___ement-Analytics_LectureNotes_source_pegado1.png"/>
</p></p></div>
<!--l. 191--><p class="noindent">Continuing with definitions, let <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary13x.png"/> be a graph (directed or undirected). Let <span class="cmmi-10">d</span><sub><span class="cmmi-7">i</span></sub><sup><span class="cmr-7">+</span></sup> and <span class="cmmi-10">d</span><sub><span class="cmmi-7">i</span></sub><sup><span class="cmsy-7">-</span></sup> denote the number of
edges coming out and coming to <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub>, respectively. The <span class="ecbx-1000">degree </span>of <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub> is
<div class="math-display">
<img alt="     +    -
di = di + di .
" class="math-display" src="summary14x.png"/></div>
<!--l. 198--><p class="noindent">Note that it counts double for undirected graphs.
<!--l. 200--><p class="noindent">Now, let <span class="cmmi-10">N</span><sub><span class="cmmi-7">i</span></sub><sup><span class="cmr-7">+</span></sup> and <span class="cmmi-10">N</span><sub><span class="cmmi-7">i</span></sub><sup><span class="cmsy-7">-</span></sup> the set of successors and predecessors of <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub>, respectively. Then, the set of <span class="ecbx-1000">neighbors </span>of <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub>
is
<div class="math-display">
<img alt="N  = N+ + N -.
  i   i     i
" class="math-display" src="summary15x.png"/></div>
<!--l. 207--><p class="noindent">A <span class="ecbx-1000">path </span>between two vertices, <span class="cmmi-10">u,v </span><span class="cmsy-10">∈ </span><span class="cmmi-10">V </span>, denoted <span class="cmmi-10">u </span><span class="msam-10">⇝ </span><span class="cmmi-10">v</span>, is a sequence of vertices <img align="middle" alt="(u = v0,v1,...,vk- 1,vk = v)" class="left" src="summary16x.png"/>, where
<img align="middle" alt="(vi-1,vi)" class="left" src="summary17x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E,</span><span class="cmsy-10">∀</span><span class="cmmi-10">i </span><span class="cmr-10">= 1</span><span class="cmmi-10">,...,k</span>. The length of a path, <span class="cmmi-10">L</span><img align="middle" alt="(u ⇝ v)" class="left" src="summary18x.png"/>, is the number of edges in the cycle, that is,
<span class="cmmi-10">k</span>.
<!--l. 213--><p class="noindent">A <span class="ecbx-1000">cycle </span>is a path from a vertex to itself, <span class="cmmi-10">u </span><span class="msam-10">⇝ </span><span class="cmmi-10">u</span>.
<!--l. 215--><p class="noindent">The <span class="ecbx-1000">distance </span>between two nodes, <span class="cmmi-10">d</span><img align="middle" alt="(u,v)" class="left" src="summary19x.png"/>, is the shortest path length between them:
<div class="math-display">
<img alt="d (u,v) = minL (u ⇝ v).
         u⇝v
" class="math-display" src="summary20x.png"/></div>
<!--l. 221--><p class="noindent">The <span class="ecbx-1000">eccentricity </span>of a node, <span class="cmmi-10">ecc</span><img align="middle" alt="(u)" class="left" src="summary21x.png"/>, is the greatest distance between <span class="cmmi-10">u </span>and any other vertex in the graph:
<div class="math-display">
<img alt="ecc (u) = mva∈xV d (u,v) .
" class="math-display" src="summary22x.png"/></div>
<!--l. 227--><p class="noindent">Note that this could be infinity if we cannot reach some node from <span class="cmmi-10">u</span>. Usually, we consider only reachable nodes,
because this can give us information about the graph, but a value of infinity is not very informative.
<!--l. 232--><p class="noindent">The <span class="ecbx-1000">diameter </span>of a graph, <span class="cmmi-10">diam</span><img align="middle" alt="(G )" class="left" src="summary23x.png"/>, is the greatest distance between two nodes in the graph:
<div class="math-display">
<img alt="diam (G) = max d(u,v) = max ecc(u).
          u,v∈V         u∈V
" class="math-display" src="summary24x.png"/></div>
<!--l. 237--><p class="noindent">The <span class="ecbx-1000">radius </span>of a graph, <span class="cmmi-10">rad</span><img align="middle" alt="(G )" class="left" src="summary25x.png"/>, is the minimum eccentricity of any vertex in the graph:
<div class="math-display">
<img alt="rad(G) = mui∈nV ecc(u ).
" class="math-display" src="summary26x.png"/></div>
<!--l. 243--><p class="noindent">The <span class="ecbx-1000">center </span>of a graph, <span class="cmmi-10">C</span><img align="middle" alt="(G)" class="left" src="summary27x.png"/>, is the set of all vertices of minimum eccentricity, i.e., the graph radius:
<div class="math-display">
<img alt="C (G) = {u : ecc(u) = rad (G )}.
" class="math-display" src="summary28x.png"/></div>
<div class="newtheorem">
<!--l. 249--><p class="noindent"><span class="head">
<a id="x1-4001r1"></a>
<span class="ecbx-1000">Example 2.1.</span> </span>Compute the diameter, radius and center of the following graphs:
<div class="center">
<!--l. 251--><p class="noindent">
<!--l. 252--><p class="noindent"><img alt="PIC" src="2_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___ement-Analytics_LectureNotes_source_pegado2.png"/>
</p></p></div>
<!--l. 255--><p class="noindent">The solution is the following:
<div class="center">
<!--l. 256--><p class="noindent">
<!--l. 257--><p class="noindent"><img alt="PIC" src="3_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___tureNotes_source_graphs_examples_drawio__1_.png"/>
</p></p></div>
<!--l. 260--><p class="noindent">In each node, we show its eccentricity. The diameter is 6, the radius is 3 and the center is <span class="cmmi-10">c </span>(in blue).
<div class="center">
<!--l. 262--><p class="noindent">
<!--l. 263--><p class="noindent"><img alt="PIC" src="4_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___ement-Analytics_LectureNotes_source_pegado3.png"/>
</p></p></div>
<!--l. 266--><p class="noindent">Solution:
                                                                                            
                                                                                            
<div class="center">
<!--l. 267--><p class="noindent">
<!--l. 268--><p class="noindent"><img alt="PIC" src="5_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___LectureNotes_source_graphs_examples_drawio2.png"/>
</p></p></div>
<!--l. 271--><p class="noindent">In this case, the diameter is 5, the radius is 3 and the center is <img align="middle" alt="{c,h}" class="left" src="summary29x.png"/>.
</p></p></p></p></p></div>
<!--l. 273--><p class="noindent">
A <span class="ecbx-1000">partial graph </span>of <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary30x.png"/> is a graph <span class="cmmi-10">G</span><span class="cmsy-10">′ </span><span class="cmr-10">= </span><img align="middle" alt="(V,E ′)" class="left" src="summary31x.png"/>, where <span class="cmmi-10">E</span><span class="cmsy-10">′⊂ </span><span class="cmmi-10">E</span>.
<!--l. 277--><p class="noindent">A <span class="ecbx-1000">subgraph </span>of <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary32x.png"/> is a graph <span class="cmmi-10">G</span><span class="cmsy-10">′ </span><span class="cmr-10">= </span><img align="middle" alt="  ′  ′
(V ,E )" class="left" src="summary33x.png"/> where <span class="cmmi-10">V </span><span class="cmsy-10">′⊂ </span><span class="cmmi-10">V </span>and <span class="cmmi-10">E</span><span class="cmsy-10">′⊂ </span><span class="cmmi-10">E</span>. Note that partial graphs are also
subgraphs.
<!--l. 281--><p class="noindent">A graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary34x.png"/> is said to be <span class="ecbx-1000">connected </span>if, and only if, <span class="cmsy-10">∀</span><span class="cmmi-10">u,v </span><span class="cmsy-10">∈ </span><span class="cmmi-10">V,</span><span class="cmsy-10">∃</span><span class="cmmi-10">u </span><span class="msam-10">⇝ </span><span class="cmmi-10">v</span>.
<!--l. 284--><p class="noindent">A (strongly) <span class="ecbx-1000">connected component </span>of <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary35x.png"/> is a subgraph <span class="cmmi-10">G</span><sub><span class="cmmi-7">cc</span></sub> <span class="cmr-10">= </span><img align="middle" alt="(Vcc,Ecc)" class="left" src="summary36x.png"/>, where <span class="cmsy-10">∀</span><span class="cmmi-10">u,v </span><span class="cmsy-10">∈ </span><span class="cmmi-10">V</span> <sub><span class="cmmi-7">cc</span></sub><span class="cmmi-10">,</span><span class="cmsy-10">∃</span><span class="cmmi-10">u </span><span class="msam-10">⇝ </span><span class="cmmi-10">v </span><span class="cmsy-10">∈ </span><span class="cmmi-10">V</span> <sub><span class="cmmi-7">cc</span></sub>.
That it, a connected subgraph. It is called strongly when the paths are directed.
<!--l. 289--><p class="noindent">A graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary37x.png"/> is a <span class="ecbx-1000">tree </span>if, and only if, <span class="cmmi-10">G </span>is a connected graph without cycles. In this case, the graph has
<span class="cmmi-10">m </span><span class="cmr-10">= </span><span class="cmmi-10">n </span><span class="cmsy-10">- </span><span class="cmr-10">1 </span>edges.
<!--l. 293--><p class="noindent">A graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary38x.png"/> is a <span class="ecbx-1000">forest </span>if, and only if, all connected components of <span class="cmmi-10">G </span>are trees.
<!--l. 296--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">2.1.1   </span> <a id="x1-50002.1.1"></a>Breadth First Search (BFS)</h5>
<!--l. 298--><p class="noindent">BFS is a method to traverse the nodes of a graph, by starting at one node and traversing all its neighbours. Then, all
neighbours of its neighbours, and so on.
<!--l. 302--><p class="noindent">For this, we use a FIFO queue. The algorithm is:
<!--l. 304-->
<div class="lstlisting" id="listing-1"><span class="label"><a id="x1-5001r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">BFS</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5002r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emptyset</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5003r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">enqueue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5004r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">True</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5005r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5006r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5007r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dequeue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5008r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5009r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5010r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">enqueue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5011r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">True</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5012r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5013r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5014r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-5015r15"></a><span class="ecrm-0500">15</span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span></div>
<div class="newtheorem">
<!--l. 323--><p class="noindent"><span class="head">
<a id="x1-5016r2"></a>
<span class="ecbx-1000">Example 2.2.</span> </span>Apply BFS in the following graph, starting at node A.
<div class="center">
<!--l. 325--><p class="noindent">
<!--l. 326--><p class="noindent"><img alt="PIC" src="6_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___agement-Analytics_LectureNotes_source_bfs_1.png"/>
</p></p></div>
<!--l. 329--><p class="noindent">Q=[A]. We visit A’s neighbours:
                                                                                            
                                                                                            
<div class="center">
<!--l. 330--><p class="noindent">
<!--l. 331--><p class="noindent"><img alt="PIC" src="7_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___agement-Analytics_LectureNotes_source_bfs_2.png"/>
</p></p></div>
<!--l. 334--><p class="noindent">Q=[F,G]. Now, by lexycographical order, we visit F’s neighbours:
<div class="center">
<!--l. 335--><p class="noindent">
<!--l. 336--><p class="noindent"><img alt="PIC" src="8_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___agement-Analytics_LectureNotes_source_bfs_3.png"/>
</p></p></div>
<!--l. 339--><p class="noindent">Q=[G,B,E]. Now, we visit G’s neighbours. Since it has no new unvisited neighbours, there is no change.
<!--l. 342--><p class="noindent">Q=[B,E]. Now, we visit B’s neighbours:
<div class="center">
<!--l. 343--><p class="noindent">
<!--l. 344--><p class="noindent"><img alt="PIC" src="9_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___agement-Analytics_LectureNotes_source_bfs_4.png"/>
</p></p></div>
<!--l. 347--><p class="noindent">Q=[E,C]. Now, we visit E’s neighbours:
<div class="center">
<!--l. 348--><p class="noindent">
<!--l. 349--><p class="noindent"><img alt="PIC" src="10_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___agement-Analytics_LectureNotes_source_bfs_5.png"/>
</p></p></div>
<!--l. 352--><p class="noindent">Q=[C,D]. Everything is visited, so the queue will be slowly emptied!
</p></p></p></p></p></p></p></div>
<!--l. 353--><p class="noindent">
<!--l. 355--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">2.1.2   </span> <a id="x1-60002.1.2"></a>Depth First Search (DFS)</h5>
<!--l. 357--><p class="noindent">In the case of DFS, the objective is also to traverse the whole graph. The difference is that in this case we try to go as
deep as we can in the graph before visiting more neighbours.
<!--l. 361--><p class="noindent">It can be implemented with a stack, let it be a explicit stack, or an implicit one.
<!--l. 364--><p class="noindent">The implementation with an explicit stack is the following:
<!--l. 366-->
<div class="lstlisting" id="listing-2"><span class="label"><a id="x1-6001r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">DFS</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6002r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emptyset</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6003r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">push</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6004r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6005r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">pop</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6006r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6007r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">true</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6008r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6009r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">push</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6010r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6011r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6012r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6013r13"></a><span class="ecrm-0500">13</span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span></div>
<!--l. 383--><p class="noindent">The implementation with an implicit stack is recursive, and is as follows:
<!--l. 386-->
<div class="lstlisting" id="listing-3"><span class="label"><a id="x1-6014r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">BFS</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6015r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emptyset</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6016r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">enqueue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6017r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">True</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6018r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6019r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6020r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dequeue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6021r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6022r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6023r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">enqueue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6024r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">True</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6025r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6026r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6027r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">whileDFS</span></span><span style="color:#000000"><span class="ectt-0800">*(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6028r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">true</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6029r16"></a><span class="ecrm-0500">16</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6030r17"></a><span class="ecrm-0500">17</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">label</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6031r18"></a><span class="ecrm-0500">18</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">DFS</span></span><span style="color:#000000"><span class="ectt-0800">*(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6032r19"></a><span class="ecrm-0500">19</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6033r20"></a><span class="ecrm-0500">20</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-6034r21"></a><span class="ecrm-0500">21</span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span></div>
<div class="newtheorem">
<!--l. 411--><p class="noindent"><span class="head">
<a id="x1-6035r3"></a>
<span class="ecbx-1000">Example 2.3.</span> </span>Let’s repeat the example, now using DFS:
<div class="center">
<!--l. 413--><p class="noindent">
<!--l. 414--><p class="noindent"><img alt="PIC" src="6_home_runner_work_BDMA_Notes_BDMA_Notes_Paris-___agement-Analytics_LectureNotes_source_bfs_1.png"/><img alt="PIC" src="11_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___agement-Analytics_LectureNotes_source_dfs_1.png"/><img alt="PIC" src="12_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___agement-Analytics_LectureNotes_source_dfs_2.png"/>
</p></p></div>
<div class="center">
<!--l. 417--><p class="noindent">
<!--l. 418--><p class="noindent"><img alt="PIC" src="13_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___agement-Analytics_LectureNotes_source_dfs_3.png"/><img alt="PIC" src="14_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___agement-Analytics_LectureNotes_source_dfs_4.png"/><img alt="PIC" src="15_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___agement-Analytics_LectureNotes_source_dfs_5.png"/>
</p></p></div>
<div class="center">
<!--l. 421--><p class="noindent">
<!--l. 422--><p class="noindent"><img alt="PIC" src="16_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___agement-Analytics_LectureNotes_source_dfs_6.png"/>
</p></p></div>
</p></div>
<!--l. 424--><p class="noindent">
<!--l. 426--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">2.1.3   </span> <a id="x1-70002.1.3"></a>Greaph Representations</h5>
<!--l. 428--><p class="noindent">A graph, <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary39x.png"/>, with <span class="cmmi-10">n </span>vertices and <span class="cmmi-10">m </span>edges can be encoded using different structures:
     <ul class="itemize1">
<li class="itemize">
<!--l. 431--><p class="noindent"><span class="ecbx-1000">Adjacency matrix</span>: a matrix <span class="cmmi-10">A </span><span class="cmsy-10">∈<img alt="M" class="10x-x-4d" src="cmsy10-4d.png"/></span><sub><span class="cmmi-7">n</span><span class="cmsy-7">×</span><span class="cmmi-7">n</span></sub>, defined by
<div class="math-display">
<img alt="     {
Aij =  1  if, (vi,vj) ∈ E .
       0  otherwise
" class="math-display" src="summary40x.png"/></div>
<!--l. 439--><p class="noindent">The adjacency matrix is symmetric for undirected graphs.
     </p></p></li>
<li class="itemize">
<!--l. 440--><p class="noindent"><span class="ecbx-1000">Adjacency list</span>: a list <span class="cmmi-10">L </span>of length <span class="cmmi-10">n </span>in which each vertex holds a list of its neighbours:
<div class="math-display">
<img alt="∀u ∈ V,L = {v|(u,v) ∈ E}.
        u
" class="math-display" src="summary41x.png"/></div>
<!--l. 445--><p class="noindent">If <span class="cmmi-10">G </span>is directed, the choice of the direction depends on the analytic needs.
     </p></p></li>
<li class="itemize">
<!--l. 447--><p class="noindent"><span class="ecbx-1000">Incidence matrix</span>: a matrix <span class="cmmi-10">B </span><span class="cmsy-10">∈<img alt="M" class="10x-x-4d" src="cmsy10-4d.png"/></span><sub><span class="cmmi-7">n</span><span class="cmsy-7">×</span><span class="cmmi-7">m</span></sub>, defined by
<div class="math-display">
<img alt="      {
Bij =  1  if ej = (vi,vk) ∈ E .
       0  otherwise
" class="math-display" src="summary42x.png"/></div>
</p></li></ul>
<!--l. 457--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">2.1.4   </span> <a id="x1-80002.1.4"></a>Exercises</h5>
<!--l. 458--><p class="noindent">
<ol class="enumerate1">
<li class="enumerate" id="x1-8002x1">
<!--l. 459--><p class="noindent">Using graph traversal algorithms, propose an algorithm that computes the number of edges between a
     given vertex and all other vertices.
     <!--l. 462-->
<div class="lstlisting" id="listing-4"><span class="label"><a id="x1-8003r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">n_edges</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8004r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emptyset</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8005r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">enqueue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8006r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">n_edges</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">0</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8007r5"></a><span class="ecrm-0500">5</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8008r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8009r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dequeue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8010r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8011r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">n_edges</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8012r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">enqueue</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8013r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">n_edges</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">n_edges</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">+</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">1</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8014r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8015r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8016r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8017r15"></a><span class="ecrm-0500">15</span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span></div>
</p></li>
<li class="enumerate" id="x1-8019x2">
<!--l. 481--><p class="noindent">Given the following cycles with even and odd lengths (with the distances or depths from the grey vertex), what do
     you think about the case of graphs with an odd cycle (in number of edges)? Is this a characteristic property?
     State the general case.
     <div class="center">
<!--l. 485--><p class="noindent">
<!--l. 486--><p class="noindent"><img alt="PIC" src="17_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ement-Analytics_LectureNotes_source_pegado4.png"/>
</p></p></div>
<!--l. 489--><p class="noindent"><span class="ecbx-1000">Proposition</span>: a graph contains a cycle <span class="cmmi-10">C </span>with an odd number of edges if, and only if, <span class="cmsy-10">∃</span><img align="middle" alt="(x,y)" class="left" src="summary43x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E</span><span class="cmsy-10">|</span><span class="cmmi-10">depth</span><img align="middle" alt="(x )" class="left" src="summary44x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">depth</span><img align="middle" alt="  (y)" class="left" src="summary45x.png"/>.
     <!--l. 492--><p class="noindent"><span class="ecti-1000">Proof </span>: first, we know that all edges connect vertices of ’neighbouring’ depths. That it, <span class="cmsy-10">∀</span><img align="middle" alt="(x,y)" class="left" src="summary46x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E, </span>it holds
     <img align="middle" alt="|depth (x)- depth (y)|" class="left" src="summary47x.png"/><span class="cmsy-10">≤ </span><span class="cmr-10">1</span>.
     <!--l. 495--><p class="noindent"><img align="middle" alt="[ = ⇒ ]" class="left" src="summary48x.png"/> By reduction ad absurdum, seeking a contradiction, suppose that <span class="cmsy-10">∀</span><img align="middle" alt="(x,y)" class="left" src="summary49x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">C</span>, with <span class="cmmi-10">depth</span><img align="middle" alt="(x)" class="left" src="summary50x.png"/><span class="cmmi-10">≠</span><span class="cmmi-10">depth</span><img align="middle" alt="(y)" class="left" src="summary51x.png"/>.
     This means that <span class="cmmi-10">depth</span><img align="middle" alt="(x)" class="left" src="summary52x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">depth</span><img align="middle" alt="(y)" class="left" src="summary53x.png"/> <span class="cmsy-10">± </span><span class="cmr-10">1</span>. Therefore, there is, along the cycle, a node of even depth, followed by a
     node of odd lenght, and so on. When we close the cycle, the final node is the inicial one, so its depth is 0 (even).
     Therefore, we need an even number of edges, to conserve the parity.
     <!--l. 503--><p class="noindent"><img align="middle" alt="[ ⇐= ]" class="left" src="summary54x.png"/> If there is an edge <img align="middle" alt="(x,y)" class="left" src="summary55x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E </span>with <span class="cmmi-10">depth</span><img align="middle" alt="(x)" class="left" src="summary56x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">depth</span><img align="middle" alt="(y)" class="left" src="summary57x.png"/>, then we can consider the path tree that was used
     to annotate the depths. In this tree, <span class="cmmi-10">x </span>and <span class="cmmi-10">y </span>have a first ancestor <span class="cmmi-10">z </span>in common, from which we can form an odd
     cycle of size <span class="cmr-10">2 </span><span class="cmsy-10">⋅</span><img align="middle" alt="(depth(x)- depth (z))" class="left" src="summary58x.png"/> <span class="cmr-10">+ 1 </span>by adding the edge <img align="middle" alt="(x,y)" class="left" src="summary59x.png"/> to this subtree starting at
     <span class="cmmi-10">z</span>.
     </p></p></p></p></p></li>
<li class="enumerate" id="x1-8021x3">
<!--l. 510--><p class="noindent">Propose an algorithm that determines if a graph contains an odd cycle.
     <!--l. 512-->
<div class="lstlisting" id="listing-5"><span class="label"><a id="x1-8022r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">hasOddCycle</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8023r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertex</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">from</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8024r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">depths</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">n_edges</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800">from</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">the</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">first</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">exercise</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8025r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8026r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8027r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">depth</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">==</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">depth</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8028r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">return</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">True</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8029r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8030r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8031r10"></a><span class="ecrm-0500">10</span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span></div>
</p></li>
<li class="enumerate" id="x1-8033x4">
<!--l. 526--><p class="noindent">In a bipartite graph, can there be a cycle with an odd number of edges? Is this a characteristic
     property?
     <!--l. 529--><p class="noindent">No, it is not possible!
     <!--l. 531--><p class="noindent"><span class="ecbx-1000">Proposition</span>: A graph is bipartite if, and only if, all cycles are of even size.
     <!--l. 534--><p class="noindent"><img align="middle" alt="[ = ⇒ ]" class="left" src="summary60x.png"/> If the graph is bipartite, any path alternates between each vertex of each partition to create a cycle ending
     by the initial vertex. Therefore, all cycles must be of even size.
     <!--l. 538--><p class="noindent"><img align="middle" alt="[ ⇐= ]" class="left" src="summary61x.png"/> Consider the partition of vertices with even depth <span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub>, and the partition of vertices with odd depth
     <span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub>.
     <!--l. 542--><p class="noindent">Since there is no odd cycle, then, from question 2, we know that <span class="cmsy-10">∀</span><img align="middle" alt="(u,v)" class="left" src="summary62x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E </span>it is <span class="cmmi-10">depth</span><img align="middle" alt="(u)" class="left" src="summary63x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">depth</span><img align="middle" alt="(v)" class="left" src="summary64x.png"/> <span class="cmsy-10">± </span><span class="cmr-10">1</span>.
     Therefore, the graph is bipartite.
     </p></p></p></p></p></p></li>
<li class="enumerate" id="x1-8035x5">
<!--l. 545--><p class="noindent">Propose an algorithm that allows to determine if a graph is bipartite. Test your algorithm in the following graph.
     Is it bipartite? Justify your answer.
     <div class="center">
<!--l. 548--><p class="noindent">
<!--l. 549--><p class="noindent"><img alt="PIC" src="18_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ement-Analytics_LectureNotes_source_pegado5.png"/>
</p></p></div>
<!--l. 552--><p class="noindent">The algorithm is the same as in exercise 3, because of exercise 4.
     <!--l. 554--><p class="noindent">The proposed graph is clearly not bipartite, because there are several odd cycles.
     </p></p></p></li>
<li class="enumerate" id="x1-8037x6">
<!--l. 556--><p class="noindent">Graph coloring is a way of coloring the vertices of a graph in such a way that no two adjacent vertices share the
     same color. A 2-colorable graph is a graph that can be colored with only 2 colors.
         <ol class="enumerate2">
<li class="enumerate" id="x1-8039x1">
<!--l. 560--><p class="noindent">What is the link with the previous exercise? Justify your answer.
         <!--l. 562--><p class="noindent"><span class="ecbx-1000">Proposition</span>: a graph is 2-colorable if, and only if, it is bipartite.
         <!--l. 565--><p class="noindent"><span class="ecti-1000">Proof </span>: <img align="middle" alt="[ =⇒ ]" class="left" src="summary65x.png"/> If it is 2-colorable, with colors red and blue. Then we take <span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= </span><img align="middle" alt="{u|color(u) = blue}" class="left" src="summary66x.png"/>
         and <span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><img align="middle" alt="{u|color(u) = red}" class="left" src="summary67x.png"/>. <span class="cmmi-10">G </span>is clearly bipartite with this partition.
         <!--l. 570--><p class="noindent"><img align="middle" alt="[ ⇐= ]" class="left" src="summary68x.png"/> If it is bipartite, with partition <span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub> and <span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub>, then we can color all nodes in <span class="cmmi-10">V</span> <sub><span class="cmr-7">1</span></sub> in blue, and all
         nodes in <span class="cmmi-10">V</span> <sub><span class="cmr-7">2</span></sub> in red. The graph is 2-colorable.
         </p></p></p></p></li>
<li class="enumerate" id="x1-8041x2">
<!--l. 573--><p class="noindent">We want to write an algorithm, inspired by DFS search, which takes as input a graph, <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary69x.png"/>,
         and which returns a pair <img align="middle" alt="(result,color)" class="left" src="summary70x.png"/> where <span class="cmmi-10">result </span>is True if the graph is colorable, False otherwise,
         and <span class="cmmi-10">color </span>is a dictionary associating a color 0 or 1 to each vertex. This algorithm should stop as soon
         as possible when the graph is not 2-colorable.
         <!--l. 580-->
<div class="lstlisting" id="listing-6"><span class="label"><a id="x1-8042r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">coloring</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8043r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">0}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8044r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">stack</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emptyset</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8045r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">push</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">stack</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8046r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8047r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">stack</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8048r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">pop</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">stack</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8049r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8050r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neigh</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">keys</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8051r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">push</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">stack</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neigh</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8052r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">1</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8053r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">elif</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8054r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">return</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">False</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8055r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8056r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8057r16"></a><span class="ecrm-0500">16</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8058r17"></a><span class="ecrm-0500">17</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">return</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">True</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">color</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8059r18"></a><span class="ecrm-0500">18</span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span></div>
</p></li></ol>
</p></li>
<li class="enumerate" id="x1-8061x7">
<!--l. 603--><p class="noindent">Compute the shortest path in the following graph using Dijkstra’s algorithm, starting at A:
     <!--l. 606-->
<div class="lstlisting" id="listing-7"><span class="label"><a id="x1-8062r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dijkstra</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8063r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">:0}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8064r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emptyset</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8065r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8066r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">-{</span></span><span style="color:#000000"><span class="ectt-0800">r</span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8067r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">infinity</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8068r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8069r8"></a><span class="ecrm-0500">8</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8070r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8071r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">select</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">and</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]=</span></span><span style="color:#000000"><span class="ectt-0800">min_u</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800">])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8072r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">union</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8073r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">do</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8074r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">]+</span></span><span style="color:#000000"><span class="ectt-0800">weight</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8075r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">]+</span></span><span style="color:#000000"><span class="ectt-0800">wight</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">neig</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8076r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8077r16"></a><span class="ecrm-0500">16</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8078r17"></a><span class="ecrm-0500">17</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-8079r18"></a><span class="ecrm-0500">18</span></span><span style="color:#FF00FF"><span class="ectt-0800">end</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">procedure</span></span></div>
<div class="center">
<!--l. 628--><p class="noindent">
<!--l. 629--><p class="noindent"><img alt="PIC" src="19_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___nt-Analytics_LectureNotes_source_dijkstra_1.png"/>
</p></p></div>
<!--l. 632--><p class="noindent">We start with: dist = <!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-2"><colgroup id="TBL-2-1g"><col id="TBL-2-1"/></colgroup><colgroup id="TBL-2-2g"><col id="TBL-2-2"/></colgroup><colgroup id="TBL-2-3g"><col id="TBL-2-3"/></colgroup><colgroup id="TBL-2-4g"><col id="TBL-2-4"/></colgroup><colgroup id="TBL-2-5g"><col id="TBL-2-5"/></colgroup><colgroup id="TBL-2-6g"><col id="TBL-2-6"/></colgroup><colgroup id="TBL-2-7g"><col id="TBL-2-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-2-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-2-1-1" style="white-space:nowrap; text-align:center;">A</td><td class="td11" id="TBL-2-1-2" style="white-space:nowrap; text-align:center;">B</td><td class="td11" id="TBL-2-1-3" style="white-space:nowrap; text-align:center;">C</td><td class="td11" id="TBL-2-1-4" style="white-space:nowrap; text-align:center;">D</td><td class="td11" id="TBL-2-1-5" style="white-space:nowrap; text-align:center;">E</td><td class="td11" id="TBL-2-1-6" style="white-space:nowrap; text-align:center;"> F </td><td class="td11" id="TBL-2-1-7" style="white-space:nowrap; text-align:center;">G</td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-2-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-2-2-1" style="white-space:nowrap; text-align:center;"> 0 </td> <td class="td11" id="TBL-2-2-2" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-2-2-3" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-2-2-4" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-2-2-5" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-2-2-6" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-2-2-7" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-2-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-2-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>, and <span class="cmmi-10">P </span><span class="cmr-10">= </span><span class="cmsy-10">∅</span>.
     <!--l. 654--><p class="noindent">Now, <span class="cmmi-10">w </span><span class="cmr-10">= </span><span class="cmmi-10">A </span>and <span class="cmmi-10">P </span><span class="cmr-10">= </span><img align="middle" alt="{A }" class="left" src="summary71x.png"/>. We update dist = <!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-3"><colgroup id="TBL-3-1g"><col id="TBL-3-1"/></colgroup><colgroup id="TBL-3-2g"><col id="TBL-3-2"/></colgroup><colgroup id="TBL-3-3g"><col id="TBL-3-3"/></colgroup><colgroup id="TBL-3-4g"><col id="TBL-3-4"/></colgroup><colgroup id="TBL-3-5g"><col id="TBL-3-5"/></colgroup><colgroup id="TBL-3-6g"><col id="TBL-3-6"/></colgroup><colgroup id="TBL-3-7g"><col id="TBL-3-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-3-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-3-1-1" style="white-space:nowrap; text-align:center;">A</td><td class="td11" id="TBL-3-1-2" style="white-space:nowrap; text-align:center;">B</td><td class="td11" id="TBL-3-1-3" style="white-space:nowrap; text-align:center;">C</td><td class="td11" id="TBL-3-1-4" style="white-space:nowrap; text-align:center;">D</td><td class="td11" id="TBL-3-1-5" style="white-space:nowrap; text-align:center;">E</td><td class="td11" id="TBL-3-1-6" style="white-space:nowrap; text-align:center;">F</td><td class="td11" id="TBL-3-1-7" style="white-space:nowrap; text-align:center;">G</td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-3-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-3-2-1" style="white-space:nowrap; text-align:center;"> 0 </td> <td class="td11" id="TBL-3-2-2" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-3-2-3" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-3-2-4" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-3-2-5" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-3-2-6" style="white-space:nowrap; text-align:center;">3</td> <td class="td11" id="TBL-3-2-7" style="white-space:nowrap; text-align:center;">1</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-3-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-3-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>.
     <!--l. 676--><p class="noindent">Now, <span class="cmmi-10">w </span><span class="cmr-10">=  </span><span class="cmmi-10">G </span>and <span class="cmmi-10">P  </span><span class="cmr-10">=  </span><img align="middle" alt="{A,G }" class="left" src="summary72x.png"/>. We update dist =
     <!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-4"><colgroup id="TBL-4-1g"><col id="TBL-4-1"/></colgroup><colgroup id="TBL-4-2g"><col id="TBL-4-2"/></colgroup><colgroup id="TBL-4-3g"><col id="TBL-4-3"/></colgroup><colgroup id="TBL-4-4g"><col id="TBL-4-4"/></colgroup><colgroup id="TBL-4-5g"><col id="TBL-4-5"/></colgroup><colgroup id="TBL-4-6g"><col id="TBL-4-6"/></colgroup><colgroup id="TBL-4-7g"><col id="TBL-4-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-4-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-4-1-1" style="white-space:nowrap; text-align:center;">A</td><td class="td11" id="TBL-4-1-2" style="white-space:nowrap; text-align:center;">B</td><td class="td11" id="TBL-4-1-3" style="white-space:nowrap; text-align:center;">C</td><td class="td11" id="TBL-4-1-4" style="white-space:nowrap; text-align:center;">D</td><td class="td11" id="TBL-4-1-5" style="white-space:nowrap; text-align:center;">E</td><td class="td11" id="TBL-4-1-6" style="white-space:nowrap; text-align:center;">F</td><td class="td11" id="TBL-4-1-7" style="white-space:nowrap; text-align:center;">G</td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-4-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-4-2-1" style="white-space:nowrap; text-align:center;"> 0 </td> <td class="td11" id="TBL-4-2-2" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-4-2-3" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-4-2-4" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-4-2-5" style="white-space:nowrap; text-align:center;">3</td> <td class="td11" id="TBL-4-2-6" style="white-space:nowrap; text-align:center;">2</td> <td class="td11" id="TBL-4-2-7" style="white-space:nowrap; text-align:center;">1</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-4-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-4-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>.
     <!--l. 698--><p class="noindent">Now, <span class="cmmi-10">w </span><span class="cmr-10">=  </span><span class="cmmi-10">F  </span>and <span class="cmmi-10">P  </span><span class="cmr-10">=  </span><img align="middle" alt="{A,F,G }" class="left" src="summary73x.png"/>. We update dist =
     <!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-5"><colgroup id="TBL-5-1g"><col id="TBL-5-1"/></colgroup><colgroup id="TBL-5-2g"><col id="TBL-5-2"/></colgroup><colgroup id="TBL-5-3g"><col id="TBL-5-3"/></colgroup><colgroup id="TBL-5-4g"><col id="TBL-5-4"/></colgroup><colgroup id="TBL-5-5g"><col id="TBL-5-5"/></colgroup><colgroup id="TBL-5-6g"><col id="TBL-5-6"/></colgroup><colgroup id="TBL-5-7g"><col id="TBL-5-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-1-1" style="white-space:nowrap; text-align:center;">A</td><td class="td11" id="TBL-5-1-2" style="white-space:nowrap; text-align:center;">B</td><td class="td11" id="TBL-5-1-3" style="white-space:nowrap; text-align:center;">C</td><td class="td11" id="TBL-5-1-4" style="white-space:nowrap; text-align:center;">D</td><td class="td11" id="TBL-5-1-5" style="white-space:nowrap; text-align:center;">E</td><td class="td11" id="TBL-5-1-6" style="white-space:nowrap; text-align:center;">F</td><td class="td11" id="TBL-5-1-7" style="white-space:nowrap; text-align:center;">G</td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-2-1" style="white-space:nowrap; text-align:center;"> 0 </td> <td class="td11" id="TBL-5-2-2" style="white-space:nowrap; text-align:center;">6</td> <td class="td11" id="TBL-5-2-3" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-5-2-4" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">∞</span></td> <td class="td11" id="TBL-5-2-5" style="white-space:nowrap; text-align:center;">3</td> <td class="td11" id="TBL-5-2-6" style="white-space:nowrap; text-align:center;">2</td> <td class="td11" id="TBL-5-2-7" style="white-space:nowrap; text-align:center;">1</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>.
     <!--l. 720--><p class="noindent">Now, <span class="cmmi-10">w </span><span class="cmr-10">=  </span><span class="cmmi-10">E </span>and <span class="cmmi-10">P  </span><span class="cmr-10">=  </span><img align="middle" alt="{A,E,F,G }" class="left" src="summary74x.png"/>. We update dist =
     <!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-6"><colgroup id="TBL-6-1g"><col id="TBL-6-1"/></colgroup><colgroup id="TBL-6-2g"><col id="TBL-6-2"/></colgroup><colgroup id="TBL-6-3g"><col id="TBL-6-3"/></colgroup><colgroup id="TBL-6-4g"><col id="TBL-6-4"/></colgroup><colgroup id="TBL-6-5g"><col id="TBL-6-5"/></colgroup><colgroup id="TBL-6-6g"><col id="TBL-6-6"/></colgroup><colgroup id="TBL-6-7g"><col id="TBL-6-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-1-1" style="white-space:nowrap; text-align:center;">A</td><td class="td11" id="TBL-6-1-2" style="white-space:nowrap; text-align:center;">B</td><td class="td11" id="TBL-6-1-3" style="white-space:nowrap; text-align:center;">C</td><td class="td11" id="TBL-6-1-4" style="white-space:nowrap; text-align:center;">D</td><td class="td11" id="TBL-6-1-5" style="white-space:nowrap; text-align:center;">E</td><td class="td11" id="TBL-6-1-6" style="white-space:nowrap; text-align:center;">F</td><td class="td11" id="TBL-6-1-7" style="white-space:nowrap; text-align:center;">G</td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-2-1" style="white-space:nowrap; text-align:center;"> 0 </td> <td class="td11" id="TBL-6-2-2" style="white-space:nowrap; text-align:center;">6</td> <td class="td11" id="TBL-6-2-3" style="white-space:nowrap; text-align:center;">4</td> <td class="td11" id="TBL-6-2-4" style="white-space:nowrap; text-align:center;">8</td> <td class="td11" id="TBL-6-2-5" style="white-space:nowrap; text-align:center;">3</td> <td class="td11" id="TBL-6-2-6" style="white-space:nowrap; text-align:center;">2</td> <td class="td11" id="TBL-6-2-7" style="white-space:nowrap; text-align:center;">1</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>.
     <!--l. 742--><p class="noindent">Now, <span class="cmmi-10">w </span><span class="cmr-10">= </span><span class="cmmi-10">C </span>and <span class="cmmi-10">P  </span><span class="cmr-10">= </span><img align="middle" alt="{A, C,E,F,G }" class="left" src="summary75x.png"/>. We update dist =
     <!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-7"><colgroup id="TBL-7-1g"><col id="TBL-7-1"/></colgroup><colgroup id="TBL-7-2g"><col id="TBL-7-2"/></colgroup><colgroup id="TBL-7-3g"><col id="TBL-7-3"/></colgroup><colgroup id="TBL-7-4g"><col id="TBL-7-4"/></colgroup><colgroup id="TBL-7-5g"><col id="TBL-7-5"/></colgroup><colgroup id="TBL-7-6g"><col id="TBL-7-6"/></colgroup><colgroup id="TBL-7-7g"><col id="TBL-7-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-1-1" style="white-space:nowrap; text-align:center;">A</td><td class="td11" id="TBL-7-1-2" style="white-space:nowrap; text-align:center;">B</td><td class="td11" id="TBL-7-1-3" style="white-space:nowrap; text-align:center;">C</td><td class="td11" id="TBL-7-1-4" style="white-space:nowrap; text-align:center;">D</td><td class="td11" id="TBL-7-1-5" style="white-space:nowrap; text-align:center;">E</td><td class="td11" id="TBL-7-1-6" style="white-space:nowrap; text-align:center;">F</td><td class="td11" id="TBL-7-1-7" style="white-space:nowrap; text-align:center;">G</td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-2-1" style="white-space:nowrap; text-align:center;"> 0 </td> <td class="td11" id="TBL-7-2-2" style="white-space:nowrap; text-align:center;">6</td> <td class="td11" id="TBL-7-2-3" style="white-space:nowrap; text-align:center;">4</td> <td class="td11" id="TBL-7-2-4" style="white-space:nowrap; text-align:center;">6</td> <td class="td11" id="TBL-7-2-5" style="white-space:nowrap; text-align:center;">3</td> <td class="td11" id="TBL-7-2-6" style="white-space:nowrap; text-align:center;">2</td> <td class="td11" id="TBL-7-2-7" style="white-space:nowrap; text-align:center;">1</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>.
     <!--l. 764--><p class="noindent">Now, <span class="cmmi-10">w </span><span class="cmr-10">= </span><span class="cmmi-10">B </span>and <span class="cmmi-10">P </span><span class="cmr-10">= </span><img align="middle" alt="{A,B, C,E,F,G }" class="left" src="summary76x.png"/>. dist does not change.
     <!--l. 766--><p class="noindent">Finally, <span class="cmmi-10">w </span><span class="cmr-10">= </span><span class="cmmi-10">D </span>and <span class="cmmi-10">P </span><span class="cmr-10">= </span><img align="middle" alt="{A,B, C,D,E, F,G}" class="left" src="summary77x.png"/>. dist does not change.
     </p></p></p></p></p></p></p></p></p></li>
<li class="enumerate" id="x1-8081x8">
<!--l. 768--><p class="noindent">Given the following graphs:
     <div class="center">
<!--l. 769--><p class="noindent">
<!--l. 770--><p class="noindent"><img alt="PIC" src="20_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ement-Analytics_LectureNotes_source_pegado7.png"/>
</p></p></div>
<!--l. 772--><p class="noindent">
<ol class="enumerate2">
<li class="enumerate" id="x1-8083x1">
<!--l. 773--><p class="noindent">Give the different representations of these graphs.
         <!--l. 775--><p class="noindent"><span class="cmmi-10">A</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= </span><div class="array"> <table class="array" id="TBL-8"><colgroup id="TBL-8-1g"><col id="TBL-8-1"/><col id="TBL-8-2"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> </div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-9"><colgroup id="TBL-9-1g"><col id="TBL-9-1"/><col id="TBL-9-2"/><col id="TBL-9-3"/><col id="TBL-9-4"/><col id="TBL-9-5"/><col id="TBL-9-6"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">0</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">1</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">2</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">3</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">4</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">5</span></div></td></tr></table> </div></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-10"><colgroup id="TBL-10-1g"><col id="TBL-10-1"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">0</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">1</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">2</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">3</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">4</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">5</span></div></td>
</tr></table> </div></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"> <img align="middle" alt="                                              (                  )
                                              |  0  1 0  0  1  1 |
                                              ||  1  0 1  1  0  1 ||
                                              ||  0  1 0  1  0  1 ||
                                              |(  0  1 1  0  0  1 |)
                                                 1  0 0  0  0  1
                                                 1  1 1  1  1  0" class="left" src="summary78x.png"/> </div></td>
</tr></table> </div><span class="cmmi-10">,L</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">=</span>
<div class="array"> <table class="array" id="TBL-11"><colgroup id="TBL-11-1g"><col id="TBL-11-1"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">0 : </span><img align="middle" alt="{1,4,5}" class="left" src="summary79x.png"/> </div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">1 : </span><img align="middle" alt="{0,2,3,5}" class="left" src="summary80x.png"/> </div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">2 : </span><img align="middle" alt="{1,3,5}" class="left" src="summary81x.png"/> </div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">3 : </span><img align="middle" alt="{1,2,5}" class="left" src="summary82x.png"/> </div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">4 : </span><img align="middle" alt="{0,5}" class="left" src="summary83x.png"/> </div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">5 : </span><img align="middle" alt="{0,1,2,3,4}" class="left" src="summary84x.png"/></div></td></tr></table> </div>
<!--l. 802--><p class="noindent"><span class="cmmi-10">B</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= </span><div class="array"> <table class="array" id="TBL-12"><colgroup id="TBL-12-1g"><col id="TBL-12-1"/><col id="TBL-12-2"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> </div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-13"><colgroup id="TBL-13-1g"><col id="TBL-13-1"/><col id="TBL-13-2"/><col id="TBL-13-3"/><col id="TBL-13-4"/><col id="TBL-13-5"/><col id="TBL-13-6"/><col id="TBL-13-7"/><col id="TBL-13-8"/><col id="TBL-13-9"/><col id="TBL-13-10"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">01</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">04</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">05</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">12</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">13</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">15</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">23</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">25</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">35</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">45</span></div></td></tr></table> </div></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-14"><colgroup id="TBL-14-1g"><col id="TBL-14-1"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">0</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">1</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">2</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">3</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">4</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">5</span></div></td>
</tr></table> </div></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"> <img align="middle" alt="                                         (                             )
                                           1  1  1  0  0 0  0  0  0  0
                                         || 1  0  0  1  1 1  0  0  0  0 ||
                                         || 0  0  0  1  0 0  1  1  0  0 ||
                                         || 0  0  0  0  1 0  1  0  1  0 ||
                                         ( 0  1  0  0  0 0  0  0  0  1 )
                                           0  0  1  0  0 1  0  1  1  1" class="left" src="summary85x.png"/> </div></td>
</tr></table> </div>
<!--l. 822--><p class="noindent"><span class="cmmi-10">A</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><div class="array"> <table class="array" id="TBL-15"><colgroup id="TBL-15-1g"><col id="TBL-15-1"/><col id="TBL-15-2"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> </div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-16"><colgroup id="TBL-16-1g"><col id="TBL-16-1"/><col id="TBL-16-2"/><col id="TBL-16-3"/><col id="TBL-16-4"/><col id="TBL-16-5"/><col id="TBL-16-6"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">0</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">1</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">2</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">3</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">4</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">5</span></div></td></tr></table> </div></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-17"><colgroup id="TBL-17-1g"><col id="TBL-17-1"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">0</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">1</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">2</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">3</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">4</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">5</span></div></td>
</tr></table> </div></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"> <img align="middle" alt="                                              (                  )
                                                 0  1 0  0  1  0
                                              ||  0  0 0  0  0  1 ||
                                              ||  0  0 0  1  0  1 ||
                                              ||  0  0 0  1  0  0 ||
                                              (  1  1 0  0  0  0 )
                                                 0  0 0  0  1  0" class="left" src="summary86x.png"/> </div></td>
</tr></table> </div>,
         <span class="cmmi-10">L</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><div class="array"> <table class="array" id="TBL-18"><colgroup id="TBL-18-1g"><col id="TBL-18-1"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">0 : </span><img align="middle" alt="{1,4}" class="left" src="summary87x.png"/></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">1 : </span><img align="middle" alt="{5}" class="left" src="summary88x.png"/> </div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">2 : </span><img align="middle" alt="{3,5}" class="left" src="summary89x.png"/></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">3 : </span><img align="middle" alt="{3}" class="left" src="summary90x.png"/> </div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">4 : </span><img align="middle" alt="{0,1}" class="left" src="summary91x.png"/></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">5 : </span><img align="middle" alt="{4}" class="left" src="summary92x.png"/> </div></td></tr></table> </div>,
         <!--l. 849--><p class="noindent"><span class="cmmi-10">B</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= </span><div class="array"> <table class="array" id="TBL-19"><colgroup id="TBL-19-1g"><col id="TBL-19-1"/><col id="TBL-19-2"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> </div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-20"><colgroup id="TBL-20-1g"><col id="TBL-20-1"/><col id="TBL-20-2"/><col id="TBL-20-3"/><col id="TBL-20-4"/><col id="TBL-20-5"/><col id="TBL-20-6"/><col id="TBL-20-7"/><col id="TBL-20-8"/><col id="TBL-20-9"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">01</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">04</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">15</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">23</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">25</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">33</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">40</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">41</span></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">54</span></div></td></tr></table> </div></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><div class="array"> <table class="array" id="TBL-21"><colgroup id="TBL-21-1g"><col id="TBL-21-1"/></colgroup><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">0</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">1</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">2</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">3</span></div></td>
</tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"><span class="cmr-10">4</span></div></td></tr><tr style="vertical-align:baseline;"><td style="white-space:nowrap; text-align:center;"><div class="td11"> <span class="cmr-10">5</span></div></td>
</tr></table> </div></div></td><td style="white-space:nowrap; text-align:center;"><div class="td11"> <img align="middle" alt="                                          (  1 1  0  0  0  0  2  0 0 )
                                          |  2 0  1  0  0  0  0  2 0 |
                                          ||  0 0  0  1  1  0  0  0 0 ||
                                          ||  0 0  0  2  0  3  0  0 0 ||
                                          |(  0 2  0  0  0  0  1  1 2 |)
                                             0 0  2  0  2  0  0  0 1" class="left" src="summary93x.png"/> </div></td>
</tr></table> </div>
</p></p></p></p></p></li>
<li class="enumerate" id="x1-8085x2">
<!--l. 868--><p class="noindent">Compute <span class="cmmi-10">A</span><sup><span class="cmr-7">2</span></sup><span class="cmmi-10">,A</span><sup><span class="cmr-7">3</span></sup>. What does <span class="cmmi-10">A</span><sub><span class="cmmi-7">ij</span></sub><sup><span class="cmmi-7">r</span></sup> represents?
         <!--l. 870--><p class="noindent"><span class="cmmi-10">A</span><sub><span class="cmmi-7">ij</span></sub><sup><span class="cmmi-7">r</span></sup> represents the number of paths of length <span class="cmmi-10">r </span>from node <span class="cmmi-10">i </span>to node <span class="cmmi-10">j</span>.
         </p></p></li>
<li class="enumerate" id="x1-8087x3">
<!--l. 872--><p class="noindent">What is the complexity of <span class="cmmi-10">A</span><sup><span class="cmmi-7">r</span></sup>? Is it possible to reduce it?
         <!--l. 874--><p class="noindent">Computing <span class="cmmi-10">A</span><sup><span class="cmmi-7">r</span></sup> is <span class="cmmi-10">O</span><img align="middle" alt="(   )
 rn3" class="left" src="summary94x.png"/>, since it requires <span class="cmmi-10">r </span>products of complexity <span class="cmmi-10">O</span><img align="middle" alt="(  )
 n3" class="left" src="summary95x.png"/>.
         <!--l. 877--><p class="noindent">However, we can reuse some results to reduce the complexity:
                                                                                            
                                                                                            
             <ul class="itemize1">
<li class="itemize">
<!--l. 879--><p class="noindent">If <span class="cmmi-10">r </span>is even, we can do <span class="cmmi-10">A</span><sup><span class="cmmi-7">r</span></sup> <span class="cmr-10">= </span><img align="middle" alt="(  r)
 A 2" class="left" src="summary96x.png"/><sup><span class="cmr-7">2</span></sup><span class="cmmi-10">.</span>
</p></li>
<li class="itemize">
<!--l. 880--><p class="noindent">If <span class="cmmi-10">r </span>is odd, we can do <span class="cmmi-10">A</span><sup><span class="cmmi-7">r</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">A</span><img align="middle" alt="(    )
 A r-12-" class="left" src="summary97x.png"/><sup><span class="cmr-7">2</span></sup>.</p></li></ul>
<!--l. 882--><p class="noindent">Therefore, we can obtain <span class="cmmi-10">A</span><sup><span class="cmmi-7">r</span></sup> in <span class="cmmi-10">O</span><img align="middle" alt="(      3)
logr ⋅n" class="left" src="summary98x.png"/>.</p></p></p></p></li></ol>
</p></p></li></ol>
<!--l. 886--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">2.2   </span> <a id="x1-90002.2"></a>Linear Algebra Preliminaries</h4>
<!--l. 888--><p class="noindent">A <span class="ecbx-1000">norm </span>is a function <span class="cmmi-10">f </span>that measures the size of a vector. It must satisfy the following properties:
     <ul class="itemize1">
<li class="itemize">
<!--l. 891--><p class="noindent"><span class="cmmi-10">f</span><img align="middle" alt="(x)" class="left" src="summary99x.png"/> <span class="cmr-10">= 0</span> <span class="cmsy-10">⇐⇒</span> <span class="cmmi-10">x </span><span class="cmr-10">= 0</span>.
     </p></li>
<li class="itemize">
<!--l. 892--><p class="noindent">Linear on scale factors:
<div class="math-display">
<img alt="f (αx) = |α|f (x) ,∀α ∈ ℝ.
" class="math-display" src="summary100x.png"/></div>
</p></li>
<li class="itemize">
<!--l. 896--><p class="noindent">Triangle inequality:
<div class="math-display">
<img alt="f (x+ y) ≤ f (x )+ f (y).
" class="math-display" src="summary101x.png"/></div>
</p></li></ul>
<!--l. 901--><p class="noindent">A widely use family of norms are the <span class="cmmi-10">p</span>-norms:
<div class="math-display">
<img alt="       ∘∑-----p
∥x∥p = p    |xi|,
          i
" class="math-display" src="summary102x.png"/></div>
<!--l. 905--><p class="noindent">with the most common one being the Euclidean norm, for <span class="cmmi-10">p </span><span class="cmr-10">= 2</span>:
<div class="math-display">
<img alt="      ∘ ∑-----
∥x∥ =      x2i.
         i
" class="math-display" src="summary103x.png"/></div>
<!--l. 910--><p class="noindent">The <span class="ecbx-1000">determinant </span>of a square matrix is equal to the hypervolume of the parallelotope defined by the vectors of the
matrix. It is 0 if, and only if, the set of vectors is colinear.
<!--l. 914--><p class="noindent">The determinant can be used for many things:
     <ul class="itemize1">
<li class="itemize">
<!--l. 916--><p class="noindent">We can represents linear systems with matrices as <span class="cmmi-10">Y </span><span class="cmr-10">= </span><span class="cmmi-10">AX</span>, and there are many methods to solve this
     efficiently.
     </p></li>
<li class="itemize">
<!--l. 918--><p class="noindent">With  the  determinant  we  can  compute  the  <span class="ecbx-1000">characteristic  polynomial </span>of  <span class="cmmi-10">A</span>,  whose  roots  are  the
     eigenvalues of <span class="cmmi-10">A</span>.</p></li></ul>
<!--l. 921--><p class="noindent">Some properties of the determinant are:
     <ul class="itemize1">
<li class="itemize">
<!--l. 923--><p class="noindent"><img align="middle" alt="|I|" class="left" src="summary104x.png"/> <span class="cmr-10">= 1</span>, where <span class="cmmi-10">I </span>is the identity matrix.
     </p></li>
<li class="itemize">
<!--l. 924--><p class="noindent"><img align="middle" alt="|A|" class="left" src="summary105x.png"/> <span class="cmr-10">= 0 </span>if <span class="cmmi-10">A </span>is singular (not invertible).
     </p></li>
<li class="itemize">
<!--l. 925--><p class="noindent"><img align="middle" alt="|AB |" class="left" src="summary106x.png"/> <span class="cmr-10">= </span><img align="middle" alt="|A|" class="left" src="summary107x.png"/><img align="middle" alt=" |B|" class="left" src="summary108x.png"/>.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 926--><p class="noindent"><img align="middle" alt="||AT ||" class="left" src="summary109x.png"/> <span class="cmr-10">= </span><img align="middle" alt="|A|" class="left" src="summary110x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 927--><p class="noindent"><img align="middle" alt="|cA|" class="left" src="summary111x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">c</span><sup><span class="cmmi-7">n</span></sup><img align="middle" alt="|A|" class="left" src="summary112x.png"/>, where <span class="cmmi-10">n </span>is the dimension of <span class="cmmi-10">A</span>.</p></li></ul>
<!--l. 930--><p class="noindent">A square matrix, <span class="cmmi-10">A</span>, is <span class="ecbx-1000">invertible </span>(non-singular, non-degenerate), with inverse denoetd <span class="cmmi-10">A</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup>, if <span class="cmsy-10">∃</span><span class="cmmi-10">B </span>such
that
<div class="math-display">
<img alt="AB = BA  = I,
" class="math-display" src="summary113x.png"/></div>
<!--l. 935--><p class="noindent">in this case, <span class="cmmi-10">A</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">B</span>.
<div class="tcolorbox tcolorbox" id="tcolobox-1">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 938--><p class="noindent"><span class="head">
<a id="x1-9001r1"></a>
<span class="ecbx-1000">Proposition 2.1.</span> </span><span class="ecti-1000">For a square matrix, A, the following properties are equivalent:</span>
<ul class="itemize1">
<li class="itemize">
<!--l. 941--><p class="noindent"><span class="ecti-1000">A is invertible.</span>
</p></li>
<li class="itemize">
<!--l. 942--><p class="noindent"><span class="ecti-1000">All vectors in A are linearly independent.</span>
</p></li>
<li class="itemize">
<!--l. 943--><p class="noindent"><img align="middle" alt="|A|" class="left" src="summary114x.png"/><span class="cmmi-10">≠</span><span class="cmr-10">0</span><span class="ecti-1000">.</span>
</p></li>
<li class="itemize">
<!--l. 944--><p class="noindent"><span class="cmmi-10">A</span><sup><span class="cmmi-7">T</span></sup> <span class="ecti-1000">is invertible.</span>
</p></li>
<li class="itemize">
<!--l. 945--><p class="noindent"><span class="ecti-1000">0 is not an eigenvalue of </span><span class="cmmi-10">A</span><span class="ecti-1000">.</span></p></li></ul>
</p></div>
<!--l. 947--><p class="noindent">
</p></div>
</div>
<!--l. 950--><p class="noindent">Properties of the inverse:
     <ul class="itemize1">
<li class="itemize">
<!--l. 952--><p class="noindent"><img align="middle" alt="(A -1)" class="left" src="summary115x.png"/><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">A</span>.
     </p></li>
<li class="itemize">
<!--l. 953--><p class="noindent"><img align="middle" alt="(AT )" class="left" src="summary116x.png"/><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup> <span class="cmr-10">= </span><img align="middle" alt="(A-1)" class="left" src="summary117x.png"/><sup><span class="cmmi-7">T</span></sup>.
     </p></li>
<li class="itemize">
<!--l. 954--><p class="noindent"><img align="middle" alt="(AB )" class="left" src="summary118x.png"/><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">B</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup><span class="cmmi-10">A</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup>.
     </p></li>
<li class="itemize">
<!--l. 955--><p class="noindent"><img align="middle" alt="(cA)" class="left" src="summary119x.png"/><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup> <span class="cmr-10">=</span> <img align="middle" alt="1
c" class="frac" src="summary120x.png"/><span class="cmmi-10">A</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup> for <span class="cmmi-10">c</span><span class="cmmi-10">≠</span><span class="cmr-10">0</span><span class="cmmi-10">.</span>
</p></li>
<li class="itemize">
<!--l. 956--><p class="noindent"><img align="middle" alt="||A- 1||" class="left" src="summary121x.png"/> <span class="cmr-10">=</span> <img align="middle" alt="1--
|A|" class="frac" src="summary122x.png"/>.</p></li></ul>
<!--l. 958--><p class="noindent">An <span class="ecbx-1000">eigenvector </span>or characteristic vector of a linear transformation, <span class="cmmi-10">T</span>, is a non-zero vector that changes by a
escalar factor, <span class="cmmi-10">λ</span>, when transformed by <span class="cmmi-10">T</span>. That is, <span class="cmmi-10">v </span>is an eigenvector of the linear transformation <span class="cmmi-10">T</span>
if
<div class="math-display">
<img alt="T (v) = λv.
" class="math-display" src="summary123x.png"/></div>
<!--l. 965--><p class="noindent">There is a direct correspondence between <span class="cmmi-10">n</span><span class="cmsy-10">×</span><span class="cmmi-10">n </span>matrices and linear transformation in the <span class="cmmi-10">n</span>-dimenstional vector space
into itself. That is, every linear transformation <span class="cmmi-10">T </span>can be represented as a matrix <span class="cmmi-10">A</span><sub><span class="cmmi-7">T</span></sub> (the matrix depends on the chosen
base). Therefore, we can say that <span class="cmmi-10">A</span><sub><span class="cmmi-7">T</span></sub> has an eigenvector <span class="cmmi-10">v </span>if
<div class="math-display">
<img alt="AT v = λv.
" class="math-display" src="summary124x.png"/></div>
<!--l. 974--><p class="noindent">The scale factors of the eigenvectors are called <span class="ecbx-1000">eigenvalues</span>.
<!--l. 976--><p class="noindent">We can find the eigenvalues by solving a polynomial function on <span class="cmmi-10">λ </span>called the <span class="ecbx-1000">characteristic polynomial </span>of
<span class="cmmi-10">A</span><sub><span class="cmmi-7">T</span></sub>:
                                                                                            
                                                                                            
<div class="math-display">
<img alt="(A - λI)v = 0.
" class="math-display" src="summary125x.png"/></div>
<!--l. 981--><p class="noindent">Now, this equation has non-zero solution if, and only if,
<div class="math-display">
<img alt="|A - λI| = 0.
" class="math-display" src="summary126x.png"/></div>
<!--l. 985--><p class="noindent">Therefore, we can compute <img align="middle" alt="|A - λI|" class="left" src="summary127x.png"/> and find all values of <span class="cmmi-10">λ </span>that makes it equal to 0.
<!--l. 988--><p class="noindent">Once we have the eigenvalues, we can use them to find the corresponding eigenvectors.
<div class="newtheorem">
<!--l. 990--><p class="noindent"><span class="head">
<a id="x1-9002r4"></a>
<span class="ecbx-1000">Example 2.4.</span> </span>Compute the eigenvalues and eigenvectors of <span class="cmmi-10">A </span><span class="cmr-10">= </span><img align="middle" alt="(      )
  2  1
  1  2" class="left" src="summary128x.png"/>.
<!--l. 996--><p class="noindent">
<div class="math-display">
<img alt="         |            |
         || 2- λ    1  ||        2       2
|A - λI| = | 1    2- λ | = (2 - λ ) - 1 = λ - 4λ + 3.
" class="math-display" src="summary129x.png"/></div>
<!--l. 1002--><p class="noindent">This has as solutions
<div class="math-display">
<img alt="       √ -------
λ = 4±---16--12-= 4±-2-= 2± 1.
         2          2
" class="math-display" src="summary130x.png"/></div>
<!--l. 1006--><p class="noindent">Therefore, we have <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1</span><span class="cmmi-10">,λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 3</span>.
<!--l. 1008--><p class="noindent">To find the eigenvectors, we solve
<div class="math-display">
<img alt="             {
Av = λv  ⇐⇒    2x+ y  = λx .
               x+ 2y  = λy
" class="math-display" src="summary131x.png"/></div>
<!--l. 1015--><p class="noindent">For <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1</span>, it is
<div class="math-display">
<img alt="{
 2x + y = x
 x + 2y = y  ⇐⇒  x = - y,
" class="math-display" src="summary132x.png"/></div>
<!--l. 1022--><p class="noindent">so the eigenvector associated to <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1 </span>is
<div class="math-display">
<img alt="      (    )
         t
vλ1 =   - t  .
" class="math-display" src="summary133x.png"/></div>
<!--l. 1030--><p class="noindent">For <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 3</span>, it is
<div class="math-display">
<img alt="{
 2x + y  = 3x ⇐ ⇒  x = y,
 x + 2y  = 3y
" class="math-display" src="summary134x.png"/></div>
<!--l. 1037--><p class="noindent">so the eigenvector associated to <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 3 </span>is
<div class="math-display">
<img alt="     (   )
vλ =    t  .
  2     t
" class="math-display" src="summary135x.png"/></div>
</p></p></p></p></p></p></p></p></p></div>
<!--l. 1045--><p class="noindent">
We call the <span class="ecbx-1000">algebraic multiplicity</span>, <span class="cmmi-10">t</span><sub><span class="cmmi-7">i</span></sub>, of the eigenvalue <span class="cmmi-10">λ</span><sub><span class="cmmi-7">i</span></sub> to its multiplicity as root of the characteristic
polynomial:
<div class="math-display">
<img alt="                        t1       t2           tk
P (A) = |A - λI| = (λ- λ1) (λ - λ2) ⋅...⋅(λ- λk) .
" class="math-display" src="summary136x.png"/></div>
<!--l. 1051--><p class="noindent">Note that <span class="cmmi-10">A </span>can have at most <span class="cmmi-10">n </span>distinct eigenvalues, although some of them may be complex.
<div class="tcolorbox tcolorbox" id="tcolobox-2">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 1055--><p class="noindent"><span class="head">
<a id="x1-9003r2"></a>
<span class="ecbx-1000">Proposition 2.2.</span> </span><span class="ecti-1000">If the eigenvalues of A are all different, then the corresponding eigenvectors are</span>
<span class="ecti-1000">linearly independent.</span>
</p></div>
<!--l. 1058--><p class="noindent">
</p></div>
</div>
<!--l. 1061--><p class="noindent">The <span class="ecbx-1000">eigenspace </span>of an eigenvalue, <span class="cmmi-10">λ</span>, is the spave generated by the eigenvectors associated to <span class="cmmi-10">λ</span>.
<!--l. 1064--><p class="noindent">The dimension of the eigenspace of <span class="cmmi-10">λ </span>is the <span class="ecbx-1000">geometric multiplicity </span>of <span class="cmmi-10">λ</span>. The geometric multiplicity of an eigenvalue
is, at most, its algebraic multiplicity.
<div class="newtheorem">
<!--l. 1067--><p class="noindent"><span class="head">
<a id="x1-9004r5"></a>
<span class="ecbx-1000">Example 2.5.</span> </span>Let’s get some eigenspaces:
<!--l. 1070--><p class="noindent"><span class="cmmi-10">A </span><span class="cmr-10">= </span><img align="middle" alt="(          )
  - 1 1  0
( - 4 3  0 )
   1  0  2" class="left" src="summary137x.png"/><span class="cmmi-10">, </span>so
<table class="align-star">
<tr><td class="align-odd"><img align="middle" alt="|A - λI|" class="left" src="summary138x.png"/> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="|| - 1 - λ  1      0  ||
||   - 4   3- λ    0  ||
||   1      0    2- λ ||" class="left" src="summary139x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(- 1- λ)" class="left" src="summary140x.png"/><img align="middle" alt="(3- λ)" class="left" src="summary141x.png"/><img align="middle" alt=" (2- λ)" class="left" src="summary142x.png"/> <span class="cmr-10">+ 4</span><img align="middle" alt="(2- λ)" class="left" src="summary143x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(2- λ)" class="left" src="summary144x.png"/><img align="middle" alt="[(- 1- λ)(3- λ)+ 4]" class="left" src="summary145x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(2 - λ)" class="left" src="summary146x.png"/><img align="middle" alt="(              2   )
 - 3 + λ- 3λ + λ + 4" class="left" src="summary147x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(2- λ)" class="left" src="summary148x.png"/><img align="middle" alt="(         )
 λ2 - 2λ+ 1" class="left" src="summary149x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(2- λ)" class="left" src="summary150x.png"/><img align="middle" alt="(λ- 1)" class="left" src="summary151x.png"/><sup><span class="cmr-7">2</span></sup><span class="cmmi-10">.</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 1085--><p class="noindent">This has roots <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1</span>, with algebraic multiplicity 2, and <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 2</span>, with algebraic multiplicity <span class="cmr-10">1</span>.
<!--l. 1088--><p class="noindent">Now, we get the eigenvectors associated to them:
<div class="math-display">
<img alt="             (
             |{ - x +y   = λx
Av = λv ⇐ ⇒    - 4x+ 3y = λy .
             |( x+ 2z    = λz
" class="math-display" src="summary152x.png"/></div>
<!--l. 1096--><p class="noindent">For <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> this is
                                                                                            
                                                                                            
<div class="math-display">
<img alt="(                    (
|{ - x + y   = x      |{y         = 2x
  - 4x + 3y = y ⇐ ⇒   - 4x+ 3y  = y  ,
|( x+ 2z     = z      |(x         = - z
" class="math-display" src="summary153x.png"/></div>
<!--l. 1108--><p class="noindent">so <span class="cmmi-10">v</span><sub><span class="cmmi-7">λ</span><sub><span class="cmr-5">1</span></sub></sub> <span class="cmr-10">= </span><img align="middle" alt="(   t )
(  2t )
   - t" class="left" src="summary154x.png"/>, with dimension 1 (it could be 2).
<!--l. 1114--><p class="noindent">For <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> this is
<div class="math-display">
<img alt="(| - x + y  = 2x      (| y      = 3x       (|x = 0
{                    {                   {
|( - 4x + 3y = 2y  ⇐⇒  |( - 4x   = - y ⇐ ⇒  |(y = 0      ,
  x+ 2z    = 2z        x+ 2z  = λz        2z     = 2z
" class="math-display" src="summary155x.png"/></div>
<!--l. 1130--><p class="noindent">so <span class="cmmi-10">v</span><sub><span class="cmmi-7">λ</span><sub><span class="cmr-5">2</span></sub></sub> <span class="cmr-10">= </span><img align="middle" alt="(    )
   0
(  0 )
   t" class="left" src="summary156x.png"/>, with dimension 1 (it could not be differently).
<!--l. 1136--><p class="noindent"><span class="cmmi-10">B </span><span class="cmr-10">= </span><img align="middle" alt="(            )
(  4   6   0 )
  - 3  - 5 0
  - 3  - 6 1" class="left" src="summary157x.png"/>, so
<table class="align-star">
<tr><td class="align-odd"><img align="middle" alt="|B - λI|" class="left" src="summary158x.png"/> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="|                    |
||4- λ     6      0   ||
|| - 3  - 5- λ    0   ||
| - 3    - 6   1 - λ |" class="left" src="summary159x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(4- λ)" class="left" src="summary160x.png"/><img align="middle" alt="(- 5- λ)" class="left" src="summary161x.png"/><img align="middle" alt=" (1 - λ)" class="left" src="summary162x.png"/> <span class="cmr-10">+ 18</span><img align="middle" alt="(1- λ)" class="left" src="summary163x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - λ)" class="left" src="summary164x.png"/><img align="middle" alt=" [(4 - λ)(- 5- λ) +18]" class="left" src="summary165x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(1 - λ)" class="left" src="summary166x.png"/><img align="middle" alt=" (- 20- 4λ+ 5λ + λ2 + 18)" class="left" src="summary167x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - λ)" class="left" src="summary168x.png"/><img align="middle" alt="( 2       )
 λ + λ - 2" class="left" src="summary169x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(1- λ)" class="left" src="summary170x.png"/><sup><span class="cmr-7">2</span></sup><img align="middle" alt="(- 2- λ)" class="left" src="summary171x.png"/><span class="cmmi-10">.</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 1151--><p class="noindent">This has roots <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1</span>, with algebraic multiplicity 2, and <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmr-10">2</span>, with algebraic multiplicity <span class="cmr-10">1</span>.
<!--l. 1154--><p class="noindent">Now, we get the eigenvectors associated to them:
<div class="math-display">
<img alt="            (| 4x+ 6y       = λx
            {
Av = λv ⇐⇒  |( - 3x - 5y    = λy .
              - 3x - 6y+ z = λz
" class="math-display" src="summary172x.png"/></div>
<!--l. 1162--><p class="noindent">For <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1</span>, we have
<div class="math-display">
<img alt="(                       (
|{ 4x +6y       = x      |{ x  = - 2y
| - 3x- 5y     = y  ⇐⇒  |          .
( - 3x- 6y+ z  = z      ( z  = z
" class="math-display" src="summary173x.png"/></div>
<!--l. 1174--><p class="noindent">Therefore, the eigenspace associated to <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> is
<div class="math-display">
<img alt="        ((      )  (    ))
        {   - 2t       0  }
E (λ1) = ((   t  ) ,(  0 )) .
             0        u
" class="math-display" src="summary174x.png"/></div>
<!--l. 1186--><p class="noindent">For <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 2</span>, we have
                                                                                            
                                                                                            
<div class="math-display">
<img alt="(                         (                     (
|{ 4x+ 6y       = - 2x     |{ x       = - y       |{x  = - y
  - 3x - 5y    = - 2y ⇐ ⇒                  ⇐ ⇒           .
|( - 3x - 6y + z = - 2z    |( - 3y +z = - 2z      |(y  = z
" class="math-display" src="summary175x.png"/></div>
<!--l. 1202--><p class="noindent">Thus, the eigenspace associated to <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub>is
<div class="math-display">
<img alt="        (    )
          - t
E (λ2) = (  t ) .
           t
" class="math-display" src="summary176x.png"/></div>
<!--l. 1211--><p class="noindent"><span class="cmmi-10">C </span><span class="cmr-10">= </span><img align="middle" alt="(            )
   1   - 1 0
( - 1  2   1 )
   0   1   1" class="left" src="summary177x.png"/><span class="cmmi-10">,</span>
<table class="align-star">
<tr><td class="align-odd"><img align="middle" alt="|C - λI|" class="left" src="summary178x.png"/> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="||1 - λ  - 1     0  ||
|| - 1  2 - λ    1  ||
||  0     1    1- λ ||" class="left" src="summary179x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(1 - λ)" class="left" src="summary180x.png"/><sup><span class="cmr-7">2</span></sup><img align="middle" alt="(2- λ)" class="left" src="summary181x.png"/> <span class="cmsy-10">- </span><span class="cmr-10">2</span><img align="middle" alt="(1 - λ )" class="left" src="summary182x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - λ)" class="left" src="summary183x.png"/><img align="middle" alt=" [(1 - λ)(2- λ)- 2]" class="left" src="summary184x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - λ)" class="left" src="summary185x.png"/><img align="middle" alt="(                )
 2- λ - 2λ+ λ2 - 2" class="left" src="summary186x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - λ)" class="left" src="summary187x.png"/><img align="middle" alt=" (λ2 - 3λ)" class="left" src="summary188x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - λ)" class="left" src="summary189x.png"/><img align="middle" alt=" (λ- 3)" class="left" src="summary190x.png"/><span class="cmmi-10">λ.</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 1228--><p class="noindent">
<div class="math-display">
<img alt="             (
             |{x - y       = λx
Cv = λv ⇐ ⇒   - x+ 2y + z = λy .
             |(y + z       = λz
" class="math-display" src="summary191x.png"/></div>
<!--l. 1235--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 0</span>:
<div class="math-display">
<img alt="(
|{ x- y        = 0     {                {
  - x +2y + z = 0 ⇐⇒    x = y      ⇐⇒    x = y   ,
|( y+ z        = 0       y+ z   = 0       y = - z
" class="math-display" src="summary192x.png"/></div>
<!--l. 1249--><p class="noindent">so
<div class="math-display">
<img alt="        (    )
           t
E (λ1) = (  t ) .
          - t
" class="math-display" src="summary193x.png"/></div>
<!--l. 1258--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 1</span>:
<div class="math-display">
<img alt="(                     (
|{x - y        = x     |{ y = 0            {
 - x+ 2y + z  = y ⇐ ⇒   - x+ z  =   ⇐ ⇒   y = 0  ,
|(y + z        = z     |( z       = z       x = z
" class="math-display" src="summary194x.png"/></div>
<!--l. 1273--><p class="noindent">so
<div class="math-display">
<img alt="        (  t )
E (λ2) = ( 0 ) .
           t
" class="math-display" src="summary195x.png"/></div>
<!--l. 1282--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">3</span></sub> <span class="cmr-10">= 3</span>:
<div class="math-display">
<img alt="(
|{x - y       = 3x      {
 - x+ 2y+ z  = 3y  ⇐⇒    y  = - 2x ,
|(y + z       = 3z        y  = 2z
" class="math-display" src="summary196x.png"/></div>
<!--l. 1293--><p class="noindent">so
<div class="math-display">
<img alt="        (    )
          - t
E (λ3) = (  2t ) .
           t
" class="math-display" src="summary197x.png"/></div>
<!--l. 1302--><p class="noindent"><span class="cmmi-10">D </span><span class="cmr-10">= </span><img align="middle" alt="( 1  - 1  4  )
( 3   2   - 1 )
  2   1   - 1" class="left" src="summary198x.png"/><span class="cmmi-10">,</span>
<table class="align-star">
<tr><td class="align-odd"><img align="middle" alt="|D - λI|" class="left" src="summary199x.png"/> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="|| 1- λ   - 1     4   ||
||   3   2 - λ   - 1  ||
||   2     1   - 1- λ ||" class="left" src="summary200x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1- λ)" class="left" src="summary201x.png"/><img align="middle" alt="(2- λ)" class="left" src="summary202x.png"/><img align="middle" alt=" (- 1- λ)" class="left" src="summary203x.png"/> <span class="cmr-10">+ 12 + 2 </span><span class="cmsy-10">- </span><span class="cmr-10">8</span><img align="middle" alt="(2- λ)" class="left" src="summary204x.png"/> <span class="cmr-10">+ 1 </span><span class="cmsy-10">- </span><span class="cmmi-10">λ </span><span class="cmr-10">+ 3</span><img align="middle" alt="(- 1 - λ )" class="left" src="summary205x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(         2)
 2 - 3λ + λ" class="left" src="summary206x.png"/><img align="middle" alt="(- 1- λ)" class="left" src="summary207x.png"/> <span class="cmsy-10">- </span><span class="cmr-10">4 + 4</span><span class="cmmi-10">λ</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"> <span class="cmsy-10">- </span><span class="cmr-10">2 </span><span class="cmsy-10">- </span><span class="cmr-10">2</span><span class="cmmi-10">λ </span><span class="cmr-10">+ 3</span><span class="cmmi-10">λ </span><span class="cmr-10">+ 3</span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmmi-10">λ</span><sup><span class="cmr-7">3</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">4 + 4</span><span class="cmmi-10">λ</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"> <span class="cmsy-10">- </span><span class="cmmi-10">λ</span><sup><span class="cmr-7">3</span></sup> <span class="cmr-10">+ 2</span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmr-10">+ 5</span><span class="cmmi-10">λ </span><span class="cmsy-10">- </span><span class="cmr-10">6</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 1318--><p class="noindent">To obtain the roots, we can use Ruffini:
<div class="tabular"> <table class="tabular" id="TBL-22"><colgroup id="TBL-22-1g"><col id="TBL-22-1"/></colgroup><colgroup id="TBL-22-2g"><col id="TBL-22-2"/><col id="TBL-22-3"/><col id="TBL-22-4"/><col id="TBL-22-5"/></colgroup><tr id="TBL-22-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-1-1" style="white-space:nowrap; text-align:center;"></td><td class="td11" id="TBL-22-1-2" style="white-space:nowrap; text-align:center;">-1</td><td class="td11" id="TBL-22-1-3" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-22-1-4" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-22-1-5" style="white-space:nowrap; text-align:center;">-6</td></tr><tr id="TBL-22-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-2-1" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-22-2-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-22-2-3" style="white-space:nowrap; text-align:center;">-1</td><td class="td11" id="TBL-22-2-4" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-22-2-5" style="white-space:nowrap; text-align:center;"> 6</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-3-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-22-3-2" style="white-space:nowrap; text-align:center;">-1</td><td class="td11" id="TBL-22-3-3" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-22-3-4" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-22-3-5" style="white-space:nowrap; text-align:center;"> 0 </td>
</tr><tr id="TBL-22-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-4-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
<!--l. 1339--><p class="noindent">So <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1 </span>is a root and we have now <span class="cmsy-10">-</span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmr-10">+ </span><span class="cmmi-10">λ </span><span class="cmr-10">+ 6 = 0</span>, obtaining
<div class="math-display">
<img alt="    - 1± √1-+-24-  - 1 ± 5
λ = ------ 2---- = ---2--,
" class="math-display" src="summary208x.png"/></div>
<!--l. 1344--><p class="noindent">and we get <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmr-10">2 </span>and <span class="cmmi-10">λ</span><sub><span class="cmr-7">3</span></sub> <span class="cmr-10">= 3</span>.
<!--l. 1346--><p class="noindent">
<div class="math-display">
<img alt="             (| x- y +4z   = λx
             {
Dv = λv ⇐ ⇒  |( 3x+ 2y- z  = λy .
               2x+ y - z  = λz
" class="math-display" src="summary209x.png"/></div>
<!--l. 1353--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1</span>:
                                                                                            
                                                                                            
<div class="math-display">
<img alt="(                     (
|{x - y+ 4z   = x      |{y        = 4z     {y  = 4z
 3x + 2y- z  = y ⇐ ⇒   3x + 3z  = 0  ⇐⇒             .
|(2x + y- z   = z      |(2x + 2z  = 0        x = - z
" class="math-display" src="summary210x.png"/></div>
<!--l. 1368--><p class="noindent">Then, <span class="cmmi-10">E</span><img align="middle" alt="(λ )
 1" class="left" src="summary211x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(  - t )
(  4t )
   t" class="left" src="summary212x.png"/><span class="cmmi-10">.</span>
<!--l. 1374--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmr-10">2</span>:
<div class="math-display">
<img alt="(| x- y+ 4z   = - 2x     (| 3x - y+ 4z  = 0      {
{                       {                       5y- 5z     = 0
|( 3x+ 2y- z  = - 2y ⇐ ⇒ |( 3x + 4y - z  = 0 ⇐ ⇒   2x+ y + z  = 0
  2x+ y- z   = - 2z       2x + y+ z   = 0
" class="math-display" src="summary213x.png"/></div>
<!--l. 1389--><p class="noindent">
<div class="math-display">
<img alt="     {                 {
⇐ ⇒   y = z        ⇐⇒    y = z   .
      2x + 2y  = 0       x = - y
" class="math-display" src="summary214x.png"/></div>
<!--l. 1398--><p class="noindent">Then, <span class="cmmi-10">E</span><img align="middle" alt="(λ2)" class="left" src="summary215x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(     )
   - t
(  t  )
   t" class="left" src="summary216x.png"/>.
<!--l. 1404--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">3</span></sub> <span class="cmr-10">= 3</span>:
<div class="math-display">
<img alt="(                      (
|{x - y+ 4z   = 3x      |{- 2x- y + 4z = 0      { - 2x - y+ 4z = 0
 3x + 2y- z  = 3y ⇐ ⇒   3x - y- z    = 0  ⇐⇒
|(2x + y- z   = 3z      |(2x + y- 4z   = 0        5x- 5z       = 0
" class="math-display" src="summary217x.png"/></div>
<!--l. 1419--><p class="noindent">
<div class="math-display">
<img alt="{
 y = 2z
 x = z   .
" class="math-display" src="summary218x.png"/></div>
<!--l. 1426--><p class="noindent">Then, <span class="cmmi-10">E</span><img align="middle" alt="(λ3)" class="left" src="summary219x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(    )
(  t )
   2t
   t" class="left" src="summary220x.png"/>.
<!--l. 1432--><p class="noindent"><span class="cmmi-10">E </span><span class="cmr-10">= </span><img align="middle" alt="(  6   - 2  2 )
( - 2  3   - 1 )
   2   - 1  3" class="left" src="summary221x.png"/><span class="cmmi-10">,</span>
<table class="align-star">
<tr><td class="align-odd"><img align="middle" alt="|E - λI|" class="left" src="summary222x.png"/> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="||                   ||
|| 6- λ   - 2    2   ||
||  - 2  3- λ   - 1  ||
   2     - 1  3 - λ" class="left" src="summary223x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(6- λ)" class="left" src="summary224x.png"/><img align="middle" alt="(3 - λ)" class="left" src="summary225x.png"/><sup><span class="cmr-7">2</span></sup> <span class="cmr-10">+ 4 + 4 </span><span class="cmsy-10">- </span><span class="cmr-10">4</span><img align="middle" alt="(3- λ)" class="left" src="summary226x.png"/> <span class="cmsy-10">-</span><img align="middle" alt="(6- λ)" class="left" src="summary227x.png"/> <span class="cmsy-10">- </span><span class="cmr-10">4</span><img align="middle" alt="(3- λ)" class="left" src="summary228x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(6- λ)" class="left" src="summary229x.png"/><img align="middle" alt="(9 - 6λ+ λ2)" class="left" src="summary230x.png"/> <span class="cmr-10">+ 2 </span><span class="cmsy-10">- </span><span class="cmr-10">8</span><img align="middle" alt="(3- λ)" class="left" src="summary231x.png"/> <span class="cmr-10">+ </span><span class="cmmi-10">λ</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><span class="cmr-10">54 </span><span class="cmsy-10">- </span><span class="cmr-10">36</span><span class="cmmi-10">λ </span><span class="cmr-10">+ 6</span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">9</span><span class="cmmi-10">λ </span><span class="cmr-10">+ 6</span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmmi-10">λ</span><sup><span class="cmr-7">3</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">22 + 8</span><span class="cmmi-10">λ </span><span class="cmr-10">+ </span><span class="cmmi-10">λ</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"> <span class="cmsy-10">- </span><span class="cmmi-10">λ</span><sup><span class="cmr-7">3</span></sup> <span class="cmr-10">+ 12</span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">36</span><span class="cmmi-10">λ </span><span class="cmr-10">+ 32</span><span class="cmmi-10">.</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 1449--><p class="noindent">Again, we can use the Ruffini rule:
                                                                                            
                                                                                            
<div class="tabular"> <table class="tabular" id="TBL-23"><colgroup id="TBL-23-1g"><col id="TBL-23-1"/></colgroup><colgroup id="TBL-23-2g"><col id="TBL-23-2"/><col id="TBL-23-3"/><col id="TBL-23-4"/><col id="TBL-23-5"/></colgroup><tr id="TBL-23-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-1-1" style="white-space:nowrap; text-align:center;"></td><td class="td11" id="TBL-23-1-2" style="white-space:nowrap; text-align:center;">-1</td><td class="td11" id="TBL-23-1-3" style="white-space:nowrap; text-align:center;">12</td><td class="td11" id="TBL-23-1-4" style="white-space:nowrap; text-align:center;">-36</td><td class="td11" id="TBL-23-1-5" style="white-space:nowrap; text-align:center;"> 32 </td></tr><tr id="TBL-23-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-2-1" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-23-2-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-23-2-3" style="white-space:nowrap; text-align:center;">-2</td><td class="td11" id="TBL-23-2-4" style="white-space:nowrap; text-align:center;"> 20 </td><td class="td11" id="TBL-23-2-5" style="white-space:nowrap; text-align:center;">-32</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-23-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-3-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-23-3-2" style="white-space:nowrap; text-align:center;">-1</td><td class="td11" id="TBL-23-3-3" style="white-space:nowrap; text-align:center;">10</td><td class="td11" id="TBL-23-3-4" style="white-space:nowrap; text-align:center;">-16</td><td class="td11" id="TBL-23-3-5" style="white-space:nowrap; text-align:center;"> 0 </td>
</tr><tr id="TBL-23-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-4-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
<!--l. 1470--><p class="noindent">So <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 2 </span>is a root, and we now have <span class="cmsy-10">-</span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmr-10">+ 10</span><span class="cmmi-10">λ </span><span class="cmsy-10">- </span><span class="cmr-10">16 = 0</span>, which gives us
<div class="math-display">
<img alt="          √--------
λ = - 10-±-100-- 64-= --10±-6 = 5± 3.
          - 2          - 2
" class="math-display" src="summary232x.png"/></div>
<!--l. 1475--><p class="noindent">Therefore, <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> is a double root and the other root is <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 8</span>.
<!--l. 1478--><p class="noindent">
<div class="math-display">
<img alt="             (
             |{ 6x- 2y + 2z  = λx
Ev  = λv ⇐⇒    - 2x + 3y- z = λy .
             |( 2x- y + 3z   = λz
" class="math-display" src="summary233x.png"/></div>
<!--l. 1485--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 2</span>:
<div class="math-display">
<img alt="(                        (
|{ 6x - 2y + 2z  = 2x      |{ 4x- 2y+ 2z  = 0      {
  - 2x+ 3y- z  = 2y  ⇐⇒    - 2x + y- z = 0 ⇐ ⇒    4x- 2y+ 2z  = 0
|( 2x - y+ 3z   = 2z      |( 2x- y +z    = 0        2x- y+ z    = 0
" class="math-display" src="summary234x.png"/></div>
<!--l. 1500--><p class="noindent">
<div class="math-display">
<img alt="⇐⇒  2x - y+ z = 0
" class="math-display" src="summary235x.png"/></div>
<!--l. 1504--><p class="noindent">If <span class="cmmi-10">x </span><span class="cmr-10">= 0</span>: <span class="cmmi-10">y </span><span class="cmr-10">= </span><span class="cmmi-10">z</span>.
<!--l. 1506--><p class="noindent">If <span class="cmmi-10">x </span><span class="cmr-10">= </span><span class="cmmi-10">t</span><span class="cmmi-10">≠</span><span class="cmr-10">0</span>: <span class="cmsy-10">-</span><span class="cmmi-10">y </span><span class="cmr-10">+ </span><span class="cmmi-10">z </span><span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmr-10">2</span><span class="cmmi-10">t</span>, working for <span class="cmmi-10">y </span><span class="cmr-10">= </span><span class="cmmi-10">t </span>and <span class="cmmi-10">z </span><span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmmi-10">t</span>.
<!--l. 1508--><p class="noindent">So
<div class="math-display">
<img alt="        ( (  0)  (   t ) )
E (λ ) = { ( t) ,(   t ) } .
    1   (    t      - t  )
" class="math-display" src="summary236x.png"/></div>
<!--l. 1521--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 8</span>:
<div class="math-display">
<img alt="(                        (
|{ 6x- 2y + 2z   = 8x      |{- 2x- 2y + 2z = 0      {
  - 2x + 3y- z = 8y ⇐ ⇒   - 2x- 5y - z  = 0  ⇐⇒    - 3y - 3z   = 0
|(                        |(                         2x- y - 5z = 0
  2x- y + 3z   = 8z       2x - y- 5z    = 0
" class="math-display" src="summary237x.png"/></div>
<!--l. 1536--><p class="noindent">
<div class="math-display">
<img alt="     {                 {
⇐ ⇒   y = - z      ⇐⇒    y = - z .
      2x - 4z  = 0       x = 2z
" class="math-display" src="summary238x.png"/></div>
<!--l. 1545--><p class="noindent">Therefore,
<div class="math-display">
<img alt="        (  2t )
E (λ2) = ( - t) .
           t
" class="math-display" src="summary239x.png"/></div>
<!--l. 1554--><p class="noindent"><span class="cmmi-10">F </span><span class="cmr-10">= </span><img align="middle" alt="( 0  - 1 - 1 )
( 1   2   1  )
  1   1   2" class="left" src="summary240x.png"/><span class="cmmi-10">,</span>
<table class="align-star">
<tr><td class="align-odd"><img align="middle" alt="|F - λI|" class="left" src="summary241x.png"/> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="|                |
||- λ   - 1   - 1 ||
|| 1   2- λ    1  ||
| 1     1   2 - λ |" class="left" src="summary242x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"> <span class="cmsy-10">- </span><span class="cmmi-10">λ</span><img align="middle" alt="(2- λ)" class="left" src="summary243x.png"/><sup><span class="cmr-7">2</span></sup><img alt="/- /2+//2" class="mathpalette" src="summary244x.png"/><img alt="/- λ/+//λ" class="mathpalette" src="summary245x.png"/><span class="cmr-10">+ 2 </span><span class="cmsy-10">- </span><span class="cmmi-10">λ</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(2 - λ)" class="left" src="summary246x.png"/><img align="middle" alt=" [- λ (2 - λ)+ 1]" class="left" src="summary247x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(2 - λ)" class="left" src="summary248x.png"/><img align="middle" alt="(       2   )
 - 2λ+ λ + 1" class="left" src="summary249x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(2 - λ)" class="left" src="summary250x.png"/><img align="middle" alt=" (1- λ)" class="left" src="summary251x.png"/><sup><span class="cmr-7">2</span></sup><span class="cmmi-10">.</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 1570--><p class="noindent">One root is <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1 </span>with algebraic dimension 2, and <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 2 </span>with algebraic dimension 1.
<!--l. 1573--><p class="noindent">
<div class="math-display">
<img alt="            (
            |{ - y- z     = λx
Fv = λv ⇐⇒    x + 2y + z  = λy.
            |( x + y+ 2z  = λz
" class="math-display" src="summary252x.png"/></div>
<!--l. 1580--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= 1</span>:
<div class="math-display">
<img alt="(
|{ - y - z   = x      {
  x+ 2y + z = y  ⇐⇒    x+ y +z  = 0
|(
  x+ y + 2z = z
" class="math-display" src="summary253x.png"/></div>
<!--l. 1590--><p class="noindent">If <span class="cmmi-10">x </span><span class="cmr-10">= 0</span>: <span class="cmmi-10">y </span><span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmmi-10">z</span>.
<!--l. 1592--><p class="noindent">If <span class="cmmi-10">x </span><span class="cmr-10">= </span><span class="cmmi-10">t</span><span class="cmmi-10">≠</span><span class="cmr-10">0</span>: <span class="cmmi-10">y </span><span class="cmr-10">+ </span><span class="cmmi-10">z </span><span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmmi-10">t</span>. This works for <span class="cmmi-10">y </span><span class="cmr-10">= </span><span class="cmmi-10">t,z </span><span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmr-10">2</span><span class="cmmi-10">t</span>.
<!--l. 1594--><p class="noindent">Therefore,
<div class="math-display">
<img alt="        ({ (  0  ) (   t  ) )}
E (λ1) =  (  t  ) ,(   t  )   .
        (   - t      - 2t   )
" class="math-display" src="summary254x.png"/></div>
<!--l. 1607--><p class="noindent"><span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 2</span>:
<div class="math-display">
<img alt="(                     (
|{ - y- z    = 2x      |{ - y - z = 2x     {
  x+ 2y+ z  = 2y ⇐ ⇒    x+ z   = 0   ⇐⇒    x = - z .
|( x+ y+ 2z  = 2z      |( x+ y   = 0         x = - y
" class="math-display" src="summary255x.png"/></div>
<!--l. 1622--><p class="noindent">
<div class="math-display">
<img alt="⇐⇒  2x - y+ z = 0
" class="math-display" src="summary256x.png"/></div>
<!--l. 1625--><p class="noindent">So
<div class="math-display">
<img alt="        (  t )
E (λ ) = ( - t) .
   2      - t
" class="math-display" src="summary257x.png"/></div>
</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></div>
<!--l. 1634--><p class="noindent">
Another way to represent eigenvalues and eigenvectors is
<div class="math-display">
<img alt="AV  = VΛ,
" class="math-display" src="summary258x.png"/></div>
<!--l. 1639--><p class="noindent">where <span class="cmmi-10">V </span><span class="cmr-10">= </span><img align="middle" alt="[v1,...,vn]" class="left" src="summary259x.png"/> is the matrix formed by putting each eigenvector as a column, and
<div class="math-display">
<img alt="    (                 )
       λ1
    ||      λ2         ||
Λ = |(          ..      |)
                .
                   λn
" class="math-display" src="summary260x.png"/></div>
<!--l. 1649--><p class="noindent">is the diagonal matrix formed by all eigenvalues.
<!--l. 1651--><p class="noindent">A matrix <span class="cmmi-10">A </span>is <span class="ecbx-1000">diagonalizable </span>if there exist <span class="cmmi-10">n </span>linearly independent eigenvectors. That is, if the matrix <span class="cmmi-10">V </span>is
invertible:
<div class="math-display">
<img alt="Λ = V -1AV.
" class="math-display" src="summary261x.png"/></div>
<!--l. 1656--><p class="noindent">This leads naturally to the <span class="ecbx-1000">eigen-decomposition </span>of the matrix,
<div class="math-display">
<img alt="         -1
A = V ΛV   .
" class="math-display" src="summary262x.png"/></div>
<!--l. 1661--><p class="noindent">A real matrix, <span class="cmmi-10">U</span>, is <span class="ecbx-1000">orthogonal </span>if <span class="cmmi-10">U</span><sup><span class="cmmi-7">T</span></sup><span class="cmmi-10">U </span><span class="cmr-10">= </span><span class="cmmi-10">UU</span><sup><span class="cmmi-7">T</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">I</span>.
<div class="tcolorbox tcolorbox" id="tcolobox-3">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 1664--><p class="noindent"><span class="head">
<a id="x1-9005r3"></a>
<span class="ecbx-1000">Proposition 2.3.</span> </span><span class="ecti-1000">The following statements are equivalent:</span>
<ul class="itemize1">
<li class="itemize">
<!--l. 1667--><p class="noindent"><span class="cmmi-10">U</span><sup><span class="cmmi-7">T</span></sup> <span class="ecti-1000">is orthogonal.</span>
</p></li>
<li class="itemize">
<!--l. 1668--><p class="noindent"><span class="cmmi-10">U</span><sup><span class="cmmi-7">T</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">U</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup><span class="ecti-1000">.</span>
</p></li>
<li class="itemize">
<!--l. 1669--><p class="noindent"><img align="middle" alt="|U|" class="left" src="summary263x.png"/> <span class="cmr-10">= 1</span><span class="ecti-1000">.</span>
</p></li>
<li class="itemize">
<!--l. 1670--><p class="noindent"><span class="cmmi-10">U</span><span class="ecti-1000">’s eigenvectors are orthonormal (the pairwise dot product is 0 and the norm is 1).</span></p></li></ul>
</p></div>
<!--l. 1673--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 1676--><p class="noindent"><span class="head">
<a id="x1-9006r6"></a>
<span class="ecbx-1000">Example 2.6.</span> </span>Some examples of orthogonal matrices:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1679--><p class="noindent">Identity: <span class="cmmi-10">I</span>
</p></li>
<li class="itemize">
<!--l. 1680--><p class="noindent">Permutation of coordinates: <img align="middle" alt="⌊         ⌋
  0  1  0
⌈ 1  0  0 ⌉
  0  0  1" class="left" src="summary264x.png"/>
</p></li>
<li class="itemize">
<!--l. 1685--><p class="noindent">Rotation: <img align="middle" alt="(             )
  cosθ  - sinθ
  sinθ   cos θ" class="left" src="summary265x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 1689--><p class="noindent">Reflection: <img align="middle" alt="(             )
  cosθ   sin θ
  sinθ  - cos θ" class="left" src="summary266x.png"/>.</p></li></ul>
</p></div>
<!--l. 1694--><p class="noindent">
A matrix <span class="cmmi-10">A </span>is said to be <span class="ecbx-1000">positive semi-definite </span>when it can be obtained as the product of a matrix by its
transpose:
<div class="math-display">
<img alt="          T
∃X|A = XX   .
" class="math-display" src="summary267x.png"/></div>
<!--l. 1700--><p class="noindent">Positive semi-definite matrices are always symmetric, because
<div class="math-display">
<img alt="AT = (XXT )T = XXT  = A.
" class="math-display" src="summary268x.png"/></div>
<!--l. 1704--><p class="noindent">A symmetric matrix <span class="cmmi-10">A </span>is positive semi-definite if all its eigenvalues are non-negative.
<div class="tcolorbox tcolorbox" id="tcolobox-4">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 1708--><p class="noindent"><span class="head">
<a id="x1-9007r4"></a>
<span class="ecbx-1000">Proposition 2.4.</span> </span><span class="ecti-1000">Let </span><span class="cmmi-10">A </span><span class="ecti-1000">be a positive semi-definite matrix. Then:</span>
<ul class="itemize1">
<li class="itemize">
<!--l. 1711--><p class="noindent"><span class="cmr-10">0 </span><span class="cmsy-10">≤ </span><span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">≤ </span><span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmsy-10">≤ </span><span class="cmmi-10">... </span><span class="cmsy-10">≤ </span><span class="cmmi-10">λ</span><sub><span class="cmmi-7">n</span></sub> <span class="ecti-1000">and its eigenvectors are pairwise orthogonal when their eigenvalues are</span>
<span class="ecti-1000">different.</span>
</p></li>
<li class="itemize">
<!--l. 1713--><p class="noindent"><span class="ecti-1000">The eigenvalues are composed of real values.</span>
</p></li>
<li class="itemize">
<!--l. 1714--><p class="noindent"><span class="ecti-1000">The multiplicity of an eigenvalue is the dimension of its eigenspace.</span></p></li></ul>
</p></div>
<!--l. 1716--><p class="noindent">
</p></div>
</div>
<!--l. 1719--><p class="noindent">In this case, since eigenvectors are orthogonal, it is possible to store all the eigenvectors in an orthogonal
matrix.
<!--l. 1722--><p class="noindent">Therefore, the eigen-decomposition of a positive semi-definite matrix, <span class="cmmi-10">A</span>, could be
<div class="math-display">
<img alt="A = UΛU T,
" class="math-display" src="summary269x.png"/></div>
<!--l. 1727--><p class="noindent">with <span class="cmmi-10">U </span>an orthogonal matrix.
<!--l. 1729--><p class="noindent">As a consequence, the eigen-decomposition of a positive semi-definite matrix is often referred to as its
diagonalization.
<!--l. 1732--><p class="noindent">An alternative definition for positive semi-definite matrix is:
<!--l. 1734--><p class="noindent"><span class="cmmi-10">A </span>is positive semi-definite if <span class="cmmi-10">x</span><sup><span class="cmmi-7">T</span></sup><span class="cmmi-10">Ax </span><span class="cmsy-10">≥ </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><span class="cmsy-10">∀</span><span class="cmmi-10">x</span>.
<!--l. 1736--><p class="noindent">If it is <span class="cmmi-10">x</span><sup><span class="cmmi-7">T</span></sup><span class="cmmi-10">Ax &gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><span class="cmsy-10">∀</span><span class="cmmi-10">x</span>, then it is positive definite.
<!--l. 1738--><p class="noindent">If it is <span class="cmmi-10">x</span><sup><span class="cmmi-7">T</span></sup><span class="cmmi-10">Ax </span><span class="cmsy-10">≤ </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><span class="cmsy-10">∀</span><span class="cmmi-10">x</span>, then it is negative semi-definite.
<!--l. 1740--><p class="noindent">If it is <span class="cmmi-10">x</span><sup><span class="cmmi-7">T</span></sup><span class="cmmi-10">Ax &lt; </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><span class="cmsy-10">∀</span><span class="cmmi-10">x</span>, then it is negative definite.
<!--l. 1742--><p class="noindent">The <span class="ecbx-1000">rank </span>of a matrix is the dimension of the vector space generated by its columns (or rows). This corresponds to the
maximum number of linearly independent columns of <span class="cmmi-10">A</span>. A matrix whose rank is equal to its size is called a <span class="ecbx-1000">full rank</span>
<span class="ecbx-1000">matrix</span>. Only full rank matrices have an inverse.
                                                                                            
                                                                                            
<div class="tcolorbox tcolorbox" id="tcolobox-5">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 1749--><p class="noindent"><span class="head">
<a id="x1-9008r5"></a>
<span class="ecbx-1000">Proposition 2.5.</span> </span><span class="ecti-1000">The sum of the eigenvalues of a matrix is the sum of the elements of its main diagonal.</span>
<!--l. 1753--><p class="noindent"><span class="ecti-1000">The product of the eigenvalues is equal to the determinant of the matrix.</span>
</p></p></div>
<!--l. 1755--><p class="noindent">
</p></div>
</div>
<!--l. 1758--><p class="noindent">We can now define the <span class="ecbx-1000">Laplacian matrix </span>for undirected graphs, as
<div class="math-display">
<img alt="     (
     |{- 1  ,(vi,vj) ∈ E
Lij =  0    ,(vi,vj) ∕∈ E ,
     |(d    ,i = j
       i
" class="math-display" src="summary270x.png"/></div>
<!--l. 1767--><p class="noindent">or, equivalently,
<div class="math-display">
<img alt="L = D - A,
" class="math-display" src="summary271x.png"/></div>
<!--l. 1771--><p class="noindent">where <span class="cmmi-10">A </span>is the degree is the matrix of <span class="cmmi-10">G</span>, and <span class="cmmi-10">A </span>its adjacency matrix.
<!--l. 1774--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">2.2.1   </span> <a id="x1-100002.2.1"></a>Exercises</h5>
<!--l. 1775--><p class="noindent">
<ol class="enumerate1">
<li class="enumerate" id="x1-10002x1">
<!--l. 1776--><p class="noindent">What could you say about these matrices?
                                                                                            
                                                                                            
         <ol class="enumerate2">
<li class="enumerate" id="x1-10004x1">
<!--l. 1778--><p class="noindent"><span class="cmmi-10">A </span><span class="cmr-10">= </span><img align="middle" alt="(          )
   - 1  32
    1  - 1" class="left" src="summary272x.png"/><span class="cmmi-10">, det</span><img align="middle" alt="(A)" class="left" src="summary273x.png"/> <span class="cmr-10">= </span><span class="cmsy-10">-</span><img align="middle" alt="1
2" class="frac" src="summary274x.png"/>, <span class="cmmi-10">A </span>is invertible. Its eigenvalues are <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmr-10">1+</span><img align="middle" alt="√6-
2" class="frac" src="summary275x.png"/> and <span class="cmmi-10">λ</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= </span><span class="cmsy-10">-</span><span class="cmr-10">1</span><span class="cmsy-10">-</span><img align="middle" alt="√6-
2" class="frac" src="summary276x.png"/>,
         with <span class="cmmi-10">v</span><sub><span class="cmmi-7">λ</span><sub><span class="cmr-5">1</span></sub></sub> <span class="cmr-10">= </span><img align="middle" alt="(  √-  )
   26t
    t" class="left" src="summary277x.png"/> and <span class="cmmi-10">v</span><sub><span class="cmmi-7">λ</span><sub><span class="cmr-5">2</span></sub></sub> <span class="cmr-10">= </span><img align="middle" alt="(   √-  )
  - -62 t
    t" class="left" src="summary278x.png"/>.
         </p></li>
<li class="enumerate" id="x1-10006x2">
<!--l. 1790--><p class="noindent"><span class="cmmi-10">B </span><span class="cmr-10">= </span><img align="middle" alt="(         )
  - 1  32
   23  - 1" class="left" src="summary279x.png"/>. The second row is equal to the first row multiplied by <span class="cmsy-10">-</span><img align="middle" alt="2
3" class="frac" src="summary280x.png"/>. Therefore, it is not
         invertible.
         </p></li>
<li class="enumerate" id="x1-10008x3">
<!--l. 1795--><p class="noindent"><span class="cmmi-10">I</span>:  its  determinant  is  1.  It  is  symmetric,  orthogonal,  its  own  inverse.  Triple  eigenvalue  1,  with
         eigenspace the whole space.</p></li></ol>
</p></li>
<li class="enumerate" id="x1-10010x2">
<!--l. 1798--><p class="noindent">Show that <span class="cmmi-10">A</span><sup><span class="cmmi-7">n</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">X</span><span class="cmr-10">Λ</span><span class="cmmi-10">X</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup>.
     <!--l. 1800--><p class="noindent">First, this is only true if <span class="cmmi-10">A </span>is diagonalizable. If that is the case, then we can proceed by induction on
     <span class="cmmi-10">n</span>:
     <!--l. 1803--><p class="noindent"><span class="cmmi-10">n </span><span class="cmr-10">= 1</span>: Obvious.
     <!--l. 1805--><p class="noindent"><span class="cmmi-10">n </span><span class="cmr-10">= 2</span>:
<div class="math-display">
<img alt="  2  (     -1)2       -1     -1     2  -1
A  =  X ΛX     = X ΛX   X ΛX   = X Λ X   .
" class="math-display" src="summary281x.png"/></div>
<!--l. 1809--><p class="noindent">Suppose it is true for <span class="cmmi-10">n </span><span class="cmsy-10">- </span><span class="cmr-10">1</span>:
<div class="math-display">
<img alt="An -1 = X Λn-1X -1.
" class="math-display" src="summary282x.png"/></div>
<!--l. 1813--><p class="noindent">Then, for <span class="cmmi-10">n</span>, we have:
                                                                                            
                                                                                            
<div class="math-display">
<img alt="  n     n-1        -1   n-1 - 1     n  -1
A  = AA     = XΛX    XΛ    X   = X Λ X   .
" class="math-display" src="summary283x.png"/></div>
</p></p></p></p></p></p></li>
<li class="enumerate" id="x1-10012x3">
<!--l. 1818--><p class="noindent">Find the eigenvalues and unit eigenvectors of <span class="cmmi-10">A</span><sup><span class="cmmi-7">T</span></sup><span class="cmmi-10">A </span>and <span class="cmmi-10">AA</span><sup><span class="cmmi-7">T</span></sup> with <span class="cmmi-10">A </span><span class="cmr-10">= </span><img align="middle" alt="(      )
  1  1
  1  0" class="left" src="summary284x.png"/> the Fibonnaci
     matrix.
     <!--l. 1824--><p class="noindent">First of all, notice that <span class="cmmi-10">A </span>is symmetric, so <span class="cmmi-10">A</span><sup><span class="cmmi-7">T</span></sup><span class="cmmi-10">A </span><span class="cmr-10">= </span><span class="cmmi-10">AA</span><sup><span class="cmmi-7">T</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">A</span><sup><span class="cmr-7">2</span></sup> <span class="cmr-10">= </span><img align="middle" alt="(  2 1 )
   1 1" class="left" src="summary285x.png"/><span class="cmmi-10">.</span>
<!--l. 1829--><p class="noindent"><img align="middle" alt="||             ||
|| 2- λ    1   ||
    1   1 - λ" class="left" src="summary286x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(2- λ)" class="left" src="summary287x.png"/><img align="middle" alt="(1 - λ)" class="left" src="summary288x.png"/> <span class="cmsy-10">- </span><span class="cmr-10">1 = 2 </span><span class="cmsy-10">- </span><span class="cmr-10">3</span><span class="cmmi-10">λ </span><span class="cmr-10">+ </span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">1 = </span><span class="cmmi-10">λ</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">3</span><span class="cmmi-10">λ </span><span class="cmr-10">+ 1</span><span class="cmmi-10">. </span>The roots of this polynomial
     are
<div class="math-display">
<img alt="       √-----      √-
λ = 3-±-9---4=  3±--5-.
        2         2
" class="math-display" src="summary289x.png"/></div>
<!--l. 1837--><p class="noindent">Now,
<div class="math-display">
<img alt="             {
A2v = λv ⇐⇒    2x+ y  = λx ⇐ ⇒  {x = (λ- 1)y
               x+ y   = λy
" class="math-display" src="summary290x.png"/></div>
<!--l. 1845--><p class="noindent">Therefore
<div class="math-display">
<img alt="        (   √ - )
E (λ1) =  1+2-5t
            t
" class="math-display" src="summary291x.png"/></div>
<!--l. 1852--><p class="noindent">with unit eigenvector <span class="cmmi-10">v</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">=</span> <img align="middle" alt="√-1---
 4-√5-" class="frac" src="summary292x.png"/><img align="middle" alt="(   √ - )
   1+2-5
    1" class="left" src="summary293x.png"/><span class="cmmi-10">.</span>
<!--l. 1857--><p class="noindent">And
<div class="math-display">
<img alt="        ( 1-√5- )
E (λ2) =    2  t
            t
" class="math-display" src="summary294x.png"/></div>
<!--l. 1864--><p class="noindent">with unit eigenvector <span class="cmmi-10">v</span><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">=</span> <img align="middle" alt="√-1√--
 4-  5" class="frac" src="summary295x.png"/><img align="middle" alt="(  1- √5 )
   -2--
    1" class="left" src="summary296x.png"/><span class="cmmi-10">.</span>
</p></p></p></p></p></p></p></p></li>
<li class="enumerate" id="x1-10014x4">
<!--l. 1868--><p class="noindent">Without multiplying
<div class="math-display">
<img alt="    ( cosθ  - sinθ ) ( 2  0 ) (  cosθ   sinθ )
S =   sinθ   cosθ     0  5     - sin θ  cosθ   ,
" class="math-display" src="summary297x.png"/></div>
<!--l. 1881--><p class="noindent">find the determinant, the eigenvalues and eigenvectors. Why S is positive definite?
     <!--l. 1884--><p class="noindent">We have <span class="cmmi-10">S </span><span class="cmr-10">= </span><span class="cmmi-10">U</span><span class="cmr-10">Λ</span><span class="cmmi-10">U</span><sup><span class="cmmi-7">T</span></sup> with <span class="cmmi-10">U </span>orthogonal. Therefore, the eigenvalues of <span class="cmmi-10">S </span>are 2 and 5. Its determinant is 10. The
     eigenvectors are the eigenvectors of <span class="cmr-10">Λ </span>rotated as well, that is:
<div class="math-display">
<img alt="    (             ) (      ) (             )
      cosθ  - sin θ     1 0      cosθ   sinθ
V =    sinθ   cosθ      0 1     - sin θ  cos θ  .
" class="math-display" src="summary298x.png"/></div>
<!--l. 1900--><p class="noindent"><span class="cmmi-10">S </span>is positive definite because
                                                                                            
                                                                                            
<div class="math-display">
<img alt="        (              )(      ) (              )
xSxT = x   cosθ  - sin θ     2  0     cosθ   sin θ  xT ,
           sinθ   cosθ      0  5     - sinθ cosθ
" class="math-display" src="summary299x.png"/></div>
<!--l. 1913--><p class="noindent">now note that
<div class="math-display">
<img alt="(  (              ))    (              )
      cos θ - sin θ    T     cosθ   sin θ   T
  x   sinθ   cosθ      =    - sinθ cosθ  x  ,
" class="math-display" src="summary300x.png"/></div>
<!--l. 1923--><p class="noindent">so
<div class="math-display">
<img alt="         ( 2  0 )
xSxT = y   0  5  yT ≥ 0,
" class="math-display" src="summary301x.png"/></div>
<!--l. 1930--><p class="noindent">because <img align="middle" alt="(  2  0)
   0  5" class="left" src="summary302x.png"/> is positive semi-definite (symmetric with positive eigenvalues).
     </p></p></p></p></p></p></p></li>
<li class="enumerate" id="x1-10016x5">
<!--l. 1934--><p class="noindent">For what numbers <span class="cmmi-10">c </span>and <span class="cmmi-10">d </span>are the following matrices positive definite?
         <ol class="enumerate2">
<li class="enumerate" id="x1-10018x1">
<!--l. 1937--><p class="noindent"><span class="cmmi-10">A </span><span class="cmr-10">= </span><img align="middle" alt="(          )
(  c  1  1 )
   1  c  1
   1  1  c" class="left" src="summary303x.png"/>: all principal minors must be positive. That is:
             <ul class="itemize1">
<li class="itemize">
<!--l. 1943--><p class="noindent"><span class="cmmi-10">c &gt; </span><span class="cmr-10">0</span>.
             </p></li>
<li class="itemize">
<!--l. 1944--><p class="noindent"><img align="middle" alt="|     |
|| c  1||
| 1  c|" class="left" src="summary304x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">c</span><sup><span class="cmr-7">2</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">1 </span><span class="cmmi-10">&gt; </span><span class="cmr-10">0</span>. Combined with the previous one, this is <span class="cmmi-10">c &gt; </span><span class="cmr-10">1</span>.
                                                                                            
                                                                                            
             </p></li>
<li class="itemize">
<!--l. 1948--><p class="noindent"><img align="middle" alt="|        |
|| c  1 1 ||
|| 1  c 1 ||
| 1  1 c |" class="left" src="summary305x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">c</span><sup><span class="cmr-7">3</span></sup><span class="cmr-10">+2</span><span class="cmsy-10">-</span><span class="cmr-10">3</span><span class="cmmi-10">c. </span>Roots: 1, <!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-24"><colgroup id="TBL-24-1g"><col id="TBL-24-1"/></colgroup><colgroup id="TBL-24-2g"><col id="TBL-24-2"/><col id="TBL-24-3"/><col id="TBL-24-4"/><col id="TBL-24-5"/></colgroup><tr id="TBL-24-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-1-1" style="white-space:nowrap; text-align:center;"></td><td class="td11" id="TBL-24-1-2" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-24-1-3" style="white-space:nowrap; text-align:center;">0</td><td class="td11" id="TBL-24-1-4" style="white-space:nowrap; text-align:center;">-3</td><td class="td11" id="TBL-24-1-5" style="white-space:nowrap; text-align:center;"> 2 </td></tr><tr id="TBL-24-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-2-1" style="white-space:nowrap; text-align:center;">1</td> <td class="td11" id="TBL-24-2-2" style="white-space:nowrap; text-align:center;"> </td> <td class="td11" id="TBL-24-2-3" style="white-space:nowrap; text-align:center;">1</td> <td class="td11" id="TBL-24-2-4" style="white-space:nowrap; text-align:center;"> 1 </td> <td class="td11" id="TBL-24-2-5" style="white-space:nowrap; text-align:center;">-2</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-3-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-24-3-2" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-24-3-3" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-24-3-4" style="white-space:nowrap; text-align:center;">-2</td><td class="td11" id="TBL-24-3-5" style="white-space:nowrap; text-align:center;"> 0 </td></tr><tr id="TBL-24-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-4-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>, and we have <span class="cmmi-10">c</span><sup><span class="cmr-7">2</span></sup> <span class="cmr-10">+ </span><span class="cmmi-10">c</span><span class="cmsy-10">- </span><span class="cmr-10">2</span>, with roots <span class="cmmi-10">c </span><span class="cmr-10">=</span> <img align="middle" alt="    √-
--1±2-5" class="frac" src="summary306x.png"/>. We are only interested in the interval <img align="middle" alt="(1,∞ )" class="left" src="summary307x.png"/>, in which
             <span class="cmmi-10">c</span><sup><span class="cmr-7">3</span></sup> <span class="cmsy-10">- </span><span class="cmr-10">3</span><span class="cmmi-10">c </span><span class="cmr-10">+ 2 </span><span class="cmmi-10">&gt; </span><span class="cmr-10">0</span>.</p></li></ul>
<!--l. 1974--><p class="noindent">Therefore, it is <span class="cmmi-10">c &gt; </span><span class="cmr-10">1</span>.
         </p></p></li>
<li class="enumerate" id="x1-10020x2">
<!--l. 1975--><p class="noindent"><span class="cmmi-10">B </span><span class="cmr-10">= </span><img align="middle" alt="( 1  2  3 )
( 2  d  4 )
  3  4  5" class="left" src="summary308x.png"/> <span class="cmr-10">:</span>
<ul class="itemize1">
<li class="itemize">
<!--l. 1981--><p class="noindent"><span class="cmr-10">1 </span><span class="cmmi-10">&gt; </span><span class="cmr-10">0</span>.
             </p></li>
<li class="itemize">
<!--l. 1982--><p class="noindent"><img align="middle" alt="|     |
|| 1  2||
| 2  d|" class="left" src="summary309x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">d </span><span class="cmsy-10">- </span><span class="cmr-10">4 </span><span class="cmmi-10">&gt; </span><span class="cmr-10">0</span> <span class="cmsy-10">⇐⇒</span> <span class="cmmi-10">d &gt; </span><span class="cmr-10">4</span>.
             </p></li>
<li class="itemize">
<!--l. 1986--><p class="noindent"><img align="middle" alt="|| 1  2 3 ||
|| 2  d 4 ||
|| 3  4 5 ||" class="left" src="summary310x.png"/> <span class="cmr-10">= 5</span><span class="cmmi-10">d </span><span class="cmr-10">+ 24 + 24 </span><span class="cmsy-10">- </span><span class="cmr-10">9</span><span class="cmmi-10">d </span><span class="cmsy-10">- </span><span class="cmr-10">16 </span><span class="cmsy-10">- </span><span class="cmr-10">20 = </span><span class="cmsy-10">-</span><span class="cmr-10">4</span><span class="cmmi-10">d </span><span class="cmr-10">+ 12 </span><span class="cmmi-10">&gt; </span><span class="cmr-10">0</span> <span class="cmsy-10">⇐⇒</span> <span class="cmsy-10">- </span><span class="cmr-10">4</span><span class="cmmi-10">d &gt; </span><span class="cmsy-10">-</span><span class="cmr-10">12</span> <span class="cmsy-10">⇐⇒</span> <span class="cmmi-10">d &lt; </span><span class="cmr-10">3</span><span class="cmmi-10">.</span></p></li></ul>
<!--l. 1992--><p class="noindent">Therefore, there is no value for <span class="cmmi-10">d </span>for which <span class="cmmi-10">B </span>is positive.</p></p></li></ol>
</p></li>
<li class="enumerate" id="x1-10022x6">
<!--l. 1994--><p class="noindent">Show that if <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub><span class="cmmi-10">,λ</span><sub><span class="cmr-7">2</span></sub><span class="cmmi-10">,...,λ</span><sub><span class="cmmi-7">n</span></sub> are the eigenvalues of a matrix <span class="cmmi-10">A</span>, then <span class="cmmi-10">A</span><sup><span class="cmmi-7">m</span></sup> has as eigenvalues <span class="cmmi-10">λ</span><sub><span class="cmr-7">1</span></sub><sup><span class="cmmi-7">m</span></sup><span class="cmmi-10">,λ</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmmi-7">m</span></sup><span class="cmmi-10">,...,λ</span><sub><span class="cmmi-7">n</span></sub><sup><span class="cmmi-7">m</span></sup>.
     <!--l. 1997--><p class="noindent">Induction on <span class="cmmi-10">m</span>.
     <!--l. 1999--><p class="noindent"><span class="cmmi-10">m </span><span class="cmr-10">= 1</span>: Obvious.
     <!--l. 2001--><p class="noindent"><span class="cmmi-10">m </span><span class="cmr-10">= 2</span>: Let <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub> be the eigenvector associated to <span class="cmmi-10">λ</span><sub><span class="cmmi-7">i</span></sub>, then
<div class="math-display">
<img alt="  2                              2
A vi = A (Avi) = A (λivi) = λiAvi = λivi,
" class="math-display" src="summary311x.png"/></div>
<!--l. 2006--><p class="noindent">so <span class="cmmi-10">λ</span><sub><span class="cmmi-7">i</span></sub><sup><span class="cmr-7">2</span></sup> is an eigenvalue of <span class="cmmi-10">A</span><sup><span class="cmr-7">2</span></sup>, with associated eigenvector <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub>.
     <!--l. 2009--><p class="noindent">Suppose it is true for <span class="cmmi-10">m </span><span class="cmsy-10">- </span><span class="cmr-10">1</span>, then, for <span class="cmmi-10">m</span>:
<div class="math-display">
<img alt="        (       )    (      )
Amvi = A Am -1vi = A  λmi-1vi = λmi -1Avi = λmi vi,
" class="math-display" src="summary312x.png"/></div>
<!--l. 2013--><p class="noindent">and we have the result.
     </p></p></p></p></p></p></p></li>
<li class="enumerate" id="x1-10024x7">
<!--l. 2014--><p class="noindent">What is the determinant of any orthogonal matrix?
     <!--l. 2016--><p class="noindent">If <span class="cmmi-10">U </span>is orthogonal, then <span class="cmmi-10">UU</span><sup><span class="cmmi-7">T</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">I</span>. Then,
<div class="math-display">
<img alt="        |   T|     | T|     2
1 = |I| = |UU | = |U||U | = |U |.
" class="math-display" src="summary313x.png"/></div>
<!--l. 2020--><p class="noindent">Therefore, <img align="middle" alt="|U |" class="left" src="summary314x.png"/> <span class="cmr-10">= </span><span class="cmsy-10">±</span><span class="cmr-10">1</span>.
     </p></p></p></li>
<li class="enumerate" id="x1-10026x8">
<!--l. 2021--><p class="noindent">For an undirected graph, both the adjacency matrix and the Laplacian matrix are symmetric. Show that the
     Laplacian matrix is positive semi-definite.</p></li></ol>
<!--l. 2025--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">3   </span> <a id="x1-110003"></a>Random Walks on Graphs</h3>
<!--l. 2027--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">3.1   </span> <a id="x1-120003.1"></a>First Perron-Frobenius Theorem</h4>
<div class="tcolorbox tcolorbox" id="tcolobox-6">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2030--><p class="noindent"><span class="head">
<a id="x1-12001r1"></a>
<span class="ecbx-1000">Definition 3.1.</span> </span>A matrix, <span class="cmmi-10">A</span>, is <span class="ecbx-1000">positive </span>if <span class="cmmi-10">A</span><sub><span class="cmmi-7">ij</span></sub> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><span class="cmsy-10">∀</span><span class="cmmi-10">i,j</span>. Similarly, it is <span class="ecbx-1000">non-negative </span>if <span class="cmmi-10">A</span><sub><span class="cmmi-7">ij</span></sub> <span class="cmsy-10">≥ </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><span class="cmsy-10">∀</span><span class="cmmi-10">i,j</span>.
Similar definitions apply for negative and non-positive matrices.
</p></div>
<!--l. 2034--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 2037--><p class="noindent"><span class="head">
<a id="x1-12002r1"></a>
<span class="ecti-1000">Remark </span>3.1<span class="ecti-1000">.</span> </span>Observe that it is not the same for a matrix to be positive as to be positive semi-definite.
</p></div>
<!--l. 2040--><p class="noindent">
The Perron-Frobenius theorem for non-negative matrices leads to the characterization of non-negative primary
eigenvectors. This is useful in stationary distributions, such as those of Markov chains and the famous Google’s page
rank algorithm.
<div class="tcolorbox tcolorbox" id="tcolobox-7">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2047--><p class="noindent"><span class="head">
<a id="x1-12003r1"></a>
<span class="ecbx-1000">Theorem 3.1.</span> </span><span class="ecbi-1000">Perron-Frobenius Theorem for positive matrices</span>
<!--l. 2050--><p class="noindent"><span class="ecti-1000">If </span><span class="cmmi-10">A </span><span class="ecti-1000">is a positive matrix, then:</span>
<ul class="itemize1">
<li class="itemize">
<!--l. 2052--><p class="noindent"><span class="cmsy-10">∃</span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,v</span><sup><span class="cmsy-7">*</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><img align="middle" alt="∥v*∥" class="left" src="summary315x.png"/><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 1 </span><span class="ecti-1000">such that </span><span class="cmmi-10">A </span><span class="cmsy-10">⋅ </span><span class="cmmi-10">v </span><span class="cmr-10">= </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">(</span><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is a right column eigenvector).</span>
</p></li>
<li class="itemize">
<!--l. 2055--><p class="noindent"><span class="cmsy-10">∃</span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,w &gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><img align="middle" alt="∥w ∥" class="left" src="summary316x.png"/><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 1 </span><span class="ecti-1000">such that </span><span class="cmmi-10">w </span><span class="cmsy-10">⋅ </span><span class="cmmi-10">A </span><span class="cmr-10">= </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup><span class="cmmi-10">w </span><span class="ecti-1000">(</span><span class="cmmi-10">w </span><span class="ecti-1000">is a left row eigenvector).</span>
</p></li>
<li class="itemize">
<!--l. 2057--><p class="noindent"><span class="ecti-1000">For any other eigenvalue, </span><span class="cmmi-10">λ</span><span class="ecti-1000">, it holds, </span><img align="middle" alt="|λ|" class="left" src="summary317x.png"/> <span class="cmmi-10">&lt; λ</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">(</span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is a dominant eigenvalue, called the </span><span class="ecbi-1000">Perron</span>
<span class="ecbi-1000">eigenvalue</span><span class="ecti-1000">).</span>
</p></li>
<li class="itemize">
<!--l. 2060--><p class="noindent"><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is unique and </span><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is unique (the only vector of unit length associated to </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup><span class="ecti-1000">).</span></p></li></ul>
</p></p></div>
<!--l. 2063--><p class="noindent">
</p></div>
</div>
<div class="tcolorbox tcolorbox" id="tcolobox-8">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2067--><p class="noindent"><span class="head">
<a id="x1-12004r2"></a>
<span class="ecbx-1000">Definition 3.2.</span> </span>A non-negative matrix <span class="cmmi-10">A </span>is:
     <ul class="itemize1">
<li class="itemize">
<!--l. 2070--><p class="noindent"><span class="ecbx-1000">Irreducible </span>if, <span class="cmsy-10">∀</span><span class="cmmi-10">i,j,</span><span class="cmsy-10">∃</span><span class="cmmi-10">k </span><span class="cmsy-10">∈</span> <span class="msbm-10">ℕ</span><sup><span class="cmsy-7">*</span></sup> such that <span class="cmmi-10">A</span><sub><span class="cmmi-7">i,j</span></sub><sup><span class="cmmi-7">k</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span>.
     </p></li>
<li class="itemize">
<!--l. 2072--><p class="noindent"><span class="ecbx-1000">Primitive </span>if, <span class="cmsy-10">∃</span><span class="cmmi-10">k </span><span class="cmsy-10">∈ </span><span class="msbm-10">ℕ</span><sup><span class="cmsy-7">*</span></sup> such that <span class="cmsy-10">∀</span><span class="cmmi-10">i,j</span>, <span class="cmmi-10">A</span><sub><span class="cmmi-7">i,j</span></sub><sup><span class="cmmi-7">k</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span>.</p></li></ul>
</p></div>
<!--l. 2075--><p class="noindent">
</p></div>
</div>
<div class="tcolorbox tcolorbox" id="tcolobox-9">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2079--><p class="noindent"><span class="head">
<a id="x1-12005r2"></a>
<span class="ecbx-1000">Theorem 3.2.</span> </span><span class="ecbi-1000">Perron-Frobenius Theorem for non-negative matrices</span>
<!--l. 2082--><p class="noindent"><span class="ecti-1000">If </span><span class="cmmi-10">A </span><span class="ecti-1000">is a non-negative matrix, then:</span>
<ul class="itemize1">
<li class="itemize">
<!--l. 2084--><p class="noindent"><span class="cmsy-10">∃</span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,v</span><sup><span class="cmsy-7">*</span></sup><span class="cmsy-10">≥ </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><img align="middle" alt="∥v*∥" class="left" src="summary318x.png"/><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 1 </span><span class="ecti-1000">such that </span><span class="cmmi-10">A </span><span class="cmsy-10">⋅ </span><span class="cmmi-10">v </span><span class="cmr-10">= </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">(</span><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is a right column eigenvector).</span>
</p></li>
<li class="itemize">
<!--l. 2087--><p class="noindent"><span class="cmsy-10">∃</span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span><span class="cmmi-10">,w </span><span class="cmsy-10">≥ </span><span class="cmr-10">0</span><span class="cmmi-10">,</span><img align="middle" alt="∥w ∥" class="left" src="summary319x.png"/><sub><span class="cmr-7">2</span></sub> <span class="cmr-10">= 1 </span><span class="ecti-1000">such that </span><span class="cmmi-10">w </span><span class="cmsy-10">⋅ </span><span class="cmmi-10">A </span><span class="cmr-10">= </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup><span class="cmmi-10">w </span><span class="ecti-1000">(</span><span class="cmmi-10">w </span><span class="ecti-1000">is a left row eigenvector).</span>
</p></li>
<li class="itemize">
<!--l. 2089--><p class="noindent"><span class="ecti-1000">For any other eigenvalue, </span><span class="cmmi-10">λ</span><span class="ecti-1000">, it holds, </span><img align="middle" alt="|λ|" class="left" src="summary320x.png"/><span class="cmsy-10">≤ </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">(</span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is a dominant eigenvalue, called the </span><span class="ecbi-1000">Perron</span>
<span class="ecbi-1000">eigenvalue</span><span class="ecti-1000">).</span>
</p></li>
<li class="itemize">
<!--l. 2092--><p class="noindent"><span class="ecti-1000">If </span><span class="cmmi-10">A </span><span class="ecti-1000">is irreducible, then the vector </span><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is unique and it holds </span><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span><span class="ecti-1000">.</span>
</p></li>
<li class="itemize">
<!--l. 2094--><p class="noindent"><span class="ecti-1000">If </span><span class="cmmi-10">A </span><span class="ecti-1000">is primitive, then the eigenvalue </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="ecti-1000">is unique.</span></p></li></ul>
</p></p></div>
<!--l. 2096--><p class="noindent">
</p></div>
</div>
<!--l. 2099--><p class="noindent">Note now that a graph, <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary321x.png"/>, with adjacency matrix <span class="cmmi-10">A</span>, then: <span class="cmmi-10">G </span>is connected  <span class="cmsy-10">⇐⇒</span><span class="cmsy-10">∀</span><span class="cmr-10">1 </span><span class="cmsy-10">≤ </span><span class="cmmi-10">i,j </span><span class="cmsy-10">≤</span><img align="middle" alt="|V |" class="left" src="summary322x.png"/><span class="cmmi-10">,</span><span class="cmsy-10">∃</span><span class="cmmi-10">k </span><span class="cmsy-10">∈ </span><span class="msbm-10">ℕ</span><sup><span class="cmsy-7">*</span></sup> such
                                                                                            
                                                                                            
that <span class="cmmi-10">A</span><sub><span class="cmmi-7">i,j</span></sub><sup><span class="cmmi-7">k</span></sup> <span class="cmmi-10">&gt; </span><span class="cmr-10">0</span>. This means that the adjacency matrix of connected graphs is irreducible.
<!--l. 2104--><p class="noindent">Now, if a graph is <span class="cmmi-10">k</span>-connected, i.e., there is a <span class="cmmi-10">k</span>-path between all nodes, then its adjacency matrix is primitive.
One sufficient condition for a graph to be <span class="cmmi-10">k</span>-connected is being connected and having <span class="cmmi-10">A</span><sub><span class="cmmi-7">ii</span></sub> <span class="cmmi-10">&gt; </span><span class="cmr-10">0 </span>for some
<span class="cmmi-10">i</span>.
<!--l. 2109--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a id="x1-130003.2"></a>Random Walks on Graphs</h4>
<!--l. 2111--><p class="noindent">A <span class="ecbx-1000">random walk </span>on a graph, <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary323x.png"/>, is a random process that starts from some vertex <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub>, and repeatedly moves to
a neighbour <span class="cmmi-10">v</span><sub><span class="cmmi-7">j</span></sub> chosen at random (for example with uniform distribution). The random walk, <span class="cmmi-10">ξ</span><sub><span class="cmmi-7">t</span></sub>, is therefore a random
variable describing the position of a random walk after <span class="cmmi-10">t </span>steps. The probability of going from node <span class="cmmi-10">i </span>to node <span class="cmmi-10">j </span>is the
<span class="ecbx-1000">transition probability</span>,
<div class="math-display">
<img alt="Pij = P (ξt+1 = j|ξt = i).
" class="math-display" src="summary324x.png"/></div>
<!--l. 2121--><p class="noindent">The sequence of nodes can be regarded as a Markov chain, i.e. a discrete time stochastic process, where the position <span class="cmmi-10">ξ</span><sub><span class="cmr-7">0</span></sub>
is the initial state, according to the <span class="ecbx-1000">init distribution</span>, <span class="cmmi-10">P</span><sup><span class="cmr-7">0</span></sup>, and from this point the next state only depends on the
current state. The <span class="cmmi-10">t</span><span class="ecbx-1000">-step transition probability </span>is
<div class="math-display">
<img alt="Pitj = P (ξt = j|ξ0 = i).
" class="math-display" src="summary325x.png"/></div>
<!--l. 2129--><p class="noindent">Some examples are the path traced by a molecule in a liquid or a gas (Brownian motion), the price of a fluctuating
stock, the financial status of a gambler, etc. The term random walk was first introduced by Karl Pearson in
1905.
<!--l. 2134--><p class="noindent">The following is a basic visual example of a random walk on a graph:
<div class="center">
<!--l. 2135--><p class="noindent">
<!--l. 2136--><p class="noindent"><img alt="PIC" src="21_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ement-Analytics_LectureNotes_source_pegado8.png"/>
</p></p></div>
<!--l. 2139--><p class="noindent">Note that we can express the transition probability <span class="cmmi-10">P</span><sub><span class="cmmi-7">ij</span></sub> in a matrix <span class="cmmi-10">P</span>. This matrix is the <span class="ecbx-1000">transition probabilities</span>
<span class="ecbx-1000">matrix</span>, and it is <span class="ecbx-1000">row-stochastic </span>or <span class="ecbx-1000">row-Markov</span>, meaning,
<div class="math-display">
<img alt="Pij ≥ 0,∀i,j, and ∑ Pi,j = 1,∀i.
                j
" class="math-display" src="summary326x.png"/></div>
<!--l. 2145--><p class="noindent">This implies that
<div class="math-display">
<img alt="          (   )   (    )
            1        1
P ⋅1 = P ⋅|( ... |) = |(  ... |) .
            1        1
" class="math-display" src="summary327x.png"/></div>
<!--l. 2157--><p class="noindent">This means that <img align="middle" alt="( 1 )
|  .|
(  ..)
  1" class="left" src="summary328x.png"/> is an eigenvector and <span class="cmr-10">1 </span>is an eigenvalue. 1 is the largest eigenvalue because
<div class="math-display">
<img alt="∥Pv∥1 ≤ ∥v∥1 ,
" class="math-display" src="summary329x.png"/></div>
<!--l. 2166--><p class="noindent">so, for an eigenvalue <span class="cmmi-10">λ</span>,
<div class="math-display">
<img alt="|λ|∥v∥ = ∥λv∥  = ∥Pv∥  ≤ ∥v∥  ,
     1      1       1     1
" class="math-display" src="summary330x.png"/></div>
<!--l. 2170--><p class="noindent">so <img align="middle" alt="|λ |" class="left" src="summary331x.png"/><span class="cmsy-10">≤ </span><span class="cmr-10">1</span>.
<!--l. 2172--><p class="noindent">From the Perron-Frobenius theorem for non-negative matrices, we know that:
     <ul class="itemize1">
<li class="itemize">
<!--l. 2175--><p class="noindent"><span class="cmmi-10">v</span><sup><span class="cmsy-7">*</span></sup> <span class="cmr-10">= </span><img align="middle" alt="( 1 )
|  .|
(  ..)
  1" class="left" src="summary332x.png"/> is a right Perron eigenvector for <span class="cmmi-10">P</span>.
     </p></li>
<li class="itemize">
<!--l. 2180--><p class="noindent"><img align="middle" alt="|λ|" class="left" src="summary333x.png"/><span class="cmsy-10">≤ </span><span class="cmmi-10">λ</span><sup><span class="cmsy-7">*</span></sup> <span class="cmr-10">= 1 </span>is a Perron eigenvalue.
     </p></li>
<li class="itemize">
<!--l. 2181--><p class="noindent">There exists a left Perron eigenvector <span class="cmmi-10">πP </span><span class="cmr-10">= </span><span class="cmmi-10">π</span>.
     </p></li>
<li class="itemize">
<!--l. 2182--><p class="noindent">If <span class="cmmi-10">P </span>is irreducible, the vector <span class="cmmi-10">π </span>is unique.
     </p></li>
<li class="itemize">
<!--l. 2183--><p class="noindent">If <span class="cmmi-10">P </span>is primitive, the eigenvalue 1 is unique (there are no complex eigenvalues with norm 1).</p></li></ul>
<!--l. 2187--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">3.2.1   </span> <a id="x1-140003.2.1"></a>The Stationary Distribution</h5>
<!--l. 2189--><p class="noindent">Let <span class="cmmi-10">π</span><sup><span class="cmmi-7">t</span></sup> be the row vector giving the probability distribution of <span class="cmmi-10">ξ</span><sub><span class="cmmi-7">t</span></sub>, that is, <span class="cmmi-10">π</span><sub><span class="cmmi-7">i</span></sub><sup><span class="cmmi-7">t</span></sup> is the probability that the random walk is
at node <span class="cmmi-10">i </span>at time <span class="cmmi-10">t</span>. Therefore, we can write
<div class="math-display">
<img alt="πt+1 = πtP,
" class="math-display" src="summary334x.png"/></div>
<!--l. 2195--><p class="noindent">which, applied recursively, leads to
<div class="math-display">
<img alt="  t+1    0 t+1
π    = π P   .
" class="math-display" src="summary335x.png"/></div>
<!--l. 2199--><p class="noindent">Or, we can take limits
<div class="math-display">
<img alt="lim πt+1 = lim πtP.
 t        t
" class="math-display" src="summary336x.png"/></div>
<!--l. 2203--><p class="noindent">If this limit exists, <span class="cmr-10">lim</span><sub><span class="cmmi-7">t</span></sub><span class="cmmi-10">π</span><sup><span class="cmmi-7">t</span></sup> <span class="cmr-10">= </span><span class="cmmi-10">π</span>, then
<div class="math-display">
<img alt="π = πP.
" class="math-display" src="summary337x.png"/></div>
<!--l. 2207--><p class="noindent">Convergence is ensured if <span class="cmmi-10">P </span>is irreducible.
<div class="newtheorem">
<!--l. 2208--><p class="noindent"><span class="head">
<a id="x1-14001r1"></a>
<span class="ecbx-1000">Example 3.1.</span> </span>The following example does not converge:
<!--l. 2211--><p class="noindent">
<div class="math-display">
<img alt="    (      )
P =   0  1
      1  0
" class="math-display" src="summary338x.png"/></div>
</p></p></div>
<!--l. 2217--><p class="noindent">
A common way to perform random walks on graphs is with the uniform probability. That is,
                                                                                            
                                                                                            
<div class="math-display">
<img alt="                       {
P  = P (ξ   = j|ξ = i) =  1di if (i,j) ∈ E,
 ij      t+1     t        0  otherwise,
" class="math-display" src="summary339x.png"/></div>
<!--l. 2226--><p class="noindent">where <span class="cmmi-10">d</span><sub><span class="cmmi-7">i</span></sub> is the degree of node <span class="cmmi-10">i</span>. Equivalently,
<div class="math-display">
<img alt="Pij = ∑-Aij----= Aij= D -1Aij.
        j∈V Aij   di     ii
" class="math-display" src="summary340x.png"/></div>
<!--l. 2230--><p class="noindent">The random sequence of vertices <span class="cmmi-10">ξ</span><sub><span class="cmr-7">0</span></sub><span class="cmmi-10">,ξ</span><sub><span class="cmr-7">1</span></sub><span class="cmmi-10">,...,ξ</span><sub><span class="cmmi-7">t</span></sub><span class="cmmi-10">,ξ</span><sub><span class="cmmi-7">t</span><span class="cmr-7">+1</span></sub><span class="cmmi-10">,... </span>visited on <span class="cmmi-10">G </span>is a Markov Chain with state space <span class="cmmi-10">V </span>and matrix
transition probabilite <span class="cmmi-10">P </span><span class="cmr-10">= </span><span class="cmmi-10">D</span><sup><span class="cmsy-7">-</span><span class="cmr-7">1</span></sup><span class="cmmi-10">A</span>.
<div class="newtheorem">
<!--l. 2233--><p class="noindent"><span class="head">
<a id="x1-14002r2"></a>
<span class="ecbx-1000">Example 3.2.</span> </span>Given the graph:
<div class="center">
<!--l. 2235--><p class="noindent">
<!--l. 2236--><p class="noindent"><img alt="PIC" src="22_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ement-Analytics_LectureNotes_source_pegado9.png"/>
</p></p></div>
<!--l. 2239--><p class="noindent">The transition matrix for the uniform distribution is:
<div class="math-display">
<img alt="    (                   )
       0  0  11  01  01  0
    ||  01  01  3  31  31  0 ||
P = ||  4  41  01  4  41  01 ||
    ||  0  41  41  01  4  41 ||
    (  0  4  4  41  01  4 )
       0  0  0  2  2  0
" class="math-display" src="summary341x.png"/></div>
</p></p></div>
<!--l. 2250--><p class="noindent">
<!--l. 2252--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">3.2.2   </span> <a id="x1-150003.2.2"></a>Balance Condition</h5>
<!--l. 2254--><p class="noindent">A probability distribution <span class="cmmi-10">π </span>satisfies the <span class="ecbx-1000">balance condition </span>if
<div class="math-display">
<img alt="πiPij = πjPji,∀i,j ∈ V.
" class="math-display" src="summary342x.png"/></div>
<!--l. 2259--><p class="noindent">If <span class="cmmi-10">π </span>satisfies the balance condition, then it is the stationary distribution for the undirected graph. To see this, notice
that the balance condition can be rewritten as
<div class="math-display">
<img alt="  A       A
πi--ij = πj-ji.
   di     dj
" class="math-display" src="summary343x.png"/></div>
<!--l. 2265--><p class="noindent">Since the graph is considered without direction, <span class="cmmi-10">A</span><sub><span class="cmmi-7">ij</span></sub> <span class="cmr-10">= </span><span class="cmmi-10">A</span><sub><span class="cmmi-7">ji</span></sub>, and then
<div class="math-display">
<img alt="πi  πj
d-= d- = c,
 i   j
" class="math-display" src="summary344x.png"/></div>
<!--l. 2270--><p class="noindent">where <span class="cmmi-10">c </span>is a constant, for all <span class="cmmi-10">i,j</span>. Now, we know that <span class="cmex-10">∑</span>
<sub><span class="cmmi-7">i</span></sub><span class="cmmi-10">π</span><sub><span class="cmmi-7">i</span></sub> <span class="cmr-10">= 1</span>, so
<div class="math-display">
<img alt="1 = ∑  πi = ∑  πjdi = ∑ cdi = c∑ di.
     i      i  di     i        i
" class="math-display" src="summary345x.png"/></div>
<!--l. 2275--><p class="noindent">Therefore
<div class="math-display">
<img alt="∑
   di = 1.
 i      c
" class="math-display" src="summary346x.png"/></div>
<!--l. 2279--><p class="noindent">Finally, it must be
<div class="math-display">
<img alt="           d      d
πi = dic = ∑-i = --i-.
           jdj   2 |E |
" class="math-display" src="summary347x.png"/></div>
<!--l. 2283--><p class="noindent">In this case:
<div class="math-display">
<img alt="        ∑         ∑           ∑         ∑         ∑
(πP )i =    πjPji =    πj 1-Aji =  cAji = c  Aji = c   Aij = cdi = ∑di-= πi.
         j         j   dj      j         j         j              jdj
" class="math-display" src="summary348x.png"/></div>
<!--l. 2287--><p class="noindent">Therefore, we have seen that the stationary probabilities are proportional to the degrees of the vertices.
<!--l. 2290--><p class="noindent">In particular, if <span class="cmmi-10">G </span>is <span class="cmmi-10">d</span>-regular, i.e., all nodes have degree <span class="cmmi-10">d</span>, then
<div class="math-display">
<img alt="   --d-   --d-   1-
π = 2 |E | = d ⋅n = n
" class="math-display" src="summary349x.png"/></div>
<!--l. 2295--><p class="noindent">is the uniform distribution. With this setup, a random walk moves along every edge with the same frequence.
<!--l. 2298--><p class="noindent">The balance condition implies time-reversibility: the reversed walk is also a Markov chain.
<!--l. 2301--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">3.2.3   </span> <a id="x1-160003.2.3"></a>Hitting Time</h5>
<div class="tcolorbox tcolorbox" id="tcolobox-10">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2304--><p class="noindent"><span class="head">
<a id="x1-16001r3"></a>
<span class="ecbx-1000">Definition 3.3.</span> </span>The <span class="ecbx-1000">expected hitting time</span>, <span class="cmmi-10">H</span><sub><span class="cmmi-7">ij</span></sub>, is the expected number of steps before node <span class="cmmi-10">j </span>is
reached in a random walk starting at node <span class="cmmi-10">i</span>:
<div class="math-display">
<img alt="     {1 + ∑  P  H    if i ⁄= j,
Hij =       k ik kj
       0             otherwise.
" class="math-display" src="summary350x.png"/></div>
</p></div>
<!--l. 2315--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 2318--><p class="noindent"><span class="head">
<span class="ecti-1000">Remark.</span> </span>In general, <span class="cmmi-10">H</span><sub><span class="cmmi-7">ij</span></sub><span class="cmmi-10">≠</span><span class="cmmi-10">H</span><sub><span class="cmmi-7">ji</span></sub><span class="cmmi-10">, </span>so <span class="cmmi-10">H </span>is not symmetric.
</p></div>
<!--l. 2320--><p class="noindent">
<div class="newtheorem">
<!--l. 2322--><p class="noindent"><span class="head">
<a id="x1-16002r2"></a>
<span class="ecti-1000">Remark </span>3.2<span class="ecti-1000">.</span> </span><span class="cmmi-10">H </span>follows the triangle inequality
<div class="math-display">
<img alt="Hij ≤ Hik + Hkj.
" class="math-display" src="summary351x.png"/></div>
</p></div>
<!--l. 2327--><p class="noindent">
<div class="tcolorbox tcolorbox" id="tcolobox-11">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2329--><p class="noindent"><span class="head">
<a id="x1-16003r4"></a>
<span class="ecbx-1000">Definition 3.4.</span> </span>The <span class="ecbx-1000">commute time</span>, <span class="cmmi-10">C</span><sub><span class="cmmi-7">ij</span></sub>, is the expected number of steps in a random walk starting
at node <span class="cmmi-10">i</span>, reaching node <span class="cmmi-10">j </span>and coming back to <span class="cmmi-10">i </span>again:
<div class="math-display">
<img alt="Cij = Hij + Hji.
" class="math-display" src="summary352x.png"/></div>
</p></div>
<!--l. 2336--><p class="noindent">
</p></div>
</div>
<!--l. 2340--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">3.2.4   </span> <a id="x1-170003.2.4"></a>Lazy Random Walk</h5>
<!--l. 2342--><p class="noindent">The lazy random walk is a variation of the random walk, in which the walk stays at the current node with probability
<img align="middle" alt="12" class="frac" src="summary353x.png"/>, and continue with the walk with the rest of the probability.
<!--l. 2346--><p class="noindent">In this case, the transition matrix is
<div class="math-display">
<img alt="     (
     |{ 12   if i = j,
Pij =   12di- if (i,j) ∈ E,
     |(0    otherwise.
" class="math-display" src="summary354x.png"/></div>
<!--l. 2355--><p class="noindent">If <span class="cmmi-10">Q </span>is the transition matrix for the uniform random walk, then
<div class="math-display">
<img alt="πt+1 = πtP =  1πt + 1πtQ.
             2    2
" class="math-display" src="summary355x.png"/></div>
<div class="tcolorbox tcolorbox" id="tcolobox-12">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2361--><p class="noindent"><span class="head">
<a id="x1-17001r1"></a>
<span class="ecbx-1000">Proposition 3.1.</span> </span><span class="ecti-1000">If the lazy random walk converges and the uniform random walk is irreducible, then</span>
<span class="ecti-1000">it converges to the same stationary distribution as the uniform random walk.</span>
</p></div>
<!--l. 2365--><p class="noindent">
</p></div>
</div>
<div class="proof">
<!--l. 2369--><p class="noindent"><span class="head">
<span class="ecti-1000">Proof.</span> </span>Let <span class="cmmi-10">Q </span>be the transition matrix for the uniform random walk, then, the stationary distribution is
                                                                                            
                                                                                            
<div class="math-display">
<img alt="π = πQ.
" class="math-display" src="summary356x.png"/></div>
<!--l. 2374--><p class="noindent">For lazy random walk, say the stationary distribution is <span class="cmmi-10">π</span><span class="cmsy-10">′</span>. Then:
<div class="math-display">
<img alt="    1     1         1     1
π′ = 2 π′ + 2π′Q ⇐ ⇒ 2π′ = 2π′Q ⇐ ⇒ π′ = π′Q.
" class="math-display" src="summary357x.png"/></div>
<!--l. 2379--><p class="noindent">Therefore, since <span class="cmmi-10">Q </span>is irreducible, the uniqueness of <span class="cmmi-10">π </span>implies <span class="cmmi-10">π</span><span class="cmsy-10">′ </span><span class="cmr-10">= </span><span class="cmmi-10">π</span>.                                                     __
</p></p></p></div>
<!--l. 2383--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a id="x1-180003.3"></a>PageRank</h4>
<!--l. 2385--><p class="noindent">The web is very heterogeneous bu nature, and certainly huge. We cannot expect the web graph to be connected. Page
and Brin proposed a way to overcome this problem, by ensuring the convergence of random walks on the web
graph.
<!--l. 2390--><p class="noindent">The idea is to fix a positive constant, <span class="cmmi-10">p</span>, between 0 and 1, called the <span class="ecbx-1000">damping factor</span>, and which represents the
probability that a user leaves the current page and goes to a random web.
<!--l. 2394--><p class="noindent">Therefore, the <span class="ecbx-1000">page rank transition matrix </span>is
<div class="math-display">
<img alt="Pg = (1 - p)P + pB,
" class="math-display" src="summary358x.png"/></div>
<!--l. 2398--><p class="noindent">where <span class="cmmi-10">B </span><span class="cmr-10">=</span> <img align="middle" alt="1
n" class="frac" src="summary359x.png"/><img align="middle" alt="( 1  1  ... 1 )
| 1  1  ... 1 |
|| .  .  .    .||
( ..  ..   ..  ..)
  1  1  ... 1" class="left" src="summary360x.png"/><span class="cmmi-10">.</span>
<!--l. 2405--><p class="noindent"><span class="cmmi-10">p </span>is usually chosen small, like 0.15, modelling a situation in which a surfer will, most of the time, follow the outgoing
links and move on to one of the neighbours. A smaller percentage of time, the surfer will dump the current page and
choose arbritrarily a different page from the web.
<div class="tcolorbox tcolorbox" id="tcolobox-13">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2412--><p class="noindent"><span class="head">
<a id="x1-18001r2"></a>
<span class="ecbx-1000">Proposition 3.2.</span> </span><span class="cmmi-10">P</span><sub><span class="cmmi-7">g</span></sub> <span class="ecti-1000">is stochastic.</span>
</p></div>
<!--l. 2414--><p class="noindent">
</p></div>
</div>
<div class="proof">
<!--l. 2418--><p class="noindent"><span class="head">
<span class="ecti-1000">Proof.</span> </span>We need to proof that, for all <span class="cmmi-10">i</span>, it holds <span class="cmex-10">∑</span>
<sub><span class="cmmi-7">j</span></sub><span class="cmmi-10">P</span><sub><span class="cmmi-7">g</span><sub><span class="cmmi-5">i,j</span></sub></sub> <span class="cmr-10">= 1</span>.
<table class="align-star">
<tr><td class="align-odd"> <span class="cmex-10">∑</span>
<sub><span class="cmmi-7">j</span></sub><span class="cmmi-10">P</span><sub><span class="cmmi-7">g</span><sub><span class="cmmi-5">i,j</span></sub></sub> <span class="cmr-10">=</span></td> <td class="align-even"><span class="cmex-10">∑</span>
<sub><span class="cmmi-7">j</span></sub><img align="middle" alt="(1- p)" class="left" src="summary361x.png"/><span class="cmmi-10">P</span><sub><span class="cmmi-7">ij</span></sub> <span class="cmr-10">+ </span><span class="cmmi-10">pB</span><sub><span class="cmmi-7">ij</span></sub></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - p)" class="left" src="summary362x.png"/><span class="cmex-10">∑</span>
<sub><span class="cmmi-7">j</span></sub><span class="cmmi-10">P</span><sub><span class="cmmi-7">ij</span></sub> <span class="cmr-10">+ </span><span class="cmmi-10">p</span><span class="cmex-10">∑</span>
<sub><span class="cmmi-7">j</span></sub><span class="cmmi-10">B</span><sub><span class="cmmi-7">ij</span></sub></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><img align="middle" alt="(1 - p)" class="left" src="summary363x.png"/> <span class="cmsy-10">⋅ </span><span class="cmr-10">1 + </span><span class="cmmi-10">p</span><span class="cmex-10">∑</span>
<sub><span class="cmmi-7">j</span></sub><img align="middle" alt=" 1
--
n" class="frac" src="summary364x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><span class="cmr-10">1 </span><span class="cmsy-10">- </span><span class="cmmi-10">p </span><span class="cmr-10">+ </span><span class="cmmi-10">p </span><span class="cmsy-10">⋅ </span><span class="cmmi-10">n</span><img align="middle" alt="1
--
n" class="frac" src="summary365x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><span class="cmr-10">1 </span><span class="cmsy-10">- </span><span class="cmmi-10">p </span><span class="cmr-10">+ </span><span class="cmmi-10">p</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"> <span class="cmr-10">=</span></td> <td class="align-even"><span class="cmr-10">1</span><span class="cmmi-10">.</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
                                                                                           __
</p></div>
<!--l. 2429--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">4   </span> <a id="x1-190004"></a>Centrality Measures</h3>
<!--l. 2431--><p class="noindent">Centrality Measures try to answer the question <span class="ecti-1000">’What characterizes an important vertex?’</span>. They define a real-valued
function on the vertices of the graph, <span class="cmmi-10">m </span><span class="cmr-10">: </span><span class="cmmi-10">V </span><span class="cmsy-10">→ </span><span class="msbm-10">ℝ</span>, that serves to rank the vertices. However, there are many
different ways to define such function, leading to different definitions of centrality, such as cohesiveness,
ability to transfer information across the network, to influence other nodes, to control information flow,
etc.
<!--l. 2439--><p class="noindent">There are many centrality measures that count the number of paths through a given vertex. These differ in how
relevant walks are defined and counted. For example, if we only consider paths of length one, we would be
computing degree centrality, while if we allow paths of arbitrary length, we would be computing eigenvalue
centrality.
<!--l. 2445--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.1   </span> <a id="x1-200004.1"></a>Degree Centrality</h4>
<!--l. 2447--><p class="noindent">The more neighbours a vertex has, the higher its communication ability is, increasing its importance.
<div class="tcolorbox tcolorbox" id="tcolobox-14">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2451--><p class="noindent"><span class="head">
<a id="x1-20001r1"></a>
<span class="ecbx-1000">Definition 4.1.</span> </span>Given the graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary366x.png"/>, with adjacency matrix <span class="cmmi-10">A</span>, the <span class="ecbx-1000">degree centrality </span>is
computed as
<div class="math-display">
<img alt="D = Au,
" class="math-display" src="summary367x.png"/></div>
<!--l. 2457--><p class="noindent">where <span class="cmmi-10">u </span><span class="cmr-10">=</span> <span class="cmbx-10">1</span> <span class="cmsy-10">∈ </span><span class="msbm-10">ℝ</span><sup><span class="cmmi-7">n</span></sup>.
</p></p></div>
<!--l. 2458--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 2461--><p class="noindent"><span class="head">
<a id="x1-20002r1"></a>
<span class="ecbx-1000">Example 4.1.</span> </span>Consider the following graph:
<div class="center">
<!--l. 2463--><p class="noindent">
<!--l. 2464--><p class="noindent"><img alt="PIC" src="23_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___t-Analytics_LectureNotes_source_centrality0.png"/>
</p></p></div>
<!--l. 2467--><p class="noindent">The degree centrality is
<div class="math-display">
<img alt="         (                  ) (   )    (   )
            0  1  0 0  1  0      1       2
         ||  1  0  1 0  1  0 || ||  1||    || 3 ||
D = Au = ||  0  1  0 1  0  0 || ||  1||  = || 2 || ,
         ||  0  0  1 0  1  1 || ||  1||    || 3 ||
         (  1  1  0 1  0  0 ) (  1)    ( 3 )
            0  0  0 1  0  0      1       1
" class="math-display" src="summary368x.png"/></div>
<!--l. 2492--><p class="noindent">so the nodes with highest value are nodes <img align="middle" alt="(2,4,5)" class="left" src="summary369x.png"/>.
</p></p></p></div>
<!--l. 2493--><p class="noindent">
One drawback of this measure, is that it is very likely that several nodes present the same exact value, difficulting an
unique ranking of vertices.
<!--l. 2498--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.2   </span> <a id="x1-210004.2"></a>Neighbourhood centrality</h4>
<!--l. 2500--><p class="noindent">This measure correspond to the average degree of each vertex neighbours. We could understand this measure as
measuring how much a vertex is related to influencial vertices.
<div class="tcolorbox tcolorbox" id="tcolobox-15">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2505--><p class="noindent"><span class="head">
<a id="x1-21001r2"></a>
<span class="ecbx-1000">Definition 4.2.</span> </span>Given  the  graph  <span class="cmmi-10">G  </span><span class="cmr-10">=  </span><img align="middle" alt="(V,E)" class="left" src="summary370x.png"/>,  with  adjacency  matrix  <span class="cmmi-10">A</span>,  the  <span class="ecbx-1000">neighbourhood</span>
<span class="ecbx-1000">centrality </span>is computed as
<div class="math-display">
<img alt="N = D -1AD,
" class="math-display" src="summary371x.png"/></div>
<!--l. 2511--><p class="noindent">where <span class="cmsy-10"><img alt="D" class="10x-x-44" src="cmsy10-44.png"> </img></span>is the diagonal matrix where <span class="cmsy-10"><img alt="D" class="10x-x-44" src="cmsy10-44.png"/></span><sub><span class="cmmi-7">ii</span></sub> <span class="cmr-10">= </span><span class="cmmi-10">d</span><sub><span class="cmmi-7">i</span></sub> is the degree of vertex <span class="cmmi-10">i </span>and <span class="cmmi-10">D </span>is the degree centrality.
Each vertex’ measure is
<div class="math-display">
<img alt="     ∑
Nv = --u∈Nv du-.
        dv
" class="math-display" src="summary372x.png"/></div>
</p></p></div>
<!--l. 2517--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 2520--><p class="noindent"><span class="head">
<a id="x1-21002r2"></a>
<span class="ecbx-1000">Example 4.2.</span> </span>The neighbourhood centrality of the previous example graph is
<div class="math-display">
<img alt="             (  1                ) (                  ) (    )   (   3+3  )   (      )
             |  2  1             | |  0  1  0  0 1  0 | |  2 |   |  2+22+3- |   |   3  |
             ||     3  1          || ||  1  0  1  0 1  0 || ||  3 ||   ||   33+3  ||   || 2.33 ||
N  = D-1Au = ||        2   1      || ||  0  1  0  1 0  0 || ||  2 || = ||  2+23+1- || = ||   3  || ,
             |(            3  1   |) |(  0  0  1  0 1  1 |) |(  3 |)   |(  2+33+3- |)   |(   2  |)
                             3        1  1  0  1 0  0      3          33         2.66
                                1     0  0  0  1 0  0      1          1           3
" class="math-display" src="summary373x.png"/></div>
<!--l. 2560--><p class="noindent">so the nodes with highest value are nodes <img align="middle" alt="(1,3,6)" class="left" src="summary374x.png"/>.
</p></p></div>
<!--l. 2561--><p class="noindent">
<!--l. 2563--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.3   </span> <a id="x1-220004.3"></a>Eigenvector Centrality</h4>
<!--l. 2565--><p class="noindent">A natural extension of degree centrality is to consider all reachable nodes, not just neighbours. Eigenvector centrality
measures a node’s importance while considering the importance of its neighbours. A high eigenvector centrality means
that a node is connected to many nodes that have high scores themselves.
<div class="tcolorbox tcolorbox" id="tcolobox-16">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2572--><p class="noindent"><span class="head">
<a id="x1-22001r3"></a>
<span class="ecbx-1000">Definition 4.3.</span> </span>Given the graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary375x.png"/>, with adjacency matrix <span class="cmmi-10">A</span>, the <span class="ecbx-1000">eigenvector centrality</span>
of node <span class="cmmi-10">v </span>is
<div class="math-display">
<img alt="        ∑
Ev = 1-    AvuEu,
     λ u∈Nv
" class="math-display" src="summary376x.png"/></div>
<!--l. 2578--><p class="noindent">where <span class="cmmi-10">λ </span>is a parameter. Note that this can be written as
<div class="math-display">
<img alt="E =  1AE,
     λ
" class="math-display" src="summary377x.png"/></div>
<!--l. 2582--><p class="noindent">or
<div class="math-display">
<img alt="AE = λE.
" class="math-display" src="summary378x.png"/></div>
</p></p></p></div>
<!--l. 2586--><p class="noindent">
</p></div>
</div>
<!--l. 2589--><p class="noindent">This means that <span class="cmmi-10">E </span>is an eigenvector of <span class="cmmi-10">A</span>, for the eigenvalue <span class="cmmi-10">λ</span>.
<!--l. 2592--><p class="noindent">Bonacich suggested that the eigenvector of the largest eigenvalue of <span class="cmmi-10">A </span>could make a good network centrality
measure.
<!--l. 2595--><p class="noindent">The eigenvector <span class="cmmi-10">E </span>must be non-negative and according to the Perron-Frobenius theorem, the largest <span class="cmmi-10">λ </span>enforces this
property, making it a suitable value.
<div class="newtheorem">
<!--l. 2598--><p class="noindent"><span class="head">
<a id="x1-22002r3"></a>
<span class="ecbx-1000">Example 4.3.</span> </span>Let’s  compute  <span class="cmmi-10">E </span>for  the  previous  example  graph.  The  matrix  <span class="cmmi-10">A </span>has  as  largest  eigenvalue
<span class="cmmi-10">λ </span><span class="cmr-10">= 2</span><span class="cmmi-10">.</span><span class="cmr-10">54</span>, and the corresponding eigenvector is
<div class="math-display">
<img alt="    ( 2.5 )
    | 3.1 |
    || 2.2 ||
E = || 2.5 || .
    |( 3.2 |)
       1
" class="math-display" src="summary379x.png"/></div>
</p></div>
<!--l. 2612--><p class="noindent">
Note that it is usually unfeasible to compute the eigenvalues and eigenvectors. It is more usual to get the vector
iteratively as
<div class="math-display">
<img alt="Ek = A -Ek-1-.
       ∥Ek-1∥
" class="math-display" src="summary380x.png"/></div>
<!--l. 2620--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.4   </span> <a id="x1-230004.4"></a>PageRank Centrality</h4>
<!--l. 2622--><p class="noindent">Google’s PageRank is a variant of the eigenvector centrality, which uses in-degree to award one centrality point for
every link a node receives. As we saw, the algorithm is based on a web surfer who is randomly clicking on links, with a
certain probability to go to a different place of the web (the damping factor).
<!--l. 2628--><p class="noindent">Therefore, we define the matrix
<div class="math-display">
<img alt="Pg = (1 - p)P + pB,
" class="math-display" src="summary381x.png"/></div>
<!--l. 2632--><p class="noindent">where <span class="cmmi-10">P</span><sub><span class="cmmi-7">ij</span></sub> <span class="cmr-10">= </span><img align="middle" alt="{
  -1  if j ∈ Ni
  d0i  otherwise" class="left" src="summary382x.png"/><span class="cmmi-10">, </span>and <span class="cmmi-10">B</span><sub><span class="cmmi-7">ij</span></sub> <span class="cmr-10">=</span> <img align="middle" alt="1
n" class="frac" src="summary383x.png"/>.
<!--l. 2637--><p class="noindent">Now, we apply the eigenvector centrality to this modified matrix, as
<div class="math-display">
<img alt="P E  = λE  = E ,
 g  g    g    g
" class="math-display" src="summary384x.png"/></div>
<!--l. 2642--><p class="noindent">with <span class="cmmi-10">λ </span><span class="cmr-10">= 1 </span>because <span class="cmmi-10">P</span><sub><span class="cmmi-7">g</span></sub> is stochastic.
<!--l. 2644--><p class="noindent">Or, iteratively as
<div class="math-display">
<img alt="Egk = PgEgk-1.
" class="math-display" src="summary385x.png"/></div>
<!--l. 2648--><p class="noindent">Note that in this case it is not necessary to normalize the vector at each step, because <span class="cmmi-10">P</span><sub><span class="cmmi-7">g</span></sub> is stochastic. A good <span class="cmmi-10">E</span><sub><span class="cmmi-7">g</span><sub><span class="cmr-5">0</span></sub></sub> is
<span class="cmmi-10">E</span><sub><span class="cmmi-7">g</span><sub><span class="cmr-5">0</span></sub></sub> <span class="cmr-10">= </span><img align="middle" alt="(  1n )
|  .. |
(  .1 )
   n" class="left" src="summary386x.png"/><span class="cmmi-10">.</span>
<!--l. 2656--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.5   </span> <a id="x1-240004.5"></a>Katz (or alpha) centrality</h4>
<!--l. 2658--><p class="noindent">The main problem with eigenvector centrality is that it only works well when the graph is strongly connected (so
Perron-Frobenius is applicable in its stronger form). Real networks do not usually have this property,
specially if they are directed. The vertices that are not in strongly connected components will have value
0.
<!--l. 2664--><p class="noindent">A way to work around this problem was proposed by Leo Katz. The idea is to give each node a minimum, positive
amount of centrality, that it can transfer to other nodes, so:
                                                                                            
                                                                                            
<div class="math-display">
<img alt="       ∑
Kv = α    AvuKu + β,
        u
" class="math-display" src="summary387x.png"/></div>
<!--l. 2670--><p class="noindent">where <span class="cmmi-10">K</span><sub><span class="cmmi-7">v</span></sub> is the Katz centrality of node <span class="cmmi-10">v</span>, <span class="cmmi-10">β </span>is a vector whose elements are all equal to a given positive constant and
<span class="cmmi-10">α </span><span class="cmsy-10">∈</span><img align="middle" alt="(0,1)" class="left" src="summary388x.png"/> is a parameter. Equivalently, this is
<div class="math-display">
<img alt="K  = αAK  + β,
" class="math-display" src="summary389x.png"/></div>
<!--l. 2676--><p class="noindent">so
<div class="math-display">
<img alt="(I - αA )K = β,
" class="math-display" src="summary390x.png"/></div>
<!--l. 2680--><p class="noindent">and
<div class="math-display">
<img alt="K = (I - αA )-1β.
" class="math-display" src="summary391x.png"/></div>
<!--l. 2685--><p class="noindent">For this to work, <span class="cmmi-10">I </span><span class="cmsy-10">-</span><span class="cmmi-10">αA </span>must be invertible, which happens if and only if <img align="middle" alt="|I - αA|" class="left" src="summary392x.png"/><span class="cmmi-10">≠</span><span class="cmr-10">0</span> <span class="cmsy-10">⇐⇒</span><img align="middle" alt="||1I - A ||
 α" class="left" src="summary393x.png"/><span class="cmmi-10">≠</span><span class="cmr-10">0</span>, so <img align="middle" alt="1
α" class="frac" src="summary394x.png"/> must not
be an eigenvalue of <span class="cmmi-10">A</span>. This is ensured if we take <img align="middle" alt="1
α" class="frac" src="summary395x.png"/> <span class="cmmi-10">&gt; λ</span><sub><span class="cmmi-7">max</span></sub>, or <span class="cmr-10">0 </span><span class="cmmi-10">&lt; α &lt;</span> <img align="middle" alt="-1--
λmax" class="frac" src="summary396x.png"/>.
<!--l. 2690--><p class="noindent">An iterative way to compute <span class="cmmi-10">K </span>is
                                                                                            
                                                                                            
<div class="math-display">
<img alt="     ( ∞      )
K  =  ∑  αkAk   u.
      k=1
" class="math-display" src="summary397x.png"/></div>
<!--l. 2694--><p class="noindent">The strength of <span class="cmmi-10">α </span>decreases at each iteration, acting as attenuation factor.
<!--l. 2697--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.6   </span> <a id="x1-250004.6"></a>Clustering Coefficient Centrality</h4>
<div class="tcolorbox tcolorbox" id="tcolobox-17">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><!--l. 2700--><p class="noindent"><span class="ecbx-1000">Triadic closure </span>is the property among three nodes A, B, and C (representing people, for instance),
that if the connections A-B and A-C exist, there is a tendency for the new connection B-C to be formed.
 
</p></div>
</div>
<!--l. 2706--><p class="noindent">The clustering coefficient measures the proportion of neighbours of each node, that connected to each
other.
<div class="tcolorbox tcolorbox" id="tcolobox-18">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2710--><p class="noindent"><span class="head">
<a id="x1-25001r4"></a>
<span class="ecbx-1000">Definition 4.4.</span> </span>Given a graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary398x.png"/>, with adjacency matrix <span class="cmmi-10">A</span>, the <span class="ecbx-1000">clustering coefficient </span>of
node <span class="cmmi-10">v </span>is
<div class="math-display">
<img alt="       |{{u,v,w} : (u,v),(v,w ),(u,w ) ∈ E}|
CCv  = --------------(dv)--------------,
                      2
" class="math-display" src="summary399x.png"/></div>
<!--l. 2716--><p class="noindent">where the numerator is the number of triangles involving <span class="cmmi-10">v </span>and its neighbours, and the denominator is
the total number of possible links between <span class="cmmi-10">v</span>’s neighbours.
</p></p></div>
<!--l. 2719--><p class="noindent">
</p></div>
</div>
<!--l. 2722--><p class="noindent">The more densely connected the neighbourhood of <span class="cmmi-10">v </span>is, the higher is its clustering coefficient.
                                                                                            
                                                                                            
<div class="newtheorem">
<!--l. 2724--><p class="noindent"><span class="head">
<a id="x1-25002r4"></a>
<span class="ecbx-1000">Example 4.4.</span> </span>The clustering coefficient of the graph example that we’ve been working with is
<div class="math-display">
<img alt="     (  11 )   (  1 )
     |  1 |   |  1 |
     ||  30 ||   ||  30 ||
CC = ||  10 || = ||  0 || .
     |(  31 |)   |(  1 |)
        30        30
" class="math-display" src="summary400x.png"/></div>
</p></div>
<!--l. 2744--><p class="noindent">
<!--l. 2746--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.7   </span> <a id="x1-260004.7"></a>Closeness Centrality</h4>
<!--l. 2748--><p class="noindent">Closeness centrality is a measure of how close a node is, on average, to the rest of the nodes, in terms of shortest paths.
It measures the average distance between a node <span class="cmmi-10">v </span>and all other nodes in the network. Thus, the more central a node is,
the closer it is to all other nodes.
<div class="tcolorbox tcolorbox" id="tcolobox-19">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2755--><p class="noindent"><span class="head">
<a id="x1-26001r5"></a>
<span class="ecbx-1000">Definition 4.5.</span> </span>Given a graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary401x.png"/>, the <span class="ecbx-1000">closeness centrality </span>of node <span class="cmmi-10">v </span>is
<div class="math-display">
<img alt="CLv = ∑-----1------.
        r⁄=vdist(v,r)
" class="math-display" src="summary402x.png"/></div>
<!--l. 2761--><p class="noindent">It can be normalized by the factor
<div class="math-display">
<img alt="          N - 1
CLv = ∑------------.
        r⁄=vdist(v,r)
" class="math-display" src="summary403x.png"/></div>
</p></p></div>
<!--l. 2766--><p class="noindent">
</p></div>
</div>
<!--l. 2769--><p class="noindent">An alternative is the <span class="ecbx-1000">harmonic centrality</span>, obtained as
<div class="math-display">
<img alt="Hv = ∑   ---1----,
     r⁄=v dist(v,r)
" class="math-display" src="summary404x.png"/></div>
<!--l. 2773--><p class="noindent">with <span class="cmmi-10">dist</span><img align="middle" alt="(v,r)" class="left" src="summary405x.png"/> <span class="cmr-10">= 0 </span>if there is no path from <span class="cmmi-10">v </span>to <span class="cmmi-10">r</span>.
<!--l. 2775--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.8   </span> <a id="x1-270004.8"></a>Betweenness Centrality</h4>
<!--l. 2777--><p class="noindent">A family of betweenness measures are defined to capture a node’s importance as a conduct of information flow in the
network. This has wide applications in network theory, because in a telecommunications network, a node with higher
betweenness centrality would have more control over the network, since more information will pass through that
node.
<!--l. 2783--><p class="noindent">The most well-known betweenness metric measures the number of times a node is on a shortest path between two
nodes.
<div class="tcolorbox tcolorbox" id="tcolobox-20">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2787--><p class="noindent"><span class="head">
<a id="x1-27001r6"></a>
<span class="ecbx-1000">Definition 4.6.</span> </span>Given a graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E )" class="left" src="summary406x.png"/>, the <span class="ecbx-1000">betweenness centrality </span>of node <span class="cmmi-10">v </span>is
<div class="math-display">
<img alt="Bv = ∑    σs,t(v),
     s⁄=v⁄=t  σs,t
" class="math-display" src="summary407x.png"/></div>
<!--l. 2793--><p class="noindent">where <span class="cmmi-10">σ</span><sub><span class="cmmi-7">s,t</span></sub> is the number of shortest path from source node <span class="cmmi-10">s </span>to target node <span class="cmmi-10">t</span>, and <span class="cmmi-10">σ</span><sub><span class="cmmi-7">s,t</span></sub><img align="middle" alt="(v)" class="left" src="summary408x.png"/> is the number
of shortest path between these two nodes going through <span class="cmmi-10">v</span>.
<!--l. 2798--><p class="noindent">This measure can be normalized by the number of ordered pairs not including <span class="cmmi-10">v</span>:
     <ul class="itemize1">
<li class="itemize">
<!--l. 2801--><p class="noindent">For directed graphs
<div class="math-display">
<img alt="           1       ∑   σs,t(v)
Bv = (n---1)(n---2)     -σs,t-.
                  s⁄=v⁄=t
" class="math-display" src="summary409x.png"/></div>
</p></li>
<li class="itemize">
<!--l. 2805--><p class="noindent">For undirected graphs
<div class="math-display">
<img alt="                   ∑
Bv = ------2------     σs,t(v).
     (n - 1)(n - 2)s⁄=v⁄=t σs,t
" class="math-display" src="summary410x.png"/></div>
</p></li></ul>
</p></p></p></div>
<!--l. 2810--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 2813--><p class="noindent"><span class="head">
<a id="x1-27002r5"></a>
<span class="ecbx-1000">Example 4.5.</span> </span>For the undirected star graph:
<div class="center">
<!--l. 2815--><p class="noindent">
<!--l. 2816--><p class="noindent"><img alt="PIC" src="24_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___t-Analytics_LectureNotes_source_centrality1.png"/>
</p></p></div>
<!--l. 2819--><p class="noindent">The center vertex has a betweenness of <img align="middle" alt="(n-1)(n-2)-
   2" class="frac" src="summary411x.png"/> (or 1, if we normalize it), while the leaves have a betweenness of
0.
</p></p></div>
<!--l. 2822--><p class="noindent">
<div class="newtheorem">
<!--l. 2823--><p class="noindent"><span class="head">
<a id="x1-27003r1"></a>
<span class="ecbx-1000">Exercise 4.1.</span> </span>What about the following graphs?
     <ul class="itemize1">
<li class="itemize">
<!--l. 2826--><p class="noindent"><img alt="PIC" src="25_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___t-Analytics_LectureNotes_source_centrality2.png"/>
<!--l. 2828--><p class="noindent">
<div class="math-display">
<img alt="    (  0)    (  0   )
    |  63|    |  0.5  |
B = ||  64||  = || 0.67 || .
    |(  63|)    |(  0.5  |)
       40        0
       6
" class="math-display" src="summary412x.png"/></div>
</p></p></li>
<li class="itemize">
<!--l. 2844--><p class="noindent"><img alt="PIC" src="26_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___t-Analytics_LectureNotes_source_centrality3.png"/>
<!--l. 2846--><p class="noindent">
<div class="math-display">
<img alt="    (  1 )
       61
    ||  61 ||
B = ||  61 || .
    (  61 )
       6
" class="math-display" src="summary413x.png"/></div>
</p></p></li>
<li class="itemize">
<!--l. 2856--><p class="noindent"><img alt="PIC" src="27_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___t-Analytics_LectureNotes_source_centrality4.png"/>
<div class="math-display">
<img alt="    (  0)    (      )
       63        0
    ||  65||    ||  0.5  ||
B = ||  60||  = || 0.83 || .
    (  60)    (  0   )
       6        0
" class="math-display" src="summary414x.png"/></div>
</p></li></ul>
</p></div>
<!--l. 2873--><p class="noindent">
<!--l. 2876--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">5   </span> <a id="x1-280005"></a>MapReduce Computation Model</h3>
<!--l. 2878--><p class="noindent">The advent of big data and the increasing analysis needs favorised the design of parallel algorithms, specially in
the realm of big data processing pipelines, with a tradeoff between communication costs and degree of
parallelism.
                                                                                            
                                                                                            
<!--l. 2883--><p class="noindent">MapReduce is a processing paradigm that works on top of distributed environments. More precisely, it was built on top
of Google File System (GFS) and Hadoop Distributed File System (HDFS), used to manage large-scale data and to be
tolerant to hardware and networks faults. To do this, HDFS splits files into large blocks and distributes thema cross
nodes in a cluster, and MapReduce is the programming model used to manage many large-scale parallel
computations.
<!--l. 2891--><p class="noindent">Basically, the idea is that the data is first splitted, then some operation is done to it, and then it’s merged to produce
the final results. For this, we will just need to define the <span class="ecbx-1000">Map </span>and <span class="ecbx-1000">Reduce </span>functions, while the system manages the
parallel execution on distributed data and the coordination between them, leading with the possibility that one of the
tasks may fail.
<div class="newtheorem">
<!--l. 2897--><p class="noindent"><span class="head">
<a id="x1-28001r1"></a>
<span class="ecbx-1000">Example 5.1.</span> </span>Word Counter
<!--l. 2900--><p class="noindent">Consider a text file splitted into partitions <span class="cmmi-10">A,B,C,D</span>, across different nodes. We want to count how many times each
word appears in the whole document. For this, we can use MapReduce as follows:
     <ol class="enumerate1">
<li class="enumerate" id="x1-28003x1">
<!--l. 2904--><p class="noindent">Map: for each word, <span class="cmmi-10">w</span>, in each partition, generate the pair <img align="middle" alt="(w,1)" class="left" src="summary415x.png"/>.
     </p></li>
<li class="enumerate" id="x1-28005x2">
<!--l. 2905--><p class="noindent">Shuffle/sort: collects and groups the pairs by key (word), in order to guarantee that the same key will be
     processed by the same reduce task. <span class="ecbx-1000">Shuffling </span>is the process of redistributing data from Map nodes to
     Reduce nodes.
     <!--l. 2910--><p class="noindent">In our example, we would have, for each word <span class="cmmi-10">w</span>, the pairs <img align="middle" alt="(w,[1,...,1])" class="left" src="summary416x.png"/>, with as many 1s as <span class="cmmi-10">w </span>appearances.
     </p></p></li>
<li class="enumerate" id="x1-28007x3">
<!--l. 2912--><p class="noindent">Reduce: for each input <img align="middle" alt="(w,[1,...,1])" class="left" src="summary417x.png"/>, output <img align="middle" alt="(w, Nw)" class="left" src="summary418x.png"/>, where <span class="cmmi-10">N</span><sub><span class="cmmi-7">w</span></sub> is the amount of 1s.</p></li></ol>
<!--l. 2915--><p class="noindent">The Map task will typically process many words in one or more chunks. If a word, <span class="cmmi-10">w</span>, appears <span class="cmmi-10">m </span>times among all
chunks assigned to that process, there will be <span class="cmmi-10">m </span>key-value pairs <img align="middle" alt="(w,1)" class="left" src="summary419x.png"/> among its output.
<!--l. 2920--><p class="noindent">To perform the grouping and distribution to the Reduce task, the master controller merges the pairs by key and
produces a sequence of <img align="middle" alt="(w,[1,...,1])" class="left" src="summary420x.png"/>. Since it knows how many reduce tasks there will be, <span class="cmmi-10">r</span>, it will produce <span class="cmmi-10">r </span>lists,
putting a list in one of <span class="cmmi-10">r </span>local files destined to one of the Reduce tasks. Each key is assigned as input to one, and only
one, Reduce task.
<!--l. 2927--><p class="noindent">The Reduce task executes one or more reducers, one per key. The outputs from all reducers are merges into a single
final file.
</p></p></p></p></p></div>
<!--l. 2929--><p class="noindent">
<!--l. 2931--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a id="x1-290005.1"></a>The Map Function</h4>
<!--l. 2933--><p class="noindent">In general, a map function can be defined as a function, <span class="cmmi-10">m</span><sub><span class="cmmi-7">f</span></sub> <span class="cmr-10">: </span><span class="msbm-10">E</span><sub><span class="cmr-7">1</span></sub><sup><span class="cmmi-7">n</span></sup> <span class="cmsy-10">→ </span><span class="msbm-10">E</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmmi-7">n</span></sup>, where <span class="msbm-10">E</span><sub><span class="cmmi-7">i</span></sub> is the domain of the input (1) or
output (2) and <span class="cmmi-10">f </span><span class="cmr-10">: </span><span class="msbm-10">ℝ </span><span class="cmsy-10">→ </span><span class="msbm-10">ℝ</span>, that applies <span class="cmmi-10">f </span>to each coordinate. That is:
<div class="math-display">
<img alt="mf ([e1,...,en]) = [f (e1),...,f (en)].
" class="math-display" src="summary421x.png"/></div>
<!--l. 2940--><p class="noindent">For example:
<div class="math-display">
<img alt="m⋅2([2,3,6]) = [4,6,12].
" class="math-display" src="summary422x.png"/></div>
<!--l. 2945--><p class="noindent">In the MapReduce scheme, map is more restrictive, as the function <span class="cmmi-10">f </span>must produce a key-value pair. That is, for all
<span class="cmmi-10">i </span><span class="cmr-10">= 1</span><span class="cmmi-10">,...,n</span>, it is
<div class="math-display">
<img alt="f (e ) = (k ,v ).
   i     i i
" class="math-display" src="summary423x.png"/></div>
<!--l. 2952--><p class="noindent">For example, in the word counter example:
<div class="math-display">
<img alt="mf ([”a”,”b”,”a”]) = [(”a”,1),(”b”,1),(”a”,1)].
" class="math-display" src="summary424x.png"/></div>
<!--l. 2958--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a id="x1-300005.2"></a>Shuflling/Grouping Function</h4>
<!--l. 2960--><p class="noindent">The shuffle function consists in grouping the outputs of the map function by key, so
<div class="math-display">
<img alt="s([(k1,v1),...,(kn,vn)]) = [(k1,(vj : kj = k1,∀j = 1,...,n )),...].
" class="math-display" src="summary425x.png"/></div>
<!--l. 2965--><p class="noindent">Following the previous example:
<div class="math-display">
<img alt="s([(”a”,1),(”b”,1),(”a”,1)]) = [(”a”,[1,1]),(”b”,[1])].
" class="math-display" src="summary426x.png"/></div>
<!--l. 2971--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a id="x1-310005.3"></a>Reduce Function</h4>
<!--l. 2973--><p class="noindent">Generally, a reduce function applies to a vector/row, and outputs a single value, applying the aggregation function
<span class="cmmi-10">f</span>:
<div class="math-display">
<img alt="rf ([v1,...,vn]) = f (v1,...,vn).
" class="math-display" src="summary427x.png"/></div>
<!--l. 2978--><p class="noindent">In MapReduce, reduce applies to each output of the shuffle function with the same key:
<div class="math-display">
<img alt="rf ((k,[v1,...,vn])) = [(k′1,f (v1,...,vn)),...,(km′, f (v1,...,vn))].
" class="math-display" src="summary428x.png"/></div>
<!--l. 2983--><p class="noindent">Following the previous example:
<div class="math-display">
<img alt="rsum ([(”a”,[1,1]),(”b”,[1])]) = [(”a”,2) ,(”b”,1)].
" class="math-display" src="summary429x.png"/></div>
<!--l. 2988--><p class="noindent">A <span class="ecbx-1000">MapReduce pipeline </span>can be a composition of different <span class="cmmi-10">r</span><sub><span class="cmmi-7">f</span><sub><span class="cmmi-5">r</span></sub></sub> <span class="cmsy-10">∘ </span><span class="cmmi-10">s </span><span class="cmsy-10">∘ </span><span class="cmmi-10">m</span><sub><span class="cmmi-7">f</span><sub><span class="cmmi-5">m</span></sub></sub><span class="cmmi-10">.</span>
<!--l. 2990--><p class="noindent">The process is illustrated below:
<div class="center">
<!--l. 2991--><p class="noindent">
<!--l. 2992--><p class="noindent"><img alt="PIC" src="28_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado10.png"/>
</p></p></div>
<!--l. 2995--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.4   </span> <a id="x1-320005.4"></a>MapReduce Execution Model</h4>
<!--l. 2997--><p class="noindent">Whenever we launch the execution of a MapReduce pipeline, the following happens:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3000--><p class="noindent">The user program forks a master controller process and some number of worker processes at different
     computer nodes.
     </p></li>
<li class="itemize">
<!--l. 3002--><p class="noindent">The amster creates some number of map tasks and some number of reduce tasks. It assigns the tasks to
     worker processes by taking into account the co-location.
     </p></li>
<li class="itemize">
<!--l. 3005--><p class="noindent">A worker handles either map tasks (a <span class="ecbx-1000">map worker</span>) or reduce tasks (a <span class="ecbx-1000">reduce worker</span>), but not both.
     </p></li>
<li class="itemize">
<!--l. 3007--><p class="noindent">A worker process reports to the amster when it finishes a task, and a new task is scheduled by the master
     for that worker process.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 3009--><p class="noindent">The master keeps track of the status of each map and reduce task (idle, executing, or completed).</p></li></ul>
<div class="center">
<!--l. 3012--><p class="noindent">
<!--l. 3013--><p class="noindent"><img alt="PIC" src="29_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado11.png"/>
</p></p></div>
<!--l. 3016--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.4.1   </span> <a id="x1-330005.4.1"></a>Coping with Node Failures</h5>
<!--l. 3018--><p class="noindent">If the master node fails, the entire MapReduce job must be restarted.
<!--l. 3020--><p class="noindent">If a worker node fails, it would be detected and managed by the master, since it periodically pings the worker processes.
All the map tasks assigned to this worker have to be redone in this case.
<!--l. 3024--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.4.2   </span> <a id="x1-340005.4.2"></a>Algorithms by MapReduce</h5>
<!--l. 3026--><p class="noindent">This paradigm is not a solution to every problem, and in fact it only makes sense when files are very large, and rarely
outdated. Its original purpose was to execute very large matrix-vector multiplications.
<!--l. 3030--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.5   </span> <a id="x1-350005.5"></a>Use-Case: Matrix-Vector Multiplication by MapReduce</h4>
<!--l. 3032--><p class="noindent">Let <span class="cmmi-10">M </span>be a <span class="cmmi-10">n </span><span class="cmsy-10">× </span><span class="cmmi-10">n </span>squared matrix and <span class="cmmi-10">V </span>a vector of size <span class="cmmi-10">n</span>. Their product,
<div class="math-display">
<img alt="W = M V,
" class="math-display" src="summary430x.png"/></div>
<!--l. 3037--><p class="noindent">is defined by
                                                                                            
                                                                                            
<div class="math-display">
<img alt="      n
w  = ∑  m  v .
  i  j=1  ij j
" class="math-display" src="summary431x.png"/></div>
<!--l. 3041--><p class="noindent">We can store <span class="cmmi-10">M </span>and <span class="cmmi-10">V  </span>in a file in <span class="cmmi-10">HDFS </span>as triples <img align="middle" alt="((i,j),mij)" class="left" src="summary432x.png"/> for <span class="cmmi-10">M </span>and pairs <img align="middle" alt="(j,vj)" class="left" src="summary433x.png"/> for
<span class="cmmi-10">V</span> <span class="footnote-mark"><a href="summary2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a id="x1-35001f1"></a>  . Now
we can compute the computation by MapReduce as:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3045--><p class="noindent">Map: for each <img align="middle" alt="((i,j),mij)" class="left" src="summary434x.png"/> and <img align="middle" alt="(j,vj)" class="left" src="summary435x.png"/>, it returns <img align="middle" alt="(i,mijvj)" class="left" src="summary436x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 3047--><p class="noindent">Reduce: simply sums all the values for each key <span class="cmmi-10">i</span>, producing the pair <img align="middle" alt="(i,wi)" class="left" src="summary437x.png"/>.</p></li></ul>
<!--l. 3050--><p class="noindent">For this to work, all the pairs from <span class="cmmi-10">V </span>must be available in all chunks (<span class="cmmi-10">V </span>cannot be stored distributely).
<!--l. 3053--><p class="noindent">More concretely, we can define the functions:
<!--l. 3055-->
<div class="lstlisting" id="listing-8"><span class="label"><a id="x1-35002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">map</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">i</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">(1)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">j</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">(2)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">j2</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35006r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">j</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">==</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">j2</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35007r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emit</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">i</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">*</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35008r7"></a><span class="ecrm-0500">7</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35009r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800">reduce</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35010r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sum</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">0</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35011r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35012r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sum</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">+=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-35013r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emit</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sum</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span></div>
<div class="center">
<!--l. 3070--><p class="noindent">
<!--l. 3071--><p class="noindent"><img alt="PIC" src="30_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado12.png"/>
</p></p></div>
<!--l. 3074--><p class="noindent">Now, if <span class="cmmi-10">n </span>is large, <span class="cmmi-10">V </span>might not fit in main memory of a worker node, and a large number of disk accesses may be
required. We can improve the approach by distributing <span class="cmmi-10">V </span>and refining the algorithm as follows:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3079--><p class="noindent">We devide the matrix into vertical stripes of equal width, and the vector in strips of the same size:
     <div class="center">
<!--l. 3081--><p class="noindent">
<!--l. 3082--><p class="noindent"><img alt="PIC" src="31_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado13.png"/>
</p></p></div>
<!--l. 3085--><p class="noindent">Here, the size of <span class="cmmi-10">M</span><sub><span class="cmmi-7">k</span></sub> is <span class="cmmi-10">n</span><span class="cmsy-10">×</span><span class="cmmi-10">n</span><sub><span class="cmmi-7">k</span></sub> and the size of <span class="cmmi-10">V</span> <sub><span class="cmmi-7">k</span></sub> is <span class="cmmi-10">n</span><sub><span class="cmmi-7">k</span></sub>, so that the product <span class="cmmi-10">M</span><sub><span class="cmmi-7">k</span></sub> <span class="cmsy-10">⋅</span><span class="cmmi-10">V</span> <sub><span class="cmmi-7">k</span></sub> can be performed, outputing
     a vector of size <span class="cmmi-10">n</span>.
     </p></p></li>
<li class="itemize">
<!--l. 3088--><p class="noindent">Each map task is assigned a chunk from one of the matrix stripes and gets the entire corresponding stripe of the
     vector.
     </p></li>
<li class="itemize">
<!--l. 3090--><p class="noindent">The final result would be
<div class="math-display">
<img alt="          ∑K
W = M V =    Mk  ⋅Vk,
          k=1
" class="math-display" src="summary438x.png"/></div>
<!--l. 3094--><p class="noindent">where we apply the previously explained algorithm to each sub-multiplication step.</p></p></li></ul>
<h5 class="subsubsectionHead"><span class="titlemark">5.5.1   </span> <a id="x1-360005.5.1"></a>Matrix Multiplication</h5>
<!--l. 3100--><p class="noindent">This approach can be extended to matrix multiplication. Now, let <span class="cmmi-10">M </span>be a matrix of size <span class="cmmi-10">n</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">×</span><span class="cmmi-10">n</span><sub><span class="cmr-7">2</span></sub> and <span class="cmmi-10">N </span>a matrix of size
<span class="cmmi-10">n</span><sub><span class="cmr-7">2</span></sub> <span class="cmsy-10">× </span><span class="cmmi-10">n</span><sub><span class="cmr-7">3</span></sub>, the product <span class="cmmi-10">P </span><span class="cmr-10">= </span><span class="cmmi-10">MN </span>is a matrix of size <span class="cmmi-10">n</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">× </span><span class="cmmi-10">n</span><sub><span class="cmr-7">3</span></sub>, where
<div class="math-display">
<img alt="      n
     ∑ 2
pik = j=1MijNjk.
" class="math-display" src="summary439x.png"/></div>
<!--l. 3107--><p class="noindent">The matrices are stored as <img align="middle" alt="(M, (i,j),mij)" class="left" src="summary440x.png"/> and <img align="middle" alt="(N, (j,k),njk)" class="left" src="summary441x.png"/>.
     <ul class="itemize1">
<li class="itemize">
<!--l. 3110--><p class="noindent">Map 1: transform <img align="middle" alt="(M, (i,j),mij)" class="left" src="summary442x.png"/> into <img align="middle" alt="(j,(M, i,mij))" class="left" src="summary443x.png"/> and <img align="middle" alt="(N, (j,k),njk)" class="left" src="summary444x.png"/> into <img align="middle" alt="(j,(N, k,njk))" class="left" src="summary445x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 3112--><p class="noindent">Reduce 1: for each key, <span class="cmmi-10">j</span>, produces the key-value pair <img align="middle" alt="((i,k),mijnjk)" class="left" src="summary446x.png"/>.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 3113--><p class="noindent">Map 2: the identity.
     </p></li>
<li class="itemize">
<!--l. 3114--><p class="noindent">Reduce  2:  for  each  key,  <img align="middle" alt="(i,k)" class="left" src="summary447x.png"/>,  produce  the  sum  of  the  list  of  values  associated  to  this  key,
     <img align="middle" alt="(               )
 (i,k),∑j mijnjk" class="left" src="summary448x.png"/><span class="cmmi-10">.</span></p></li></ul>
<!--l. 3117--><p class="noindent">In addition, <span class="cmmi-10">M </span>could be divided into <span class="cmmi-10">K </span>vertical stripes of size <img align="middle" alt="(n1,nk)" class="left" src="summary449x.png"/> and <span class="cmmi-10">N </span>into <span class="cmmi-10">K </span>horizontal stripes of size <img align="middle" alt="(nk,n3)" class="left" src="summary450x.png"/>,
where <span class="cmex-10">∑</span>
<sub><span class="cmmi-7">k</span></sub><span class="cmmi-10">n</span><sub><span class="cmmi-7">k</span></sub> <span class="cmr-10">= </span><span class="cmmi-10">n</span><sub><span class="cmr-7">2</span></sub>. In this setup, we can apply the algorithm to compute each <span class="cmmi-10">M</span><sub><span class="cmmi-7">k</span></sub> <span class="cmsy-10">⋅ </span><span class="cmmi-10">N</span><sub><span class="cmmi-7">k</span></sub> and then sum them
all.
<!--l. 3123--><p class="noindent">The functions can be defined more precisely as:
<!--l. 3125-->
<div class="lstlisting" id="listing-9"><span class="label"><a id="x1-36001r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">map_1</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">T</span></span><span style="color:#000000"><span class="ectt-0800">,(</span></span><span style="color:#000000"><span class="ectt-0800">i</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">j</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">T_ij</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36002r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emit</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">j</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">T</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">i</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">T_ij</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36003r3"></a><span class="ecrm-0500">3</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36004r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">reduce_1</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36005r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36006r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36007r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">(1)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">==</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">M</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">and</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">(1)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">==</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">N</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36008r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">i</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">(2)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36009r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">M_ij</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">(3)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36010r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">(2)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36011r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">N_jk</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">(3)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36012r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emit</span></span><span style="color:#000000"><span class="ectt-0800">((</span></span><span style="color:#000000"><span class="ectt-0800">i</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">M_ij</span></span><span style="color:#000000"><span class="ectt-0800">*</span></span><span style="color:#000000"><span class="ectt-0800">N_jk</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36013r13"></a><span class="ecrm-0500">13</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36014r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800">map_2</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36015r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emit</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36016r16"></a><span class="ecrm-0500">16</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36017r17"></a><span class="ecrm-0500">17</span></span><span style="color:#000000"><span class="ectt-0800">reduce_2</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36018r18"></a><span class="ecrm-0500">18</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sum</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">0</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36019r19"></a><span class="ecrm-0500">19</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">val</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36020r20"></a><span class="ecrm-0500">20</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sum</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">+=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-36021r21"></a><span class="ecrm-0500">21</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">emit</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">key</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sum</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span></div>
<!--l. 3150--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.6   </span> <a id="x1-370005.6"></a>Relational Algebra by MapReduce</h4>
<!--l. 3152--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.6.1   </span> <a id="x1-380005.6.1"></a>Selection</h5>
<!--l. 3154--><p class="noindent">Let <span class="cmmi-10">R</span><img align="middle" alt="(A1,...,An)" class="left" src="summary451x.png"/> be a relation stored as a file in HDFS. The elements of this file are the tuples of <span class="cmmi-10">R</span>. The selection
operator, <span class="cmmi-10">σ</span><sub><span class="cmmi-7">C</span></sub><img align="middle" alt="(R)" class="left" src="summary452x.png"/> can be defined using MapReduce as:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3159--><p class="noindent">Map: for each tuple in <span class="cmmi-10">R</span>, <span class="cmmi-10">t</span>, test if <span class="cmmi-10">t </span>satisfies <span class="cmmi-10">C</span>. If it does, produce the key-value pair <img align="middle" alt="(t,t)" class="left" src="summary453x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 3161--><p class="noindent">Reduce: the identity.</p></li></ul>
<!--l. 3164--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.6.2   </span> <a id="x1-390005.6.2"></a>Projection</h5>
<!--l. 3166--><p class="noindent">For the projection, <span class="cmmi-10">π</span><sub><span class="cmmi-7">A</span></sub><img align="middle" alt="(R)" class="left" src="summary454x.png"/>, we can do:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3168--><p class="noindent">Map: for each tuple in <span class="cmmi-10">R</span>, <span class="cmmi-10">t</span>, construct a tuple <span class="cmmi-10">t</span><span class="cmsy-10">′ </span>by removing the attributes that are not in <span class="cmmi-10">A</span>. Output
     <img align="middle" alt="  ′ ′
(t,t)" class="left" src="summary455x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 3170--><p class="noindent">Reduce: for each key, <span class="cmmi-10">t</span><span class="cmsy-10">′</span>, produced by the map tasks, there will be one or more key-value pairs <img align="middle" alt="  ′ ′
(t,t)" class="left" src="summary456x.png"/>. The
     reduce function turns <img align="middle" alt=" ′  ′ ′   ′
(t,[t,t,...,t])" class="left" src="summary457x.png"/> into <img align="middle" alt=" ′  ′
(t,t)" class="left" src="summary458x.png"/> so it produces exactly one pair.</p></li></ul>
<!--l. 3176--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.6.3   </span> <a id="x1-400005.6.3"></a>Join</h5>
<!--l. 3178--><p class="noindent"><span class="cmmi-10">R</span><img align="middle" alt="(A)" class="left" src="summary459x.png"/><img alt="⊳⊲" class="bowtie" src="summary460x.png"/><sub><span class="cmmi-7">B</span></sub><span class="cmmi-10">S</span><img align="middle" alt="(C )" class="left" src="summary461x.png"/> with <span class="cmmi-10">A,B,C </span>sets of attributes satisfying <span class="cmmi-10">B </span><span class="cmsy-10">⊂ </span><span class="cmmi-10">A,B </span><span class="cmsy-10">⊂ </span><span class="cmmi-10">C</span>, can be implemented with MapReduce
as:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3182--><p class="noindent">Map: for each tuple <img align="middle" alt="(a,b)" class="left" src="summary462x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">R</span>, produce the key-value pair <img align="middle" alt="(b,(R,a))" class="left" src="summary463x.png"/>. For each tuple <img align="middle" alt="(c,b)" class="left" src="summary464x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">S</span>, produce
     the key-value pair <img align="middle" alt="(b,(S,c))" class="left" src="summary465x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 3185--><p class="noindent">Reduce: for each key, <span class="cmmi-10">b</span>, output as many pairs as needed, <img align="middle" alt="(b,[(R,a),(S,c)])" class="left" src="summary466x.png"/>.</p></li></ul>
<!--l. 3188--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.6.4   </span> <a id="x1-410005.6.4"></a>Aggregation</h5>
<!--l. 3190--><p class="noindent">The aggregation operator, <span class="cmmi-10">γ</span><sub><span class="cmmi-7">A,θ</span><img align="middle" alt="(B)" class="left" src="summary467x.png"/></sub><img align="middle" alt="(R)" class="left" src="summary468x.png"/>, where <span class="cmmi-10">A </span><span class="cmsy-10">∪ </span><span class="cmmi-10">B </span>is the set of attributes of <span class="cmmi-10">R</span>, and <span class="cmmi-10">A </span><span class="cmsy-10">∩ </span><span class="cmmi-10">B </span><span class="cmr-10">= </span><span class="cmsy-10">∅</span>, can be defined with
MapReduce as:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3194--><p class="noindent">Map: for each tuple, <span class="cmmi-10">t</span>, produce <img align="middle" alt="(a,b)" class="left" src="summary469x.png"/>, where <span class="cmmi-10">a </span>is the <span class="cmmi-10">A </span>part of <span class="cmmi-10">t</span>, and <span class="cmmi-10">b </span>is the <span class="cmmi-10">B </span>part.
     </p></li>
<li class="itemize">
<!--l. 3196--><p class="noindent">Reduce: each key represents a group, so we apply <span class="cmmi-10">θ </span>to the list <img align="middle" alt="[b1,...,bn ]" class="left" src="summary470x.png"/> associated to each value <span class="cmmi-10">a</span>. We
     output <img align="middle" alt="(a,x)" class="left" src="summary471x.png"/>, where <span class="cmmi-10">x </span><span class="cmr-10">= </span><span class="cmmi-10">θ</span><img align="middle" alt="(b1,...,bn)" class="left" src="summary472x.png"/>.</p></li></ul>
<!--l. 3201--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.7   </span> <a id="x1-420005.7"></a>Some Issues of MapReduce</h4>
<ul class="itemize1">
<li class="itemize">
<!--l. 3203--><p class="noindent"><span class="ecbx-1000">Locality</span>: input data is stored on local disks of machines in the cluster. Each file is divided into blocks of
     64MB, each of which is stored several times, as replicas, on different machines. MapReduce master node
     takes the location information of the input files into account, and attempts to schedule a map task on a
     machine that contains the needed replica. If this fails, it tries to schedule a map task in a machine that is
     near to one that has a replica.
     </p></li>
<li class="itemize">
<!--l. 3210--><p class="noindent"><span class="ecbx-1000">Granularity</span>: the amp and reduce steps are divided into <span class="cmmi-10">M </span>and <span class="cmmi-10">R </span>pieces. <span class="cmmi-10">M </span>and <span class="cmmi-10">R </span>should be much larger
     than the number of workers. Each worker can perform different tasks, improving dynamic load balancing
     and speeding up recovery when a worker fails. Some practical bounds on how large these values should be
     say that the master should take <span class="cmmi-10">M </span><span class="cmr-10">+ </span><span class="cmmi-10">R </span>scheduling decisions and keep <span class="cmmi-10">M </span><span class="cmsy-10">× </span><span class="cmmi-10">R </span>states in memory.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 3217--><p class="noindent"><span class="ecbx-1000">Refinements</span>: partitioning input data using different functions according to the problem to be solved.
     </p></li>
<li class="itemize">
<!--l. 3219--><p class="noindent"><span class="ecbx-1000">Ordering guarantees</span>: the intermediate key-value pairs are generally processed in increasing key order,
     to make it easy to generate a sorted output file per partition. However, this is not guaranteed.</p></li></ul>
<!--l. 3224--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">6   </span> <a id="x1-430006"></a>Spark Parallel Computing Framework</h3>
<!--l. 3226--><p class="noindent">Nowadays, data is growing faster than processing speeds, and so the only possible solution is to parallelize on large
clusters.
<!--l. 3229--><p class="noindent"><span class="ecbx-1000">Apache Spark </span>is an open source implementation of a framework for large-scale data processing, providing an interface
for programming clusters with implicit data parallelism and fault tolerance. It extends a programming language with
read-only data structure distributed over a cluster of machines, the <span class="ecbx-1000">Resilient Distributed Datasets</span>
<span class="ecbx-1000">(RDDs)</span>, maintained in a fault-tolerant way. RDDs were developed in 2012 in response to limitations
in Hadoop’s MapReduce, which forces a particular linear dataflow as a sequence of HDFS reads and
writes.
<!--l. 3238--><p class="noindent">Spark is up to 100 times faster than traditional Hadoop thanks to its in-memory data processing:
<div class="center">
<!--l. 3240--><p class="noindent">
<!--l. 3241--><p class="noindent"><img alt="PIC" src="32_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado14.png"/>
</p></p></div>
<!--l. 3244--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">6.1   </span> <a id="x1-440006.1"></a>Spark’s Engine Properties and Components</h4>
<!--l. 3246--><p class="noindent">Spark was originally written in Scala, a high level language for JVM. There are APIs for Java, Scala, Python,
R,...
<!--l. 3249--><p class="noindent">The Dataframe API was released as an abstraction on top of the RDD, as well as packages like MLlib or GraphX, that
can be used for machine learning and graph analytics. These APIs facilitate the implementation of both iterative
algorithms and interactive or exploratory data analysis.
<!--l. 3254--><p class="noindent">Spark requires a cluster manager and a distributed storage system:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3256--><p class="noindent">Cluster management: Spark supports standalone, native Spark clusters, where we can launch a cluster
     either manually or using scripts, or we can use Hadoop YARN, Apache Mesos, or Kubernetes.
     </p></li>
<li class="itemize">
<!--l. 3259--><p class="noindent">Distributed storage: Spark cna interface with a wide variety of distributed databases, like Alluxio, HDFS,
     MapR-FS, Cassandra,...</p></li></ul>
<!--l. 3262--><p class="noindent">Spark also supports different sources of data, in different formats and from different databases. All these relationships
are shown below:
<div class="center">
<!--l. 3264--><p class="noindent">
<!--l. 3265--><p class="noindent"><img alt="PIC" src="33_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado15.png"/>
</p></p></div>
<!--l. 3268--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">6.2   </span> <a id="x1-450006.2"></a>Spark’s Execution Architecture</h4>
<!--l. 3270--><p class="noindent">Data is splitted into partitions or blocks, and the driver assigns tasks to each worker, which reads a HDFS block, and
has a cache. Each worker process and cache data, if necessary, sending the results to the driver when
done.
<div class="center">
<!--l. 3274--><p class="noindent">
<!--l. 3275--><p class="noindent"><img alt="PIC" src="34_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado16.png"/><img alt="PIC" src="35_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado17.png"/><img alt="PIC" src="36_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado18.png"/><img alt="PIC" src="37_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado19.png"/>
</p></p></div>
<!--l. 3278--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">6.3   </span> <a id="x1-460006.3"></a>Resilient Distributed Datasets (RDDs)</h4>
<!--l. 3280--><p class="noindent">RDDs are immutable and distributed collections of objects, spread across a cluster, and stored in RAM or disk (when
they are persistent). They are statically typed, i.e., RDD[T] has objects of type T. The types can be of any type of
Python, Java, or Scala objects, including user-defined classes.
<!--l. 3286--><p class="noindent">RDDs are built via parallel <span class="ecbx-1000">transformations </span>and computed via parallel <span class="ecbx-1000">actions </span>on distributed datasets, executed
lazily. For instnace, RDDs are splitted into multiple partitions, which may be computed on different nodes of a
cluster.
     <ul class="itemize1">
<li class="itemize">
<!--l. 3291--><p class="noindent"><span class="ecbx-1000">Transformation</span>: operation on an RDD that returns a new RDD. They are computed lazily, only after
     an action is called.
     </p></li>
<li class="itemize">
<!--l. 3293--><p class="noindent"><span class="ecbx-1000">Action</span>: operation on an RDD that returns a final result which is not another RDD. When an action is
     called, all the transformations prior to it are executed in the same order they were defined. Each time a
     new action is called, the entire RDD must be computed from scratch, but the user can deide to persist
     intermediate result (caching).</p></li></ul>
<!--l. 3299--><p class="noindent">Inside Apache Spark, the workflow is managed as a directed acyclic graph (DAG). Nodes represents RDDs while edges
represent the operations executed on the RDDs. Spark keeps track of the set of dependencies between different RDDs.
This is called the <span class="ecbx-1000">lineage graph</span>.
<div class="newtheorem">
<!--l. 3303--><p class="noindent"><span class="head">
<a id="x1-46001r1"></a>
<span class="ecbx-1000">Example 6.1.</span> </span>Python Example: first line mentioning Python
<!--l. 3306-->
<div class="lstlisting" id="listing-10"><span class="label"><a id="x1-46002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">spark</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">context</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">creation</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">pyspark</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">SparkContext</span></span><span style="color:#000000"><span class="ectt-0800">(...)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46004r3"></a><span class="ecrm-0500">3</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">creating</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">an</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">RDD</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">of</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">strings</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">with</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">textFile</span></span><span style="color:#009900"><span class="ectt-0800">()</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46006r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800">lines</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">textFile</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">README</span></span><span style="color:#9400D1"><span class="ectt-0800">.</span></span><span style="color:#9400D1"><span class="ectt-0800">txt</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46007r6"></a><span class="ecrm-0500">6</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46008r7"></a><span class="ecrm-0500">7</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Transformations</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46009r8"></a><span class="ecrm-0500">8</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Construct</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">a</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">new</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">RDD</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">from</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">a</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">previous</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">one</span></span><span style="color:#009900"><span class="ectt-0800">,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">one</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">common</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">transformation</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">is</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">filtering</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">data</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">that</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">matches</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">a</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">predicate</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46010r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800">pythonLines</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">lines</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#FF00FF"><span class="ectt-0800">filter</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#FF00FF"><span class="ectt-0800">lambda</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">line</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">Python</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">line</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46011r10"></a><span class="ecrm-0500">10</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46012r11"></a><span class="ecrm-0500">11</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Actions</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46013r12"></a><span class="ecrm-0500">12</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Compute</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">a</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">result</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">based</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">on</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">an</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">RDD</span></span><span style="color:#009900"><span class="ectt-0800">,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">and</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">either</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">return</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">it</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">to</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">the</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">driver</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">program</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">or</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">save</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">it</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">to</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">an</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">external</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">sotrage</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">system</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-46014r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800">pythonLines</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">first</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span></div>
<!--l. 3323--><p class="noindent">Some notes:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3325--><p class="noindent">Once a SparkContext, <span class="cmmi-10">sc</span>, is set, it is used to build RDDs. The driver program manages a number of
     workers, and different workers on different machines might count lines in different ranges of the file.
     </p></li>
<li class="itemize">
<!--l. 3329--><p class="noindent"><span class="cmmi-10">filter</span><img align="middle" alt="()" class="left" src="summary473x.png"/> does not mutate the existing input RDD. Instead, it returns a pointer to a new RDD.
     </p></li>
<li class="itemize">
<!--l. 3331--><p class="noindent">Many transformations work on one element at a time, but this is not true for all transformation, like
     <span class="cmmi-10">union</span>.</p></li></ul>
</p></p></div>
<!--l. 3334--><p class="noindent">
<!--l. 3336--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">6.3.1   </span> <a id="x1-470006.3.1"></a>RDDs Operations</h5>
<ul class="itemize1">
<li class="itemize">
<!--l. 3338--><p class="noindent"><span class="cmmi-10">map</span><img align="middle" alt="()" class="left" src="summary474x.png"/> is used from different purposes, from fetching a large collection to just squaring numbers.  It
     transforms an RDD of length <span class="cmmi-10">N </span>into another RDD of length <span class="cmmi-10">N</span>, applying a function to each element in
     the RDD. For example:
     <!--l. 3343-->
<div class="lstlisting" id="listing-11"><span class="label"><a id="x1-47001r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">nums</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">parallelize</span></span><span style="color:#000000"><span class="ectt-0800">([1,2,3,4])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47002r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">squared</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">nums</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#FF00FF"><span class="ectt-0800">map</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#FF00FF"><span class="ectt-0800">lambda</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">*</span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">collect</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47003r3"></a><span class="ecrm-0500">3</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47004r4"></a><span class="ecrm-0500">4</span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">num</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">squared</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47005r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">print</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">num</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47006r6"></a><span class="ecrm-0500">6</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47007r7"></a><span class="ecrm-0500">7</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">1</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">4</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">9</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">16</span></span></div>
</p></li>
<li class="itemize">
<!--l. 3354--><p class="noindent"><span class="cmmi-10">flatMap</span><img align="middle" alt="()" class="left" src="summary475x.png"/> transforms an RDD of length <span class="cmmi-10">N </span>into a collection of <span class="cmmi-10">N </span>collection, then flatterns these into a single
     RDD of results, applying a function to each collection. For example:
     <!--l. 3358-->
<div class="lstlisting" id="listing-12"><span class="label"><a id="x1-47008r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">def</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">tokenize</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">sentence</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47009r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">return</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">word</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">word</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sentence</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47010r3"></a><span class="ecrm-0500">3</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47011r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">rdd</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">parallelize</span></span><span style="color:#000000"><span class="ectt-0800">([</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">coffee</span></span><span style="color:#9400D1"><span class="ectt-0800"> </span></span><span style="color:#9400D1"><span class="ectt-0800">panda</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47012r5"></a><span class="ecrm-0500">5</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47013r6"></a><span class="ecrm-0500">6</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Using</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">map</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47014r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800">map_result</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdd1</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#FF00FF"><span class="ectt-0800">map</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">tokenize</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">collect</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47015r8"></a><span class="ecrm-0500">8</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47016r9"></a><span class="ecrm-0500">9</span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">token</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">map_result</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47017r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">print</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">token</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47018r11"></a><span class="ecrm-0500">11</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47019r12"></a><span class="ecrm-0500">12</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Output</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">["</span></span><span style="color:#009900"><span class="ectt-0800">coffee</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">"</span></span><span style="color:#009900"><span class="ectt-0800">panda</span></span><span style="color:#009900"><span class="ectt-0800">"]</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47020r13"></a><span class="ecrm-0500">13</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47021r14"></a><span class="ecrm-0500">14</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Using</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">flatMap</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47022r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800">flatmap_result</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdd1</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">flatMap</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">tokenize</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">collect</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47023r16"></a><span class="ecrm-0500">16</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47024r17"></a><span class="ecrm-0500">17</span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">token</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">flatmap_result</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47025r18"></a><span class="ecrm-0500">18</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">print</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">token</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47026r19"></a><span class="ecrm-0500">19</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47027r20"></a><span class="ecrm-0500">20</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Output</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">"</span></span><span style="color:#009900"><span class="ectt-0800">coffee</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">"</span></span><span style="color:#009900"><span class="ectt-0800">panda</span></span><span style="color:#009900"><span class="ectt-0800">"</span></span></div>
</p></li>
<li class="itemize">
<!--l. 3382--><p class="noindent"><span class="cmmi-10">reduce</span><img align="middle" alt="()" class="left" src="summary476x.png"/> is the most common action on basic RDDs. It operates on two elements of the type of the RDD and
     returns a new element of the same type. For example:
     <!--l. 3386-->
<div class="lstlisting" id="listing-13"><span class="label"><a id="x1-47028r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">data</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">parallelize</span></span><span style="color:#000000"><span class="ectt-0800">([1,2,3])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47029r2"></a><span class="ecrm-0500">2</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47030r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">data</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">reduce</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">lambda</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">+</span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">#</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Result</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">6</span></span></div>
</p></li>
<li class="itemize">
<!--l. 3392--><p class="noindent"><span class="cmmi-10">reduceByKey</span><img align="middle" alt="()" class="left" src="summary477x.png"/> operates on RDD of key-value pairs. It runs several parallel reduce operations, for each key,
     where each operations combines values that have the same key. It returns a new RDD consisting of each key and
     the reduced value for that key. For example:
     <!--l. 3398-->
<div class="lstlisting" id="listing-14"><span class="label"><a id="x1-47031r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">pets</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">parallelize</span></span><span style="color:#000000"><span class="ectt-0800">([(</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">cat</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">3)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">dog</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">2)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">cat</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">1)</span></span><span style="color:#000000"><span class="ectt-0800">])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47032r2"></a><span class="ecrm-0500">2</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47033r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">pets</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">reduceByKey</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#FF00FF"><span class="ectt-0800">lambda</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">+</span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47034r4"></a><span class="ecrm-0500">4</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47035r5"></a><span class="ecrm-0500">5</span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Result</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">{("</span></span><span style="color:#009900"><span class="ectt-0800">cat</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">4)</span></span><span style="color:#009900"><span class="ectt-0800">,("</span></span><span style="color:#009900"><span class="ectt-0800">dog</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">2)</span></span><span style="color:#009900"><span class="ectt-0800">}</span></span></div>
</p></li>
<li class="itemize">
<!--l. 3407--><p class="noindent"><span class="cmmi-10">groupByKey</span><img align="middle" alt="()" class="left" src="summary478x.png"/> and <span class="cmmi-10">sortByKey</span><img align="middle" alt="()" class="left" src="summary479x.png"/> return the RDD with the values grouped or sorted by the keys. For
     example:
     <!--l. 3410-->
<div class="lstlisting" id="listing-15"><span class="label"><a id="x1-47036r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">pets</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">parallelize</span></span><span style="color:#000000"><span class="ectt-0800">([(</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">cat</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">3)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">dog</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">2)</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#9400D1"><span class="ectt-0800">cat</span></span><span style="color:#9400D1"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">1)</span></span><span style="color:#000000"><span class="ectt-0800">])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47037r2"></a><span class="ecrm-0500">2</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47038r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">pets</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">groupsByKey</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Result</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">{("</span></span><span style="color:#009900"><span class="ectt-0800">cat</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">[3,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">1])</span></span><span style="color:#009900"><span class="ectt-0800">,("</span></span><span style="color:#009900"><span class="ectt-0800">dog</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">[2])</span></span><span style="color:#009900"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47039r4"></a><span class="ecrm-0500">4</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47040r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800">pets</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">sortByKey</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Result</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">{("</span></span><span style="color:#009900"><span class="ectt-0800">cat</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">3)</span></span><span style="color:#009900"><span class="ectt-0800">,("</span></span><span style="color:#009900"><span class="ectt-0800">cat</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">1)</span></span><span style="color:#009900"><span class="ectt-0800">,("</span></span><span style="color:#009900"><span class="ectt-0800">dog</span></span><span style="color:#009900"><span class="ectt-0800">",</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">2)</span></span><span style="color:#009900"><span class="ectt-0800">}</span></span></div>
</p></li>
<li class="itemize">
<!--l. 3419--><p class="noindent"><span class="cmmi-10">distinct</span><img align="middle" alt="()" class="left" src="summary480x.png"/> produces a new RDD with only distinct items.
     </p></li>
<li class="itemize">
<!--l. 3420--><p class="noindent"><span class="cmmi-10">union</span><img align="middle" alt="(otherRDD )" class="left" src="summary481x.png"/> produces a new RDD consisting of the data from both sources, removing duplicates.
     </p></li>
<li class="itemize">
<!--l. 3422--><p class="noindent"><span class="cmmi-10">RDD.subtract</span><img align="middle" alt="(otherRDD )" class="left" src="summary482x.png"/> produces a new RDD consisting in all values present in <span class="cmmi-10">RDD </span>but not in
     <span class="cmmi-10">otherRDD</span>.
     </p></li>
<li class="itemize">
<!--l. 3424--><p class="noindent"><span class="cmmi-10">RDD.cartesian</span><img align="middle" alt="(otherRDD  )" class="left" src="summary483x.png"/> returns of possible pairs <img align="middle" alt="(a,b)" class="left" src="summary484x.png"/> where <span class="cmmi-10">a </span><span class="cmsy-10">∈ </span><span class="cmmi-10">RDD </span>and <span class="cmmi-10">b </span><span class="cmsy-10">∈ </span><span class="cmmi-10">otherRDD</span>. Note that this
     operation is very costly.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 3427--><p class="noindent"><span class="cmmi-10">RDD.innerJoin</span><span class="cmr-10">(</span><span class="cmmi-10">otherRDD</span><span class="cmr-10">) </span>returns only keys that are present in both pairs to the output RDD.
     </p></li>
<li class="itemize">
<!--l. 3429--><p class="noindent"><span class="cmmi-10">RDD.leftOuterJoin</span><img align="middle" alt="(otherRDD  )" class="left" src="summary485x.png"/> and <span class="cmmi-10">RDD.rightOuterJoin</span><img align="middle" alt="(otherRDD  )" class="left" src="summary486x.png"/> join the two RDDs together by key,
     allowing one of them to miss the key (left or right). For example:
     <!--l. 3433-->
<div class="lstlisting" id="listing-16"><span class="label"><a id="x1-47041r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">rdd</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">parallelize</span></span><span style="color:#000000"><span class="ectt-0800">([(1,2)</span></span><span style="color:#000000"><span class="ectt-0800">,(3,4)</span></span><span style="color:#000000"><span class="ectt-0800">,(3,6)</span></span><span style="color:#000000"><span class="ectt-0800">])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47042r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">other</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">parallelzie</span></span><span style="color:#000000"><span class="ectt-0800">([3,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">9])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47043r3"></a><span class="ecrm-0500">3</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47044r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">rdd</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">join</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">other</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">result</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">{(3,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(4,9)</span></span><span style="color:#009900"><span class="ectt-0800">)</span></span><span style="color:#009900"><span class="ectt-0800">,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(3,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(6,9)</span></span><span style="color:#009900"><span class="ectt-0800">)</span></span><span style="color:#009900"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47045r5"></a><span class="ecrm-0500">5</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-47046r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800">rdd</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">leftOuterJoin</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">other</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">result</span></span><span style="color:#009900"><span class="ectt-0800">:</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">{(1,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(2,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">None</span></span><span style="color:#009900"><span class="ectt-0800">)</span></span><span style="color:#009900"><span class="ectt-0800">)</span></span><span style="color:#009900"><span class="ectt-0800">,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(3,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(4,9)</span></span><span style="color:#009900"><span class="ectt-0800">)</span></span><span style="color:#009900"><span class="ectt-0800">,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(3,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">(6,9)</span></span><span style="color:#009900"><span class="ectt-0800">)</span></span><span style="color:#009900"><span class="ectt-0800">}</span></span></div>
</p></li></ul>
<!--l. 3445--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">6.3.2   </span> <a id="x1-480006.3.2"></a>RDDs Actions</h5>
<ul class="itemize1">
<li class="itemize">
<!--l. 3447--><p class="noindent"><span class="cmmi-10">collect</span><img align="middle" alt="()" class="left" src="summary487x.png"/> is used to retrieve the entire RDD. It is useful if it filters RDDs down to a very small size to deal
     with it locally at the driver. The retrieved dataset must fit in memory in a single machine.
     </p></li>
<li class="itemize">
<!--l. 3451--><p class="noindent"><span class="cmmi-10">take</span><img align="middle" alt="(N)" class="left" src="summary488x.png"/> is used to retrieve a small number of elements in the RDD at the driver program and then iterate
     them over them locally.
     </p></li>
<li class="itemize">
<!--l. 3453--><p class="noindent"><span class="cmmi-10">top</span><img align="middle" alt="(N)" class="left" src="summary489x.png"/> is used to extract the top elements.
     </p></li>
<li class="itemize">
<!--l. 3454--><p class="noindent"><span class="cmmi-10">takeSample</span><img align="middle" alt="(withReplacement,N,seed)" class="left" src="summary490x.png"/> allows to take a sample of the data either with out without
     replacement.
     </p></li>
<li class="itemize">
<!--l. 3456--><p class="noindent"><span class="cmmi-10">foreach</span><img align="middle" alt="()" class="left" src="summary491x.png"/> performs computations on each element in the RDD without bringing it back locally.
     </p></li>
<li class="itemize">
<!--l. 3458--><p class="noindent"><span class="cmmi-10">count</span><img align="middle" alt="()" class="left" src="summary492x.png"/> returns a count of the elements.
     </p></li>
<li class="itemize">
<!--l. 3459--><p class="noindent"><span class="cmmi-10">countByV alue</span><img align="middle" alt="()" class="left" src="summary493x.png"/> returns a map of each unique value and its count.</p></li></ul>
<!--l. 3463--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">6.3.3   </span> <a id="x1-490006.3.3"></a>Caching</h5>
<!--l. 3465--><p class="noindent">Spark RDDs are lazily evaluated, and sometimes we use the same RDD multiple times. Naively, Spark will recompute
the RDD and all of tis dependencies each time we call an action on the RDD. To avoid this, we can ask Spark to persist
data using <span class="cmmi-10">persist</span><img align="middle" alt="()" class="left" src="summary494x.png"/>.
<!--l. 3470--><p class="noindent">Notice that calling <span class="cmmi-10">persist</span><img align="middle" alt="()" class="left" src="summary495x.png"/> does not force the evaluation of the RDD.
<!--l. 3473--><p class="noindent">If we cache too much data, Spark will automatically delete old partitions. For the memory-only storage levels, it will
recompute these partitions the next time they are accessed. This means that caching unnecessary data can lead to
eviction and increased re-computation time.
<!--l. 3478--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">7   </span> <a id="x1-500007"></a>Community Detection Approaches</h3>
<!--l. 3480--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">7.1   </span> <a id="x1-510007.1"></a>k-Clique</h4>
<div class="tcolorbox tcolorbox" id="tcolobox-21">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 3483--><p class="noindent"><span class="head">
<a id="x1-51001r1"></a>
<span class="ecbx-1000">Definition 7.1.</span> </span>A <span class="ecbx-1000">clique </span>is a complete subgraph.
<!--l. 3486--><p class="noindent">A <span class="cmmi-10">k</span>-clique is a complete subgraph with <span class="cmmi-10">k </span>nodes.
</p></p></div>
<!--l. 3487--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 3490--><p class="noindent"><span class="head">
<a id="x1-51002r1"></a>
<span class="ecbx-1000">Example 7.1.</span> </span>In the following picture<span class="footnote-mark"><a href="summary3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a id="x1-51003f2"></a>  ,
we observe the brute force process to find all 4-cliques in this 7-node graph. For this, we need to check <span class="cmmi-10">C</span><sub><span class="cmr-7">7</span></sub><sup><span class="cmr-7">4</span></sup>
combinations.
<div class="center">
<!--l. 3494--><p class="noindent">
<!--l. 3495--><p class="noindent"><img alt="PIC" src="38_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado20.png"/>
</p></p></div>
</p></div>
<!--l. 3498--><p class="noindent">
Most versions of clique problems are hard, and a common problem is that of finding <span class="ecbx-1000">maximal cliques</span>. This is, cliques
with the largest number of nodes. For this problem, we have different algorithms, like:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3504--><p class="noindent">Bron-Kerbosch algorithm, with complexity <span class="cmmi-10">O</span><img align="middle" alt="( n)
 33" class="left" src="summary496x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 3505--><p class="noindent">Tarjan and Trojanowski algorithm.
     </p></li>
<li class="itemize">
<!--l. 3506--><p class="noindent">Janez Konc algorithm.</p></li></ul>
<!--l. 3508--><p class="noindent">There are also algorithms with better theoretical complexity, but Bron-Kerbosch and some variants that improve it are
more efficient in practice. The basic form of the algorithm is as follows:
<!--l. 3512-->
<div class="lstlisting" id="listing-17"><span class="label"><a id="x1-51004r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">Bron</span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800">Kerbosch</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51005r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">Initialization</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51006r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51007r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">X</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51008r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">R</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51009r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51010r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">def</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">BronKerbosch</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">R</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">X</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51011r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{}</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">and</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">X</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{}</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">then</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51012r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">R</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">maximal</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51013r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51014r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51015r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P_prime</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">intersection</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51016r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">X_prime</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">X</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">intersection</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51017r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">R_prime</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">R</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">union</span></span><span style="color:#000000"><span class="ectt-0800">({</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">})</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51018r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">BronKerbosch</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">R_prime</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P_prime</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">X_prime</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51019r16"></a><span class="ecrm-0500">16</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-51020r17"></a><span class="ecrm-0500">17</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">X</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">X</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">union</span></span><span style="color:#000000"><span class="ectt-0800">({</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">})</span></span></div>
<!--l. 3533--><p class="noindent">For example, the following tree represents the execution of the algorithm for the shown graph:
<div class="center">
<!--l. 3535--><p class="noindent">
<!--l. 3536--><p class="noindent"><img alt="PIC" src="39_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado21.png"/>
</p></p></div>
<!--l. 3539--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">7.2   </span> <a id="x1-520007.2"></a>k-Core</h4>
<!--l. 3541--><p class="noindent"><span class="cmmi-10">k</span>-Cliques are interesting as a concept, but they are very restrictive, and so some relaxations have been proposed. A very
well known one are <span class="cmmi-10">k</span>-Cores <span class="cite">[<a href="#Xleskovec2008community">1</a>]</span>. The basic idea is that networks may present a core-periphery structure, where in the
core there are a lot of connected nodes, while in the periphery we find a more sparse structure, with peripheral nodes
called whiskers.
<div class="tcolorbox tcolorbox" id="tcolobox-22">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 3549--><p class="noindent"><span class="head">
<a id="x1-52001r2"></a>
<span class="ecbx-1000">Definition 7.2.</span> </span>The <span class="cmmi-10">k</span><span class="ecbx-1000">-core </span>of a graph <span class="cmmi-10">G </span>is a maximal connected subgraph of <span class="cmmi-10">G </span>where vertices have
at least degree <span class="cmmi-10">k</span>. Also called <span class="cmmi-10">k</span>-degenerate.
</p></div>
<!--l. 3552--><p class="noindent">
</p></div>
</div>
<!--l. 3555--><p class="noindent">The approach to find <span class="cmmi-10">k</span>-cores is <span class="cmmi-10">k</span><span class="ecbx-1000">-core decomposition</span>. The idea is that, given a graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary497x.png"/>, we delete
recursively all vertices, and edges connecting them, of degree less than <span class="cmmi-10">k</span>, to extract the <span class="cmmi-10">k</span>-core, such
that:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3560--><p class="noindent">Each <span class="cmmi-10">v</span><sub><span class="cmmi-7">i</span></sub> in a <span class="cmmi-10">k</span>-core graph has <span class="cmmi-10">d</span><sub><span class="cmmi-7">i</span></sub> <span class="cmsy-10">≥ </span><span class="cmmi-10">k</span>.
     </p></li>
<li class="itemize">
<!--l. 3561--><p class="noindent">A <img align="middle" alt="(k + 1)" class="left" src="summary498x.png"/>-core is a subgraph of a <span class="cmmi-10">k</span>-core graph.</p></li></ul>
<!--l. 3563--><p class="noindent">The algorithms goes as:
<!--l. 3565-->
<div class="lstlisting" id="listing-18"><span class="label"><a id="x1-52002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">kCore</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">L</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{}</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">#</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Maps</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">each</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertex</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">to</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">the</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">highest</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800">core</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">it</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">belongs</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">d</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">[]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">#</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">List</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">of</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">degrees</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">each</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertex</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">D</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{}</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">#</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Dictionary</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mapping</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">each</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">degree</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">to</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">all</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertices</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">with</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">that</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">degree</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52006r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">d_max</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">max</span></span><span style="color:#000000"><span class="ectt-0800">([</span></span><span style="color:#000000"><span class="ectt-0800">degree</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">])</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52007r6"></a><span class="ecrm-0500">6</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52008r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52009r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">d</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">degree</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52010r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">D</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">d</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800">]].</span></span><span style="color:#000000"><span class="ectt-0800">append</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52011r10"></a><span class="ecrm-0500">10</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52012r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">range</span></span><span style="color:#000000"><span class="ectt-0800">(0,</span></span><span style="color:#000000"><span class="ectt-0800">d_max</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52013r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">D</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800">].</span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52014r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">D</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800">].</span></span><span style="color:#000000"><span class="ectt-0800">pop</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">#</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Get</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertices</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">of</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800">-</span></span><span style="color:#000000"><span class="ectt-0800">core</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52015r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">L</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52016r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52017r16"></a><span class="ecrm-0500">16</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">u_j</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">v_i</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">#</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Update</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbours</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">removing</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">the</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">edges</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">to</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">the</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">extracted</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertex</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52018r17"></a><span class="ecrm-0500">17</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">d</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u_j</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&gt;</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">k</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52019r18"></a><span class="ecrm-0500">18</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">D</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">d</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u_j</span></span><span style="color:#000000"><span class="ectt-0800">]].</span></span><span style="color:#000000"><span class="ectt-0800">pop</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">u_j</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52020r19"></a><span class="ecrm-0500">19</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">D</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">d</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u_j</span></span><span style="color:#000000"><span class="ectt-0800">]-1].</span></span><span style="color:#000000"><span class="ectt-0800">append</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">u_j</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-52021r20"></a><span class="ecrm-0500">20</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">d</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u_j</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">-=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">1</span></span></div>
<div class="newtheorem">
<!--l. 3588--><p class="noindent"><span class="head">
<a id="x1-52022r2"></a>
<span class="ecbx-1000">Example 7.2.</span> </span>Let’s go through an example:
<div class="center">
<!--l. 3590--><p class="noindent">
<!--l. 3591--><p class="noindent"><img alt="PIC" src="40_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado22.png"/>
</p></p></div>
<!--l. 3594--><p class="noindent">First, we initialize d and D:
<div class="center">
<!--l. 3595--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-25"><colgroup id="TBL-25-1g"><col id="TBL-25-1"/></colgroup><colgroup id="TBL-25-2g"><col id="TBL-25-2"/></colgroup><colgroup id="TBL-25-3g"><col id="TBL-25-3"/></colgroup><colgroup id="TBL-25-4g"><col id="TBL-25-4"/></colgroup><colgroup id="TBL-25-5g"><col id="TBL-25-5"/></colgroup><colgroup id="TBL-25-6g"><col id="TBL-25-6"/></colgroup><colgroup id="TBL-25-7g"><col id="TBL-25-7"/></colgroup><colgroup id="TBL-25-8g"><col id="TBL-25-8"/></colgroup><colgroup id="TBL-25-9g"><col id="TBL-25-9"/></colgroup><colgroup id="TBL-25-10g"><col id="TBL-25-10"/></colgroup><colgroup id="TBL-25-11g"><col id="TBL-25-11"/></colgroup><colgroup id="TBL-25-12g"><col id="TBL-25-12"/></colgroup><colgroup id="TBL-25-13g"><col id="TBL-25-13"/></colgroup><colgroup id="TBL-25-14g"><col id="TBL-25-14"/></colgroup><colgroup id="TBL-25-15g"><col id="TBL-25-15"/></colgroup><colgroup id="TBL-25-16g"><col id="TBL-25-16"/></colgroup><colgroup id="TBL-25-17g"><col id="TBL-25-17"/></colgroup><colgroup id="TBL-25-18g"><col id="TBL-25-18"/></colgroup><colgroup id="TBL-25-19g"><col id="TBL-25-19"/></colgroup><colgroup id="TBL-25-20g"><col id="TBL-25-20"/></colgroup><colgroup id="TBL-25-21g"><col id="TBL-25-21"/></colgroup><colgroup id="TBL-25-22g"><col id="TBL-25-22"/></colgroup><colgroup id="TBL-25-23g"><col id="TBL-25-23"/></colgroup><colgroup id="TBL-25-24g"><col id="TBL-25-24"/></colgroup><colgroup id="TBL-25-25g"><col id="TBL-25-25"/></colgroup><colgroup id="TBL-25-26g"><col id="TBL-25-26"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">i   </span></td><td class="td11" id="TBL-25-1-2" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-25-1-3" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-25-1-4" style="white-space:nowrap; text-align:center;">3</td><td class="td11" id="TBL-25-1-5" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-25-1-6" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-25-1-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-25-1-8" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-25-1-9" style="white-space:nowrap; text-align:center;">8</td><td class="td11" id="TBL-25-1-10" style="white-space:nowrap; text-align:center;">9</td><td class="td11" id="TBL-25-1-11" style="white-space:nowrap; text-align:center;">10</td><td class="td11" id="TBL-25-1-12" style="white-space:nowrap; text-align:center;">11</td><td class="td11" id="TBL-25-1-13" style="white-space:nowrap; text-align:center;">12</td><td class="td11" id="TBL-25-1-14" style="white-space:nowrap; text-align:center;">13</td><td class="td11" id="TBL-25-1-15" style="white-space:nowrap; text-align:center;">14</td><td class="td11" id="TBL-25-1-16" style="white-space:nowrap; text-align:center;">15</td><td class="td11" id="TBL-25-1-17" style="white-space:nowrap; text-align:center;">16</td><td class="td11" id="TBL-25-1-18" style="white-space:nowrap; text-align:center;">17</td><td class="td11" id="TBL-25-1-19" style="white-space:nowrap; text-align:center;">18</td><td class="td11" id="TBL-25-1-20" style="white-space:nowrap; text-align:center;">19</td><td class="td11" id="TBL-25-1-21" style="white-space:nowrap; text-align:center;">20</td><td class="td11" id="TBL-25-1-22" style="white-space:nowrap; text-align:center;">21</td><td class="td11" id="TBL-25-1-23" style="white-space:nowrap; text-align:center;">22</td><td class="td11" id="TBL-25-1-24" style="white-space:nowrap; text-align:center;">23</td><td class="td11" id="TBL-25-1-25" style="white-space:nowrap; text-align:center;">24</td><td class="td11" id="TBL-25-1-26" style="white-space:nowrap; text-align:center;">25</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">d[v_i]</span></td><td class="td11" id="TBL-25-2-2" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-25-2-3" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-25-2-4" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-25-2-5" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-25-2-6" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-25-2-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-25-2-8" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-25-2-9" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-25-2-10" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-25-2-11" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-25-2-12" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-25-2-13" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-25-2-14" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-25-2-15" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-25-2-16" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-25-2-17" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-25-2-18" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-25-2-19" style="white-space:nowrap; text-align:center;"> 5 </td><td class="td11" id="TBL-25-2-20" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-25-2-21" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-25-2-22" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-25-2-23" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-25-2-24" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-25-2-25" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-25-2-26" style="white-space:nowrap; text-align:center;"> 1 </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<div class="center">
<!--l. 3655--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-26"><colgroup id="TBL-26-1g"><col id="TBL-26-1"/></colgroup><colgroup id="TBL-26-2g"><col id="TBL-26-2"/></colgroup><colgroup id="TBL-26-3g"><col id="TBL-26-3"/></colgroup><colgroup id="TBL-26-4g"><col id="TBL-26-4"/></colgroup><colgroup id="TBL-26-5g"><col id="TBL-26-5"/></colgroup><colgroup id="TBL-26-6g"><col id="TBL-26-6"/></colgroup><colgroup id="TBL-26-7g"><col id="TBL-26-7"/></colgroup><colgroup id="TBL-26-8g"><col id="TBL-26-8"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-26-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-26-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">d[v_i]  </span></td><td class="td11" id="TBL-26-1-2" style="white-space:nowrap; text-align:center;"> 7 </td><td class="td11" id="TBL-26-1-3" style="white-space:nowrap; text-align:center;"> 6  </td><td class="td11" id="TBL-26-1-4" style="white-space:nowrap; text-align:center;">   5     </td><td class="td11" id="TBL-26-1-5" style="white-space:nowrap; text-align:center;">     4        </td><td class="td11" id="TBL-26-1-6" style="white-space:nowrap; text-align:center;">      3         </td><td class="td11" id="TBL-26-1-7" style="white-space:nowrap; text-align:center;">    2       </td><td class="td11" id="TBL-26-1-8" style="white-space:nowrap; text-align:center;">     1       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-26-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-26-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">D[d[v_i]]</span></td><td class="td11" id="TBL-26-2-2" style="white-space:nowrap; text-align:center;">[4]</td><td class="td11" id="TBL-26-2-3" style="white-space:nowrap; text-align:center;">[2,6]</td><td class="td11" id="TBL-26-2-4" style="white-space:nowrap; text-align:center;">[3,7,8,18]</td><td class="td11" id="TBL-26-2-5" style="white-space:nowrap; text-align:center;">[1,5,13,14,15]</td><td class="td11" id="TBL-26-2-6" style="white-space:nowrap; text-align:center;">[12,16,17,19,21]</td><td class="td11" id="TBL-26-2-7" style="white-space:nowrap; text-align:center;">[9,10,11,20]</td><td class="td11" id="TBL-26-2-8" style="white-space:nowrap; text-align:center;">[22,23,24,25]</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-26-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-26-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<!--l. 3679--><p class="noindent">Now, we start the procedure. For <span class="cmmi-10">k </span><span class="cmr-10">= 1</span>, the first node to be taken out would be 22, so:
<div class="center">
<!--l. 3681--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-27"><colgroup id="TBL-27-1g"><col id="TBL-27-1"/></colgroup><colgroup id="TBL-27-2g"><col id="TBL-27-2"/></colgroup><colgroup id="TBL-27-3g"><col id="TBL-27-3"/></colgroup><colgroup id="TBL-27-4g"><col id="TBL-27-4"/></colgroup><colgroup id="TBL-27-5g"><col id="TBL-27-5"/></colgroup><colgroup id="TBL-27-6g"><col id="TBL-27-6"/></colgroup><colgroup id="TBL-27-7g"><col id="TBL-27-7"/></colgroup><colgroup id="TBL-27-8g"><col id="TBL-27-8"/></colgroup><colgroup id="TBL-27-9g"><col id="TBL-27-9"/></colgroup><colgroup id="TBL-27-10g"><col id="TBL-27-10"/></colgroup><colgroup id="TBL-27-11g"><col id="TBL-27-11"/></colgroup><colgroup id="TBL-27-12g"><col id="TBL-27-12"/></colgroup><colgroup id="TBL-27-13g"><col id="TBL-27-13"/></colgroup><colgroup id="TBL-27-14g"><col id="TBL-27-14"/></colgroup><colgroup id="TBL-27-15g"><col id="TBL-27-15"/></colgroup><colgroup id="TBL-27-16g"><col id="TBL-27-16"/></colgroup><colgroup id="TBL-27-17g"><col id="TBL-27-17"/></colgroup><colgroup id="TBL-27-18g"><col id="TBL-27-18"/></colgroup><colgroup id="TBL-27-19g"><col id="TBL-27-19"/></colgroup><colgroup id="TBL-27-20g"><col id="TBL-27-20"/></colgroup><colgroup id="TBL-27-21g"><col id="TBL-27-21"/></colgroup><colgroup id="TBL-27-22g"><col id="TBL-27-22"/></colgroup><colgroup id="TBL-27-23g"><col id="TBL-27-23"/></colgroup><colgroup id="TBL-27-24g"><col id="TBL-27-24"/></colgroup><colgroup id="TBL-27-25g"><col id="TBL-27-25"/></colgroup><colgroup id="TBL-27-26g"><col id="TBL-27-26"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-27-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-27-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">i   </span></td><td class="td11" id="TBL-27-1-2" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-27-1-3" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-27-1-4" style="white-space:nowrap; text-align:center;">3</td><td class="td11" id="TBL-27-1-5" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-27-1-6" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-27-1-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-27-1-8" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-27-1-9" style="white-space:nowrap; text-align:center;">8</td><td class="td11" id="TBL-27-1-10" style="white-space:nowrap; text-align:center;">9</td><td class="td11" id="TBL-27-1-11" style="white-space:nowrap; text-align:center;">10</td><td class="td11" id="TBL-27-1-12" style="white-space:nowrap; text-align:center;">11</td><td class="td11" id="TBL-27-1-13" style="white-space:nowrap; text-align:center;">12</td><td class="td11" id="TBL-27-1-14" style="white-space:nowrap; text-align:center;">13</td><td class="td11" id="TBL-27-1-15" style="white-space:nowrap; text-align:center;">14</td><td class="td11" id="TBL-27-1-16" style="white-space:nowrap; text-align:center;">15</td><td class="td11" id="TBL-27-1-17" style="white-space:nowrap; text-align:center;">16</td><td class="td11" id="TBL-27-1-18" style="white-space:nowrap; text-align:center;">17</td><td class="td11" id="TBL-27-1-19" style="white-space:nowrap; text-align:center;">18</td><td class="td11" id="TBL-27-1-20" style="white-space:nowrap; text-align:center;">19</td><td class="td11" id="TBL-27-1-21" style="white-space:nowrap; text-align:center;">20</td><td class="td11" id="TBL-27-1-22" style="white-space:nowrap; text-align:center;"> 21 </td><td class="td11" id="TBL-27-1-23" style="white-space:nowrap; text-align:center;"><span id="textcolor1">22</span></td><td class="td11" id="TBL-27-1-24" style="white-space:nowrap; text-align:center;">23</td><td class="td11" id="TBL-27-1-25" style="white-space:nowrap; text-align:center;">24</td><td class="td11" id="TBL-27-1-26" style="white-space:nowrap; text-align:center;">25</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-27-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-27-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">d[v_i]</span></td><td class="td11" id="TBL-27-2-2" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-27-2-3" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-27-2-4" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-27-2-5" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-27-2-6" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-27-2-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-27-2-8" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-27-2-9" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-27-2-10" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-27-2-11" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-27-2-12" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-27-2-13" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-27-2-14" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-27-2-15" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-27-2-16" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-27-2-17" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-27-2-18" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-27-2-19" style="white-space:nowrap; text-align:center;"> 5 </td><td class="td11" id="TBL-27-2-20" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-27-2-21" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-27-2-22" style="white-space:nowrap; text-align:center;"><span id="textcolor2"><span class="sout">3</span></span><span id="textcolor3"> 2</span></td><td class="td11" id="TBL-27-2-23" style="white-space:nowrap; text-align:center;"><span id="textcolor4">1</span> </td><td class="td11" id="TBL-27-2-24" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-27-2-25" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-27-2-26" style="white-space:nowrap; text-align:center;"> 1 </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-27-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-27-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<div class="center">
<!--l. 3741--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-28"><colgroup id="TBL-28-1g"><col id="TBL-28-1"/></colgroup><colgroup id="TBL-28-2g"><col id="TBL-28-2"/></colgroup><colgroup id="TBL-28-3g"><col id="TBL-28-3"/></colgroup><colgroup id="TBL-28-4g"><col id="TBL-28-4"/></colgroup><colgroup id="TBL-28-5g"><col id="TBL-28-5"/></colgroup><colgroup id="TBL-28-6g"><col id="TBL-28-6"/></colgroup><colgroup id="TBL-28-7g"><col id="TBL-28-7"/></colgroup><colgroup id="TBL-28-8g"><col id="TBL-28-8"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-28-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-28-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">d[v_i]  </span></td><td class="td11" id="TBL-28-1-2" style="white-space:nowrap; text-align:center;"> 7 </td><td class="td11" id="TBL-28-1-3" style="white-space:nowrap; text-align:center;"> 6  </td><td class="td11" id="TBL-28-1-4" style="white-space:nowrap; text-align:center;">   5     </td><td class="td11" id="TBL-28-1-5" style="white-space:nowrap; text-align:center;">     4        </td><td class="td11" id="TBL-28-1-6" style="white-space:nowrap; text-align:center;">      3         </td><td class="td11" id="TBL-28-1-7" style="white-space:nowrap; text-align:center;">     2         </td><td class="td11" id="TBL-28-1-8" style="white-space:nowrap; text-align:center;">     1       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-28-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-28-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">D[d[v_i]]</span></td><td class="td11" id="TBL-28-2-2" style="white-space:nowrap; text-align:center;">[4]</td><td class="td11" id="TBL-28-2-3" style="white-space:nowrap; text-align:center;">[2,6]</td><td class="td11" id="TBL-28-2-4" style="white-space:nowrap; text-align:center;">[3,7,8,18]</td><td class="td11" id="TBL-28-2-5" style="white-space:nowrap; text-align:center;">[1,5,13,14,15]</td><td class="td11" id="TBL-28-2-6" style="white-space:nowrap; text-align:center;">[12,16,17,19,<span id="textcolor5"><span class="sout">21</span></span>]</td><td class="td11" id="TBL-28-2-7" style="white-space:nowrap; text-align:center;">[9,10,11,20,<span id="textcolor6">21</span>]</td><td class="td11" id="TBL-28-2-8" style="white-space:nowrap; text-align:center;">[<span id="textcolor7"><span class="sout">22</span></span>,23,24,25]</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-28-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-28-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<div class="center">
<!--l. 3765--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-29"><colgroup id="TBL-29-1g"><col id="TBL-29-1"/></colgroup><colgroup id="TBL-29-2g"><col id="TBL-29-2"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-29-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-29-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">v_i </span></td><td class="td11" id="TBL-29-1-2" style="white-space:nowrap; text-align:center;"><span id="textcolor8">22</span></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-29-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-29-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">L[v_i]</span></td><td class="td11" id="TBL-29-2-2" style="white-space:nowrap; text-align:center;"><span id="textcolor9">1</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-29-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-29-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<!--l. 3777--><p class="noindent">Now, with 23:
<div class="center">
<!--l. 3778--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-30"><colgroup id="TBL-30-1g"><col id="TBL-30-1"/></colgroup><colgroup id="TBL-30-2g"><col id="TBL-30-2"/></colgroup><colgroup id="TBL-30-3g"><col id="TBL-30-3"/></colgroup><colgroup id="TBL-30-4g"><col id="TBL-30-4"/></colgroup><colgroup id="TBL-30-5g"><col id="TBL-30-5"/></colgroup><colgroup id="TBL-30-6g"><col id="TBL-30-6"/></colgroup><colgroup id="TBL-30-7g"><col id="TBL-30-7"/></colgroup><colgroup id="TBL-30-8g"><col id="TBL-30-8"/></colgroup><colgroup id="TBL-30-9g"><col id="TBL-30-9"/></colgroup><colgroup id="TBL-30-10g"><col id="TBL-30-10"/></colgroup><colgroup id="TBL-30-11g"><col id="TBL-30-11"/></colgroup><colgroup id="TBL-30-12g"><col id="TBL-30-12"/></colgroup><colgroup id="TBL-30-13g"><col id="TBL-30-13"/></colgroup><colgroup id="TBL-30-14g"><col id="TBL-30-14"/></colgroup><colgroup id="TBL-30-15g"><col id="TBL-30-15"/></colgroup><colgroup id="TBL-30-16g"><col id="TBL-30-16"/></colgroup><colgroup id="TBL-30-17g"><col id="TBL-30-17"/></colgroup><colgroup id="TBL-30-18g"><col id="TBL-30-18"/></colgroup><colgroup id="TBL-30-19g"><col id="TBL-30-19"/></colgroup><colgroup id="TBL-30-20g"><col id="TBL-30-20"/></colgroup><colgroup id="TBL-30-21g"><col id="TBL-30-21"/></colgroup><colgroup id="TBL-30-22g"><col id="TBL-30-22"/></colgroup><colgroup id="TBL-30-23g"><col id="TBL-30-23"/></colgroup><colgroup id="TBL-30-24g"><col id="TBL-30-24"/></colgroup><colgroup id="TBL-30-25g"><col id="TBL-30-25"/></colgroup><colgroup id="TBL-30-26g"><col id="TBL-30-26"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-30-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-30-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">i   </span></td><td class="td11" id="TBL-30-1-2" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-30-1-3" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-30-1-4" style="white-space:nowrap; text-align:center;">3</td><td class="td11" id="TBL-30-1-5" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-30-1-6" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-30-1-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-30-1-8" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-30-1-9" style="white-space:nowrap; text-align:center;">8</td><td class="td11" id="TBL-30-1-10" style="white-space:nowrap; text-align:center;">9</td><td class="td11" id="TBL-30-1-11" style="white-space:nowrap; text-align:center;">10</td><td class="td11" id="TBL-30-1-12" style="white-space:nowrap; text-align:center;">11</td><td class="td11" id="TBL-30-1-13" style="white-space:nowrap; text-align:center;">12</td><td class="td11" id="TBL-30-1-14" style="white-space:nowrap; text-align:center;">13</td><td class="td11" id="TBL-30-1-15" style="white-space:nowrap; text-align:center;">14</td><td class="td11" id="TBL-30-1-16" style="white-space:nowrap; text-align:center;">15</td><td class="td11" id="TBL-30-1-17" style="white-space:nowrap; text-align:center;">16</td><td class="td11" id="TBL-30-1-18" style="white-space:nowrap; text-align:center;">17</td><td class="td11" id="TBL-30-1-19" style="white-space:nowrap; text-align:center;">18</td><td class="td11" id="TBL-30-1-20" style="white-space:nowrap; text-align:center;">19</td><td class="td11" id="TBL-30-1-21" style="white-space:nowrap; text-align:center;">20</td><td class="td11" id="TBL-30-1-22" style="white-space:nowrap; text-align:center;"><span id="textcolor10">21</span> </td><td class="td11" id="TBL-30-1-23" style="white-space:nowrap; text-align:center;"><span id="textcolor11">22</span></td><td class="td11" id="TBL-30-1-24" style="white-space:nowrap; text-align:center;"><span id="textcolor12">23</span></td><td class="td11" id="TBL-30-1-25" style="white-space:nowrap; text-align:center;">24</td><td class="td11" id="TBL-30-1-26" style="white-space:nowrap; text-align:center;">25</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-30-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-30-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">d[v_i]</span></td><td class="td11" id="TBL-30-2-2" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-30-2-3" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-30-2-4" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-30-2-5" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-30-2-6" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-30-2-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-30-2-8" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-30-2-9" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-30-2-10" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-30-2-11" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-30-2-12" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-30-2-13" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-30-2-14" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-30-2-15" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-30-2-16" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-30-2-17" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-30-2-18" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-30-2-19" style="white-space:nowrap; text-align:center;"> 5 </td><td class="td11" id="TBL-30-2-20" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-30-2-21" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-30-2-22" style="white-space:nowrap; text-align:center;"><span id="textcolor13"><span class="sout">2</span></span><span id="textcolor14"> 1</span></td><td class="td11" id="TBL-30-2-23" style="white-space:nowrap; text-align:center;"><span id="textcolor15">1</span> </td><td class="td11" id="TBL-30-2-24" style="white-space:nowrap; text-align:center;"><span id="textcolor16">1</span> </td><td class="td11" id="TBL-30-2-25" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-30-2-26" style="white-space:nowrap; text-align:center;"> 1 </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-30-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-30-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<div class="center">
<!--l. 3838--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-31"><colgroup id="TBL-31-1g"><col id="TBL-31-1"/></colgroup><colgroup id="TBL-31-2g"><col id="TBL-31-2"/></colgroup><colgroup id="TBL-31-3g"><col id="TBL-31-3"/></colgroup><colgroup id="TBL-31-4g"><col id="TBL-31-4"/></colgroup><colgroup id="TBL-31-5g"><col id="TBL-31-5"/></colgroup><colgroup id="TBL-31-6g"><col id="TBL-31-6"/></colgroup><colgroup id="TBL-31-7g"><col id="TBL-31-7"/></colgroup><colgroup id="TBL-31-8g"><col id="TBL-31-8"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-31-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-31-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">d[v_i]  </span></td><td class="td11" id="TBL-31-1-2" style="white-space:nowrap; text-align:center;"> 7 </td><td class="td11" id="TBL-31-1-3" style="white-space:nowrap; text-align:center;"> 6  </td><td class="td11" id="TBL-31-1-4" style="white-space:nowrap; text-align:center;">   5     </td><td class="td11" id="TBL-31-1-5" style="white-space:nowrap; text-align:center;">     4        </td><td class="td11" id="TBL-31-1-6" style="white-space:nowrap; text-align:center;">     3       </td><td class="td11" id="TBL-31-1-7" style="white-space:nowrap; text-align:center;">     2         </td><td class="td11" id="TBL-31-1-8" style="white-space:nowrap; text-align:center;">     1       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-31-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-31-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">D[d[v_i]]</span></td><td class="td11" id="TBL-31-2-2" style="white-space:nowrap; text-align:center;">[4]</td><td class="td11" id="TBL-31-2-3" style="white-space:nowrap; text-align:center;">[2,6]</td><td class="td11" id="TBL-31-2-4" style="white-space:nowrap; text-align:center;">[3,7,8,18]</td><td class="td11" id="TBL-31-2-5" style="white-space:nowrap; text-align:center;">[1,5,13,14,15]</td><td class="td11" id="TBL-31-2-6" style="white-space:nowrap; text-align:center;">[12,16,17,19]</td><td class="td11" id="TBL-31-2-7" style="white-space:nowrap; text-align:center;">[9,10,11,20,<span id="textcolor17"><span class="sout">21</span></span>]</td><td class="td11" id="TBL-31-2-8" style="white-space:nowrap; text-align:center;">[<span id="textcolor18">21</span><span id="textcolor19">,</span><span id="textcolor20"><span class="sout">23</span></span>,24,25]</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-31-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-31-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<div class="center">
<!--l. 3862--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-32"><colgroup id="TBL-32-1g"><col id="TBL-32-1"/></colgroup><colgroup id="TBL-32-2g"><col id="TBL-32-2"/></colgroup><colgroup id="TBL-32-3g"><col id="TBL-32-3"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-32-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-32-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">v_i </span></td><td class="td11" id="TBL-32-1-2" style="white-space:nowrap; text-align:center;">22</td><td class="td11" id="TBL-32-1-3" style="white-space:nowrap; text-align:center;"><span id="textcolor21">23</span></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-32-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-32-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">L[v_i]</span></td><td class="td11" id="TBL-32-2-2" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-32-2-3" style="white-space:nowrap; text-align:center;"><span id="textcolor22">1</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-32-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-32-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<!--l. 3876--><p class="noindent">Now, with 24:
<div class="center">
<!--l. 3877--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-33"><colgroup id="TBL-33-1g"><col id="TBL-33-1"/></colgroup><colgroup id="TBL-33-2g"><col id="TBL-33-2"/></colgroup><colgroup id="TBL-33-3g"><col id="TBL-33-3"/></colgroup><colgroup id="TBL-33-4g"><col id="TBL-33-4"/></colgroup><colgroup id="TBL-33-5g"><col id="TBL-33-5"/></colgroup><colgroup id="TBL-33-6g"><col id="TBL-33-6"/></colgroup><colgroup id="TBL-33-7g"><col id="TBL-33-7"/></colgroup><colgroup id="TBL-33-8g"><col id="TBL-33-8"/></colgroup><colgroup id="TBL-33-9g"><col id="TBL-33-9"/></colgroup><colgroup id="TBL-33-10g"><col id="TBL-33-10"/></colgroup><colgroup id="TBL-33-11g"><col id="TBL-33-11"/></colgroup><colgroup id="TBL-33-12g"><col id="TBL-33-12"/></colgroup><colgroup id="TBL-33-13g"><col id="TBL-33-13"/></colgroup><colgroup id="TBL-33-14g"><col id="TBL-33-14"/></colgroup><colgroup id="TBL-33-15g"><col id="TBL-33-15"/></colgroup><colgroup id="TBL-33-16g"><col id="TBL-33-16"/></colgroup><colgroup id="TBL-33-17g"><col id="TBL-33-17"/></colgroup><colgroup id="TBL-33-18g"><col id="TBL-33-18"/></colgroup><colgroup id="TBL-33-19g"><col id="TBL-33-19"/></colgroup><colgroup id="TBL-33-20g"><col id="TBL-33-20"/></colgroup><colgroup id="TBL-33-21g"><col id="TBL-33-21"/></colgroup><colgroup id="TBL-33-22g"><col id="TBL-33-22"/></colgroup><colgroup id="TBL-33-23g"><col id="TBL-33-23"/></colgroup><colgroup id="TBL-33-24g"><col id="TBL-33-24"/></colgroup><colgroup id="TBL-33-25g"><col id="TBL-33-25"/></colgroup><colgroup id="TBL-33-26g"><col id="TBL-33-26"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-33-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-33-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">i   </span></td><td class="td11" id="TBL-33-1-2" style="white-space:nowrap; text-align:center;">1</td><td class="td11" id="TBL-33-1-3" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-33-1-4" style="white-space:nowrap; text-align:center;">3</td><td class="td11" id="TBL-33-1-5" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-33-1-6" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-33-1-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-33-1-8" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-33-1-9" style="white-space:nowrap; text-align:center;">8</td><td class="td11" id="TBL-33-1-10" style="white-space:nowrap; text-align:center;">9</td><td class="td11" id="TBL-33-1-11" style="white-space:nowrap; text-align:center;">10</td><td class="td11" id="TBL-33-1-12" style="white-space:nowrap; text-align:center;">11</td><td class="td11" id="TBL-33-1-13" style="white-space:nowrap; text-align:center;">12</td><td class="td11" id="TBL-33-1-14" style="white-space:nowrap; text-align:center;">13</td><td class="td11" id="TBL-33-1-15" style="white-space:nowrap; text-align:center;"> 14 </td><td class="td11" id="TBL-33-1-16" style="white-space:nowrap; text-align:center;">15</td><td class="td11" id="TBL-33-1-17" style="white-space:nowrap; text-align:center;">16</td><td class="td11" id="TBL-33-1-18" style="white-space:nowrap; text-align:center;">17</td><td class="td11" id="TBL-33-1-19" style="white-space:nowrap; text-align:center;">18</td><td class="td11" id="TBL-33-1-20" style="white-space:nowrap; text-align:center;">19</td><td class="td11" id="TBL-33-1-21" style="white-space:nowrap; text-align:center;">20</td><td class="td11" id="TBL-33-1-22" style="white-space:nowrap; text-align:center;"><span id="textcolor23">21</span></td><td class="td11" id="TBL-33-1-23" style="white-space:nowrap; text-align:center;"><span id="textcolor24">22</span></td><td class="td11" id="TBL-33-1-24" style="white-space:nowrap; text-align:center;"><span id="textcolor25">23</span></td><td class="td11" id="TBL-33-1-25" style="white-space:nowrap; text-align:center;"><span id="textcolor26">24</span></td><td class="td11" id="TBL-33-1-26" style="white-space:nowrap; text-align:center;">25</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-33-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-33-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">d[v_i]</span></td><td class="td11" id="TBL-33-2-2" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-33-2-3" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-33-2-4" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-33-2-5" style="white-space:nowrap; text-align:center;">7</td><td class="td11" id="TBL-33-2-6" style="white-space:nowrap; text-align:center;">4</td><td class="td11" id="TBL-33-2-7" style="white-space:nowrap; text-align:center;">6</td><td class="td11" id="TBL-33-2-8" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-33-2-9" style="white-space:nowrap; text-align:center;">5</td><td class="td11" id="TBL-33-2-10" style="white-space:nowrap; text-align:center;">2</td><td class="td11" id="TBL-33-2-11" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-33-2-12" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-33-2-13" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-33-2-14" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-33-2-15" style="white-space:nowrap; text-align:center;"><span id="textcolor27"><span class="sout">4</span></span><span id="textcolor28"> 3</span></td><td class="td11" id="TBL-33-2-16" style="white-space:nowrap; text-align:center;"> 4 </td><td class="td11" id="TBL-33-2-17" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-33-2-18" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-33-2-19" style="white-space:nowrap; text-align:center;"> 5 </td><td class="td11" id="TBL-33-2-20" style="white-space:nowrap; text-align:center;"> 3 </td><td class="td11" id="TBL-33-2-21" style="white-space:nowrap; text-align:center;"> 2 </td><td class="td11" id="TBL-33-2-22" style="white-space:nowrap; text-align:center;"><span id="textcolor29">1</span> </td><td class="td11" id="TBL-33-2-23" style="white-space:nowrap; text-align:center;"><span id="textcolor30">1</span> </td><td class="td11" id="TBL-33-2-24" style="white-space:nowrap; text-align:center;"><span id="textcolor31">1</span> </td><td class="td11" id="TBL-33-2-25" style="white-space:nowrap; text-align:center;"><span id="textcolor32">1</span> </td><td class="td11" id="TBL-33-2-26" style="white-space:nowrap; text-align:center;"> 1 </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-33-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-33-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<div class="center">
<!--l. 3937--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-34"><colgroup id="TBL-34-1g"><col id="TBL-34-1"/></colgroup><colgroup id="TBL-34-2g"><col id="TBL-34-2"/></colgroup><colgroup id="TBL-34-3g"><col id="TBL-34-3"/></colgroup><colgroup id="TBL-34-4g"><col id="TBL-34-4"/></colgroup><colgroup id="TBL-34-5g"><col id="TBL-34-5"/></colgroup><colgroup id="TBL-34-6g"><col id="TBL-34-6"/></colgroup><colgroup id="TBL-34-7g"><col id="TBL-34-7"/></colgroup><colgroup id="TBL-34-8g"><col id="TBL-34-8"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-34-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">d[v_i]  </span></td><td class="td11" id="TBL-34-1-2" style="white-space:nowrap; text-align:center;"> 7 </td><td class="td11" id="TBL-34-1-3" style="white-space:nowrap; text-align:center;"> 6  </td><td class="td11" id="TBL-34-1-4" style="white-space:nowrap; text-align:center;">   5     </td><td class="td11" id="TBL-34-1-5" style="white-space:nowrap; text-align:center;">     4        </td><td class="td11" id="TBL-34-1-6" style="white-space:nowrap; text-align:center;">      3         </td><td class="td11" id="TBL-34-1-7" style="white-space:nowrap; text-align:center;">    2       </td><td class="td11" id="TBL-34-1-8" style="white-space:nowrap; text-align:center;">   1     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-34-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">D[d[v_i]]</span></td><td class="td11" id="TBL-34-2-2" style="white-space:nowrap; text-align:center;">[4]</td><td class="td11" id="TBL-34-2-3" style="white-space:nowrap; text-align:center;">[2,6]</td><td class="td11" id="TBL-34-2-4" style="white-space:nowrap; text-align:center;">[3,7,8,18]</td><td class="td11" id="TBL-34-2-5" style="white-space:nowrap; text-align:center;">[1,5,13,<span id="textcolor33"><span class="sout">14</span></span>,15]</td><td class="td11" id="TBL-34-2-6" style="white-space:nowrap; text-align:center;">[12,16,17,19,<span id="textcolor34">14</span>]</td><td class="td11" id="TBL-34-2-7" style="white-space:nowrap; text-align:center;">[9,10,11,20]</td><td class="td11" id="TBL-34-2-8" style="white-space:nowrap; text-align:center;">[21,<span id="textcolor35"><span class="sout">24</span></span>,25]</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-34-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<div class="center">
<!--l. 3961--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-35"><colgroup id="TBL-35-1g"><col id="TBL-35-1"/></colgroup><colgroup id="TBL-35-2g"><col id="TBL-35-2"/></colgroup><colgroup id="TBL-35-3g"><col id="TBL-35-3"/></colgroup><colgroup id="TBL-35-4g"><col id="TBL-35-4"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-35-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-35-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">v_i </span></td><td class="td11" id="TBL-35-1-2" style="white-space:nowrap; text-align:center;">22</td><td class="td11" id="TBL-35-1-3" style="white-space:nowrap; text-align:center;">23</td><td class="td11" id="TBL-35-1-4" style="white-space:nowrap; text-align:center;"><span id="textcolor36">24</span></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-35-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-35-2-1" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">L[v_i]</span></td><td class="td11" id="TBL-35-2-2" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-35-2-3" style="white-space:nowrap; text-align:center;"> 1 </td><td class="td11" id="TBL-35-2-4" style="white-space:nowrap; text-align:center;"><span id="textcolor37">1</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-35-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-35-3-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
<!--l. 3977--><p class="noindent">And so on...
</p></p></p></p></p></p></div>
<!--l. 3978--><p class="noindent">
<!--l. 3980--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">7.3   </span> <a id="x1-530007.3"></a>Community Detection Problem</h4>
<!--l. 3982--><p class="noindent">A <span class="ecbx-1000">community </span>in a network refers to the occurrence of clusters or groups of nodes in a network, that are
more densely connected internally than with the nodes outside the community. There are mainly two
cases:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3986--><p class="noindent"><span class="ecbx-1000">Non-overlapping communities</span>: divides into clusters of nodes with dense connections internally, and
     sparser connections between clusters. Each node is assigned to one community.
     </p></li>
<li class="itemize">
<!--l. 3989--><p class="noindent"><span class="ecbx-1000">Overlapping communities</span>: assumes that pairs of ndoes are more likely to be connected if they are both
     members of the same communities, and less likely to be connected if they do not share any community.</p></li></ul>
<!--l. 3993--><p class="noindent"><hr class="figure"/><div class="figure"><a id="x1-530011"></a><img alt="PIC" src="41_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado23.png"/><img alt="PIC" src="42_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado24.png"/>
<br/> <div class="caption"><span class="id">Figure 1: </span><span class="content">Non-verlapping communities (left) and overlapping communities (right). </span></div><!--tex4ht:label?: x1-530011 -->
<!--l. 3997--><p class="noindent"></p></div><hr class="endfigure"/>
<!--l. 3999--><p class="noindent">There are several considerations or properties of communities that can be used to obtain them:
     <ul class="itemize1">
<li class="itemize">
<!--l. 4002--><p class="noindent">Mutuality of ties: every node in the group has ties to one another.
     </p></li>
<li class="itemize">
<!--l. 4003--><p class="noindent">Compactness: closeness or reachability of group nodes.
     </p></li>
<li class="itemize">
<!--l. 4004--><p class="noindent">Density of edges: high number of edges within a community.
     </p></li>
<li class="itemize">
<!--l. 4005--><p class="noindent">Separation of higher frequency of ties among group members compared to non members.
     </p></li>
<li class="itemize">
<!--l. 4007--><p class="noindent">Usual metrics: graph density, internal and external density, graph cut, modularity score.</p></li></ul>
<!--l. 4010--><p class="noindent">This problems is a combinatorial optimisation problem, and it is NP-hard if we want a exact solution. However, there
are many approaches that leverage greedy techniques or approximate heuristics, that we are going to see
now.
<!--l. 4015--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">7.3.1   </span> <a id="x1-540007.3.1"></a>k-Clique Community</h5>
<div class="tcolorbox tcolorbox" id="tcolobox-23">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 4018--><p class="noindent"><span class="head">
<a id="x1-54001r3"></a>
<span class="ecbx-1000">Definition 7.3.</span> </span>A <span class="cmmi-10">k</span><span class="ecbx-1000">-clique community </span>is the union of all <span class="cmmi-10">k</span>-cliques that can be reached from one to
the other through a sequence of adjacent <span class="cmmi-10">k</span>-cliques.
<!--l. 4023--><p class="noindent">Two <span class="cmmi-10">k</span>-cliques are <span class="ecbx-1000">adjacent </span>if they share <span class="cmmi-10">k </span><span class="cmsy-10">- </span><span class="cmr-10">1 </span>vertices.
</p></p></div>
<!--l. 4024--><p class="noindent">
</p></div>
</div>
<!--l. 4027--><p class="noindent">To find <span class="cmmi-10">k</span>-clique communities, we can use the Clique Percolation Method <span class="cite">[<a href="#XPalla2005">2</a>]</span>, which consists in:
     <ol class="enumerate1">
<li class="enumerate" id="x1-54003x1">
<!--l. 4030--><p class="noindent">Find all maximal cliques, sorting them based on degrees.
     </p></li>
<li class="enumerate" id="x1-54005x2">
<!--l. 4031--><p class="noindent">Create clique overlap matrix, where <span class="cmmi-10">M</span><span class="cmr-10">[</span><span class="cmmi-10">i,j</span><span class="cmr-10">] = 1 </span>if cliques <span class="cmmi-10">i </span>and <span class="cmmi-10">j </span>overlap in at least <span class="cmmi-10">k </span><span class="cmsy-10">- </span><span class="cmr-10">1 </span>nodes.
     </p></li>
<li class="enumerate" id="x1-54007x3">
<!--l. 4033--><p class="noindent">Communities are the connected components that arise from this.</p></li></ol>
<!--l. 4036--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">7.3.2   </span> <a id="x1-550007.3.2"></a>Louvain Algorithm</h5>
<!--l. 4038--><p class="noindent">The most populat community detection algorithm is the <span class="ecbx-1000">Louvain algorithm</span>, which is based in the concept of
modularity:
<!--l. 4041--><p class="noindent">In network science, the <span class="ecbx-1000">configuration model </span>is a method for generating random networks from a given degree
sequence. It is widely used as a reference model for social networks, allowing the modeler to incorporate arbitrary
degree distributions.
<!--l. 4046--><p class="noindent">The idea is to assign a degree <span class="cmmi-10">d</span><sub><span class="cmmi-7">v</span></sub> to each node <span class="cmmi-10">v</span>. Each degree is a half-link, or stub, and the sum of stubs must be even
to be able to build a graph, i.e., <span class="cmex-10">∑</span>
<sub><span class="cmmi-7">v</span><span class="cmsy-7">∈</span><span class="cmmi-7">V</span> </sub><span class="cmmi-10">d</span><sub><span class="cmmi-7">v</span></sub> <span class="cmr-10">= 2</span><span class="cmmi-10">m</span>. Then, we choose two stubs uniformly at random and connect them by
a link, then choose another pair from the remaining <span class="cmr-10">2</span><span class="cmmi-10">m </span><span class="cmsy-10">- </span><span class="cmr-10">2 </span>stubs, and connect them. We repeat this
process until there are no more stubs. The resulting network keeps the same degrees but randomly pairs up
nodes.
<!--l. 4054--><p class="noindent">A <span class="ecbx-1000">realization </span>might include cycles, self-loops or multi-links. The uniform distribution of the matching must be kept, so
these are not excluded. However, their expected number goes to zero for large networks, because the probability of <span class="cmmi-10">v</span>
being connected to one of <span class="cmmi-10">w </span>stubs is <img align="middle" alt="2dmw--1" class="frac" src="summary499x.png"/>. Since node <span class="cmmi-10">v </span>has <span class="cmmi-10">d</span><sub><span class="cmmi-7">v</span></sub> stubs, the probability of <span class="cmmi-10">v </span>being connected to <span class="cmmi-10">w </span>is
<img align="middle" alt="-dvdw-
2m -1" class="frac" src="summary500x.png"/> which is almost the same as <img align="middle" alt="dvdw-
2m" class="frac" src="summary501x.png"/> for large <span class="cmmi-10">m</span>.
<!--l. 4062--><p class="noindent">Now, <span class="ecbx-1000">modularity </span>measures the relative density of links inside communities with respect to links outside communities.
There are different methods to compute the modularity, but in the most common version, the randomization of the
edges is done to preserve the degree of each vertex.
                                                                                            
                                                                                            
<!--l. 4068--><p class="noindent">The basic idea is to compare the number of links within communities with the number expected on the basis of chance.
The generated network has less links between nodes of the same community, and more between nodes of different
communities.
<!--l. 4073--><p class="noindent">It can be computed as
<div class="math-display">
<img alt="        ∑  ∑  [         ]
Q = -1-        Aij - didj δ(ci,cj)
    2m   i  j       2m
" class="math-display" src="summary502x.png"/></div>
<!--l. 4077--><p class="noindent">or
<div class="math-display">
<img alt="    [∑  ∑        ∑    ∑    ]
     --i--jAij   --idi--jdj
Q =     2m     -   (2m )2    δ (ci,cj),
" class="math-display" src="summary503x.png"/></div>
<!--l. 4081--><p class="noindent">where <span class="cmmi-10">d</span><sub><span class="cmmi-7">i</span></sub> is the degree of vertex <span class="cmmi-10">i</span>, and <span class="cmmi-10">c</span><sub><span class="cmmi-7">i</span></sub> is the community of vertex <span class="cmmi-10">i</span>. <span class="cmmi-10">δ </span>is the Kronecker function, so <span class="cmmi-10">δ</span><img align="middle" alt="(ci,cj)" class="left" src="summary504x.png"/> is 1 if
<span class="cmmi-10">c</span><sub><span class="cmmi-7">i</span></sub> <span class="cmr-10">= </span><span class="cmmi-10">c</span><sub><span class="cmmi-7">j</span></sub>, and 0 otherwise.
<!--l. 4085--><p class="noindent">The modularity is <span class="cmsy-10">-</span><span class="cmr-10">1 </span><span class="cmsy-10">≤ </span><span class="cmmi-10">Q </span><span class="cmsy-10">≤ </span><span class="cmr-10">1 </span>and it is positive when links within communities exceed links within communities in a
randomly rewired network.
<!--l. 4089--><p class="noindent">This is the modularity of a graph, but we can also compute the modularity of a community, <span class="cmmi-10">c</span>, as
<div class="math-display">
<img alt="     ∑    ∑         ∑      ∑
     --i∈c--j∈c-Aij  --i∈cdi--j∈c-dj
Qc =      2m      -     (2m )2
" class="math-display" src="summary505x.png"/></div>
<!--l. 4094--><p class="noindent">or
                                                                                            
                                                                                            
<div class="math-display">
<img alt="     ∑     ( ∑      )2
Q  = --in -  --in+out   ,
  c   2m       2m
" class="math-display" src="summary506x.png"/></div>
<!--l. 4098--><p class="noindent">where <span class="cmex-10">∑</span>
<sub><span class="cmmi-7">in</span></sub> is the sum of edge weights between nodes within the community <span class="cmmi-10">c </span>(each edge is considered twice), and
<span class="cmex-10">∑</span>
<sub><span class="cmmi-7">in</span><span class="cmr-7">+</span><span class="cmmi-7">out</span></sub> is the sum of all edge weights for nodes within the community, including incident ones from the other
communities.
<!--l. 4103--><p class="noindent">Note that if there is only one community, then <span class="cmmi-10">Q </span><span class="cmr-10">= 0</span>.
<!--l. 4105--><p class="noindent">Now, finding the optimal value for modularity is impractical, because it needs to go through all possible combinations of
the nodes into communities, and so the <span class="ecbx-1000">Louvain method </span>is a heuristic method for greedy modularity maximisation in
2 phases:
     <ol class="enumerate1">
<li class="enumerate" id="x1-55002x1">
<!--l. 4110--><p class="noindent">Modularity is optimized by allowing only local changes to node communities memberships.
         <ol class="enumerate2">
<li class="enumerate" id="x1-55004x1">
<!--l. 4113--><p class="noindent">Initially, each node is assigned its own community.</p></li></ol>
</p></li>
<li class="enumerate" id="x1-55006x2">
<!--l. 4115--><p class="noindent">The identified communities are aggregated into super-nodes, to build a new network.
         <ol class="enumerate2">
<li class="enumerate" id="x1-55008x1">
<!--l. 4118--><p class="noindent">This phase is repeated until there is only one super node, the whole graph.</p></li></ol>
</p></li></ol>
<!--l. 4122--><p class="noindent">This algorithm is widely used for large networks, because it is efficient and produces high dense communities. It has a
complexity of <span class="cmmi-10">O</span><img align="middle" alt="(nlogn)" class="left" src="summary507x.png"/> in time, and can be used on weighted graphs. In addition, it provides hierarchical
communities, allowing us to define the level of detail of the communities, and also to obtain subcommunities within
communities. A sample visualization is the following:
<div class="center">
<!--l. 4128--><p class="noindent">
<!--l. 4129--><p class="noindent"><img alt="PIC" src="43_home_runner_work_BDMA_Notes_BDMA_Notes_Paris___ment-Analytics_LectureNotes_source_pegado25.png"/>
</p></p></div>
<!--l. 4132--><p class="noindent">In more precise terms, the <span class="ecbx-1000">phase 1 </span>goes as follows: what is <span class="cmr-10">Δ</span><span class="cmmi-10">Q </span>if we move a node <span class="cmmi-10">v </span>from <span class="cmmi-10">C</span><sub><span class="cmmi-7">J</span></sub> to <span class="cmmi-10">C</span><sub><span class="cmmi-7">I</span></sub>:
                                                                                            
                                                                                            
<div class="math-display">
<img alt="ΔQCJ  v→CI = ΔQCJ \{v} + ΔQCI ∪{v}.
" class="math-display" src="summary508x.png"/></div>
<!--l. 4137--><p class="noindent">But how can we derive <span class="cmr-10">Δ</span><span class="cmmi-10">Q</span><sub><span class="cmmi-7">C</span><sub><span class="cmmi-5">I</span></sub><span class="cmsy-7">∪</span><img align="middle" alt="{v}" class="left" src="summary509x.png"/></sub>? The key here is that the gain in modularity does not depend on the original
community of <span class="cmmi-10">v</span>. It can easily be computed by moving an isolated node <span class="cmmi-10">v </span>into <span class="cmmi-10">C</span><sub><span class="cmmi-7">I</span></sub>:
<div class="math-display">
<img alt="                    [         ]
ΔQCI ∪{v} = QCI∪{v} - QCI +Q {v},
" class="math-display" src="summary510x.png"/></div>
<!--l. 4144--><p class="noindent">and therefore
<div class="math-display">
<img alt="           [∑             ( ∑          )2]  [ ∑     ( ∑      )2  (    )2]
ΔQC  ∪{v} =  --in+2-⋅dv,in-   --in+out+dv-    -  --in--   --in+out  -   dv-    .
    J            2m             2m            2m        2m         2m
" class="math-display" src="summary511x.png"/></div>
<!--l. 4148--><p class="noindent">On the other side,
<div class="math-display">
<img alt="           [             ]
ΔQCJ \{v} =  QCJ\{v} + Q{v} - QCJ,
" class="math-display" src="summary512x.png"/></div>
<!--l. 4152--><p class="noindent">so
                                                                                            
                                                                                            
<div class="math-display">
<img alt="           [∑             ( ∑          )2  (    )2]  [ ∑     ( ∑      )2]
ΔQ       =  --in- 2-⋅dv,in--  --in+out--dv-  -   dv-   -   --in--   --in+out   .
   CJ\{v}        2m              2m           2m        2m        2m
" class="math-display" src="summary513x.png"/></div>
<!--l. 4156--><p class="noindent">Therefore, the gain only depends on <span class="cmmi-10">d</span><sub><span class="cmmi-7">v,in</span></sub> and <span class="cmmi-10">C</span>.
<!--l. 4158--><p class="noindent">The complete algorithm is:
     <ol class="enumerate1">
<li class="enumerate" id="x1-55010x1">
<!--l. 4160--><p class="noindent">For each node <span class="cmmi-10">v</span>:
         <ol class="enumerate2">
<li class="enumerate" id="x1-55012x1">
<!--l. 4162--><p class="noindent">Compute modularity gain from removing <span class="cmmi-10">v </span>from its community and placing it in the community of
         its neighbours.
         </p></li>
<li class="enumerate" id="x1-55014x2">
<!--l. 4164--><p class="noindent">Place <span class="cmmi-10">v </span>in the community that maximizes <span class="cmr-10">Δ</span><span class="cmmi-10">Q</span>.
         </p></li>
<li class="enumerate" id="x1-55016x3">
<!--l. 4165--><p class="noindent">One iteration is achieved for all the nodes in a sequential manner.
         </p></li>
<li class="enumerate" id="x1-55018x4">
<!--l. 4166--><p class="noindent">Repeat  the  procedure  sequentially  to  all  nodes  until  no  more  improvement  (local  maximum  of
         modularity).
         </p></li>
<li class="enumerate" id="x1-55020x5">
<!--l. 4168--><p class="noindent">The output of this phase depends on the order in which nodes are considered. Research shows that
         this does not significantly affect the overall modularity.</p></li></ol>
</p></li>
<li class="enumerate" id="x1-55022x2">
<!--l. 4172--><p class="noindent">Nodes from communities are grouped into super nodes.
         <ol class="enumerate2">
<li class="enumerate" id="x1-55024x1">
<!--l. 4174--><p class="noindent">Links between nodes of the same community <span class="cmmi-10">c </span>are represented by self-loops weighted by adding up
         the links between these nodes: <span class="cmmi-10">c </span>has a loop edge with weight
                                                                                            
                                                                                            
<div class="math-display">
<img alt="     ∑
w =       Ai,j.
    vi,vj∈c
" class="math-display" src="summary514x.png"/></div>
</p></li>
<li class="enumerate" id="x1-55026x2">
<!--l. 4180--><p class="noindent">Links between communities are weighted by adding up the links between community’s nodes. Each
         <img align="middle" alt="(ci,cj)" class="left" src="summary515x.png"/> has a link with weight
<div class="math-display">
<img alt="      ∑
w =         Ai,j.
    vi∈ci,vj∈cj
" class="math-display" src="summary516x.png"/></div>
</p></li></ol>
</p></li></ol>
<!--l. 4189--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">7.3.3   </span> <a id="x1-560007.3.3"></a>Walktrap Approach</h5>
<!--l. 4191--><p class="noindent">This other approach is based on random walks. The idea is to consider a random walk on a graph, in which at each time
step, we move to neighbours uniformly at random:
<div class="math-display">
<img alt="     Aij
Pij =-d-, P = D -1A,
       i
" class="math-display" src="summary517x.png"/></div>
<!--l. 4197--><p class="noindent">and <span class="cmmi-10">P</span><sub><span class="cmmi-7">ij</span></sub><sup><span class="cmmi-7">t</span></sup> represents the probability to get from <span class="cmmi-10">i </span>to <span class="cmmi-10">j </span>in <span class="cmmi-10">t </span>steps.
<!--l. 4200--><p class="noindent">We would think that two nodes <span class="cmmi-10">i </span>and <span class="cmmi-10">j </span>that lie in the same community should have a high <span class="cmmi-10">P</span><sub><span class="cmmi-7">ij</span></sub><sup><span class="cmmi-7">t</span></sup>, as well as
similar <span class="cmmi-10">P</span><sub><span class="cmmi-7">ik</span></sub><sup><span class="cmmi-7">t</span></sup> <span class="cmsy-10">~ </span><span class="cmmi-10">P</span><sub><span class="cmmi-7">jk</span></sub><sup><span class="cmmi-7">t</span></sup>, for different <span class="cmmi-10">k</span>. Therefore, we can define a distance (or similarity) between nodes,
as
                                                                                            
                                                                                            
<div class="math-display">
<img alt="       ┌ ---------------
       ││  n (P t - Pt)2   ∥               ∥
rij(t) = │∘ ∑ ---ik----jk---= ∥∥D - 12P t- D- 12Pt∥∥.
         k=1     dk             i        j
" class="math-display" src="summary518x.png"/></div>
<!--l. 4207--><p class="noindent">In addition, we approximate the computation by
<div class="math-display">
<img alt="P t~  Nik,
 ik   Ni
" class="math-display" src="summary519x.png"/></div>
<!--l. 4211--><p class="noindent">where <span class="cmmi-10">N</span><sub><span class="cmmi-7">ik</span></sub> is the number of walks starting at <span class="cmmi-10">i </span>and passing through <span class="cmmi-10">k</span>, and <span class="cmmi-10">N</span><sub><span class="cmmi-7">i</span></sub> is the number of walks starting from
<span class="cmmi-10">i</span>.
<!--l. 4214--><p class="noindent">The approach goes as follows:
     <ol class="enumerate1">
<li class="enumerate" id="x1-56002x1">
<!--l. 4216--><p class="noindent">Assign each node to its own community.
     </p></li>
<li class="enumerate" id="x1-56004x2">
<!--l. 4217--><p class="noindent">Compute the distance between adjacent nodes, <span class="cmmi-10">r</span><sub><span class="cmmi-7">ij</span></sub><img align="middle" alt="(t)" class="left" src="summary520x.png"/>.
     </p></li>
<li class="enumerate" id="x1-56006x3">
<!--l. 4218--><p class="noindent">Choose the two closest communities and merge them.
     </p></li>
<li class="enumerate" id="x1-56008x4">
<!--l. 4219--><p class="noindent">Update the distance between communities, as
<div class="math-display">
<img alt="         ┌ ----------------
         ││ ∑n (Pctk - Pctk)2 ∥∥   1        1   ∥∥
rc1,c2 (t) = ∘  ---1-d---2---= ∥D -2Pct1 - D -2P tc2∥,
           k=1      k
" class="math-display" src="summary521x.png"/></div>
<!--l. 4223--><p class="noindent">where
<div class="math-display">
<img alt="Pt = -1 ∑  Pt.
 ck  |c|i∈c ik
" class="math-display" src="summary522x.png"/></div>
</p></p></li>
<li class="enumerate" id="x1-56010x5">
<!--l. 4227--><p class="noindent">Finish when there is only one community.</p></li></ol>
<!--l. 4230--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">7.3.4   </span> <a id="x1-570007.3.4"></a>Girvan-Newman Approach</h5>
<!--l. 4232--><p class="noindent"><span class="ecbx-1000">Edge betweenness </span>of <span class="cmmi-10">e </span>is the fraction of shortest paths between all nodes <span class="cmmi-10">s </span>and <span class="cmmi-10">t </span>going through edge
<span class="cmmi-10">e</span>:
<div class="math-display">
<img alt="       ∑  nes,t
ebt(e) =   ns,t.
       s⁄=t
" class="math-display" src="summary523x.png"/></div>
<!--l. 4237--><p class="noindent">In this case, we focus on edges that connect communities, and construct them by progressively removing edges with the
highest betweenness value. It goes as:
     <ol class="enumerate1">
<li class="enumerate" id="x1-57002x1">
<!--l. 4241--><p class="noindent">For all <span class="cmmi-10">e </span><span class="cmsy-10">∈ </span><span class="cmmi-10">E</span>
<ol class="enumerate2">
<li class="enumerate" id="x1-57004x1">
<!--l. 4243--><p class="noindent">Compute <span class="cmmi-10">ebt</span><img align="middle" alt="(e)" class="left" src="summary524x.png"/>
</p></li>
<li class="enumerate" id="x1-57006x2">
<!--l. 4244--><p class="noindent">Remove the edge <span class="cmmi-10">e </span>with largets <span class="cmmi-10">ebt</span><img align="middle" alt="(e)" class="left" src="summary525x.png"/></p></li></ol>
</p></li>
<li class="enumerate" id="x1-57008x2">
<!--l. 4246--><p class="noindent">Repeat until all edges are gone. Stop when it splits in 2 components. The output is a dendogram.</p></li></ol>
<!--l. 4249--><p class="noindent">
<h3 class="likesectionHead"><a id="x1-580007.3.4"></a>References</h3>
<!--l. 1--><p class="noindent">
<div class="thebibliography">
<p class="bibitem"><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a id="Xleskovec2008community"></a>Jure Leskovec, Kevin J. Lang, Anirban Dasgupta, and Michael W. Mahoney. Community structure in
   large networks: Natural cluster sizes and the absence of large well-defined clusters, 2008.
   </p>
<p class="bibitem"><span class="biblabel">
 [2]<span class="bibsp">   </span></span><a id="XPalla2005"></a>Gergely  Palla,  Imre  DerÃ<span class="tcrm-1000">©</span>nyi,  IllÃ<span class="tcrm-1000">©</span>s  Farkas,  and  TamÃ¡s  Vicsek.    Uncovering  the  overlapping
   community structure of complex networks in nature and society. <span class="ecti-1000">Nature</span>, 435(7043):814–818, 2005.
   </p>
<p class="bibitem"><span class="biblabel">
 [3]<span class="bibsp">   </span></span><a id="XSeghouani2023"></a>NacÃ<span class="tcrm-1000">©</span>ra Seghouani. Massive graph management and analytics. Lecture Notes.
</p>
</div>
</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></body></html>
