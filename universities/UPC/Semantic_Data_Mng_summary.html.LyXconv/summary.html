<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head><title>BDM-MIRI - Semantic Data Management</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="TeX4ht (https://tug.org/tex4ht/)" name="generator"/>
<meta content="TeX4ht (https://tug.org/tex4ht/)" name="originator"/>
<!-- html -->
<meta content="summary.tex" name="src"/>
<link href="summary.css" rel="stylesheet" type="text/css"/>
</head><body>
<div class="maketitle">
<h2 class="titleHead">BDM-MIRI - Semantic Data Management</h2>
<div class="author"><span class="ecrm-1200">Jose Antonio Lorencio Abril</span></div><br/>
<div class="date"><span class="ecrm-1200">Spring 2023</span></div>
</div>
<div class="center">
<!--l. 96--><p class="noindent">
<!--l. 97--><p class="noindent"><img alt="PIC" src="0_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_upc-logo.png"/>
</p></p></div>
<div class="flushright">
<!--l. 100--><p class="noindent">
 Professors: Anna Queralt, Óscar Romero
</p></div>
<div class="flushright">
<!--l. 104--><p class="noindent">
 Student e-mail: jose.antonio.lorencio@estudiantat..upc.edu
</p></div>
<!--l. 108--><p class="indent">
<!--l. 115--><p class="noindent">This
is
a
summary
of
the
course
<span class="ecti-1000">Semantic</span>
<span class="ecti-1000">Data</span>
<span class="ecti-1000">Management</span>
taught
at
the
Universitat
Politècnica
de
Catalunya
by
Professors
Anna
Queralt
and
Óscar
Romero
in
the
academic
year
22/23.
Most
of
the
content
of
this
document
is
adapted
from
the
course
notes
by
Abelló
and
Nadal,
<span class="cite">[<a href="#XRomero2023">1</a>]</span>,
so
I
won’t
be
citing
it
all
the
time.
                                                                                            
                                                                                            
Other
references
will
be
provided
when
used.
<!--l. 117--><p class="indent">
<h3 class="likesectionHead"><a id="x1-1000"></a>Contents</h3>
<div class="tableofcontents">
<span class="partToc">I  <a href="#x1-4000I" id="QQ2-1-4">Property Graphs</a></span>
<br/>    <span class="sectionToc">1 <a href="#x1-50001" id="QQ2-1-5">Property Graphs</a></span>
<br/>     <span class="subsectionToc">1.1 <a href="#x1-60001.1" id="QQ2-1-6">Definitions</a></span>
<br/>     <span class="subsectionToc">1.2 <a href="#x1-70001.2" id="QQ2-1-7">Traversal Navigation</a></span>
<br/>     <span class="subsectionToc">1.3 <a href="#x1-80001.3" id="QQ2-1-8">Graph operations</a></span>
<br/>     <span class="subsectionToc">1.4 <a href="#x1-140001.4" id="QQ2-1-14">Property Graph Patterns</a></span>
<br/>    <span class="sectionToc">2 <a href="#x1-170002" id="QQ2-1-17">Graph Query Languages</a></span>
<br/>     <span class="subsectionToc">2.1 <a href="#x1-180002.1" id="QQ2-1-18">Types of queries</a></span>
<br/>     <span class="subsectionToc">2.2 <a href="#x1-190002.2" id="QQ2-1-19">Popular languages</a></span>
<br/>    <span class="sectionToc">3 <a href="#x1-220003" id="QQ2-1-22">Graph Processing</a></span>
<br/>     <span class="subsectionToc">3.1 <a href="#x1-230003.1" id="QQ2-1-23">Dijkstra’s algorithm</a></span>
<br/>     <span class="subsectionToc">3.2 <a href="#x1-240003.2" id="QQ2-1-24">Pattern Matching</a></span>
<br/>     <span class="subsectionToc">3.3 <a href="#x1-250003.3" id="QQ2-1-25">Complex Graph Processing</a></span>
<br/>    <span class="sectionToc">4 <a href="#x1-290004" id="QQ2-1-29">Graph Databases</a></span>
<br/>     <span class="subsectionToc">4.1 <a href="#x1-300004.1" id="QQ2-1-30">Implementation of Graph Databases</a></span>
<br/>     <span class="subsectionToc">4.2 <a href="#x1-380004.2" id="QQ2-1-38">Types of Graph Databases</a></span>
<br/>    <span class="sectionToc">5 <a href="#x1-390005" id="QQ2-1-39">Distributed Graph Processing</a></span>
<br/>     <span class="subsectionToc">5.1 <a href="#x1-400005.1" id="QQ2-1-40">Distributed Graph Storage</a></span>
<br/>     <span class="subsectionToc">5.2 <a href="#x1-410005.2" id="QQ2-1-41">TLAV Frameworks</a></span>
<br/> <span class="partToc">II  <a href="#x1-51000II" id="QQ2-1-51">Knowledge Graphs</a></span>
<br/>    <span class="sectionToc">6 <a href="#x1-520006" id="QQ2-1-52">Introduction to Knowledge Graphs</a></span>
<br/>    <span class="sectionToc">7 <a href="#x1-540007" id="QQ2-1-56">Resource Description Format (RDF)</a></span>
<br/>     <span class="subsectionToc">7.1 <a href="#x1-550007.1" id="QQ2-1-57">RDF Modeling</a></span>
<br/>     <span class="subsectionToc">7.2 <a href="#x1-560007.2" id="QQ2-1-58">RDF-star</a></span>
<br/>    <span class="sectionToc">8 <a href="#x1-570008" id="QQ2-1-59">RDF Schema (RDFS)</a></span>
<br/>     <span class="subsectionToc">8.1 <a href="#x1-580008.1" id="QQ2-1-60">RDFS statements at the schema level</a></span>
<br/>     <span class="subsectionToc">8.2 <a href="#x1-590008.2" id="QQ2-1-61">RDFS Core Classes</a></span>
<br/>     <span class="subsectionToc">8.3 <a href="#x1-600008.3" id="QQ2-1-63">RDFS Inference</a></span>
<br/>     <span class="subsectionToc">8.4 <a href="#x1-610008.4" id="QQ2-1-64">RDFS Core Properties</a></span>
<br/>     <span class="subsectionToc">8.5 <a href="#x1-620008.5" id="QQ2-1-65">SPARQL</a></span>
<br/>     <span class="subsectionToc">8.6 <a href="#x1-640008.6" id="QQ2-1-67">RDFS Inference Rules</a></span>
<br/>    <span class="sectionToc">9 <a href="#x1-660009" id="QQ2-1-69">Ontology Languages: Description Logics</a></span>
<br/>     <span class="subsectionToc">9.1 <a href="#x1-670009.1" id="QQ2-1-70">Logic Based Ontology Languages</a></span>
<br/>     <span class="subsectionToc">9.2 <a href="#x1-680009.2" id="QQ2-1-71">TBOX</a></span>
<br/>     <span class="subsectionToc">9.3 <a href="#x1-690009.3" id="QQ2-1-72">ABOX</a></span>
<br/>     <span class="subsectionToc">9.4 <a href="#x1-700009.4" id="QQ2-1-73">Models of a Description Logics Ontology</a></span>
<br/>    <span class="sectionToc">10 <a href="#x1-7500010" id="QQ2-1-78">Ontology Web Language (OWL)</a></span>
<br/>     <span class="subsectionToc">10.1 <a href="#x1-7600010.1" id="QQ2-1-79">OWL Axioms</a></span>
<br/>     <span class="subsectionToc">10.2 <a href="#x1-7700010.2" id="QQ2-1-80">OWL Constructs</a></span>
<br/>     <span class="subsectionToc">10.3 <a href="#x1-7800010.3" id="QQ2-1-81">OWL Implementation</a></span>
<br/>     <span class="subsectionToc">10.4 <a href="#x1-7900010.4" id="QQ2-1-82">OWL 2.0 Profiles</a></span>
<br/>    <span class="sectionToc">11 <a href="#x1-8000011" id="QQ2-1-83">Graph-Based Virtual Data Integration</a></span>
<br/>     <span class="subsectionToc">11.1 <a href="#x1-8100011.1" id="QQ2-1-84">Local-As-View (LAV) Integration - Ontology-Mediated Queries (OMQ)</a></span>
<br/>     <span class="subsectionToc">11.2 <a href="#x1-8300011.2" id="QQ2-1-86">Query Answering - Rewriting Algorithm</a></span>
</div>
<!--l. 121--><p class="indent">
<h3 class="likesectionHead"><a id="x1-2000"></a>List of Figures</h3>
<div class="tableofcontents"><span class="lofToc">1 <a href="#x1-520011">Example knowledge graph from [1].</a></span><br/><span class="lofToc">2 <a href="#x1-520022">Examples of data linkage from [1].</a></span><br/><span class="lofToc">3 <a href="#x1-590013">Three
layers of abtraction of RDFS from [1]. The red arrows are <span class="ecti-1000">rdf:type </span>relationships.</a></span><br/>
</div>
<!--l. 125--><p class="noindent">
<h3 class="likesectionHead"><a id="x1-3000"></a>List of Tables</h3>
<div class="tableofcontents">
</div>
<!--l. 127--><p class="indent">
<!--l. 127--><p class="noindent"><span class="ecbx-1440">List of Algorithms</span>
<!--l. 129--><p class="indent">
<h1 class="partHead"><span class="titlemark">Part I<br/></span><a id="x1-4000I"></a>Property Graphs</h1>
<h3 class="sectionHead"><span class="titlemark">1   </span> <a id="x1-50001"></a>Property Graphs</h3>
<!--l. 135--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a id="x1-60001.1"></a>Definitions</h4>
<!--l. 137--><p class="noindent">Property graphs were born in the database community, with the idea of enabling the possibility to query and process
data in graph form. Up to date, there is not any official standard.
<!--l. 141--><p class="indent">   Property graphs are <span class="ecbx-1000">ocurrence-based</span>, which means that they are defined by the particular instances inserted,
without a pre-existent enforceable schema. The instances are represented by two main constructs:
     <ul class="itemize1">
<li class="itemize">
<!--l. 145--><p class="noindent"><span class="ecbx-1000">Nodes</span>: represent entities.
     </p></li>
<li class="itemize">
<!--l. 146--><p class="noindent"><span class="ecbx-1000">Edges</span>: relate pairs of nodes, and may represent different types of relationships.</p></li></ul>
<!--l. 149--><p class="noindent">Both nodes and edges might be <span class="ecbx-1000">labeled </span>and can have a ser of properties, represented as
<span class="ecbx-1000">attributes</span><span class="footnote-mark"><a href="summary2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a id="x1-6001f1"></a>  .
In addition, edges can be defined to be directed or undirected. Moreover, multi-graphs are allowed, meaning that two
nodes can be related by multiple edges.
<!--l. 155--><p class="indent">   More formally:
   <div class="tcolorbox tcolorbox" id="tcolobox-1">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 158--><p class="noindent"><span class="head">
<a id="x1-6002r1"></a>
<span class="ecbx-1000">Definition 1.1.</span> </span>A <span class="ecbx-1000">property graph</span>, <span class="cmmi-10">G</span>, is a tuple <img align="middle" alt="(V,E,ρ,λ,σ,Lab,Prop,Val)" class="left" src="summary0x.png"/>, where:
        <ol class="enumerate1">
<li class="enumerate" id="x1-6004x1">
<!--l. 162--><p class="noindent"><span class="cmmi-10">V </span>is a finite set of vertices.
        </p></li>
<li class="enumerate" id="x1-6006x2">
<!--l. 163--><p class="noindent"><span class="cmmi-10">E   </span>is    a    finite    set    of    edges,    such    that    <span class="cmmi-10">V    </span>and    <span class="cmmi-10">E   </span>have    no    elements    in
        common<span class="footnote-mark"><a href="summary3.html#fn1x2"><sup class="textsuperscript">a</sup></a></span><a id="x1-6007f1"></a> .
        </p></li>
<li class="enumerate" id="x1-6009x3">
<!--l. 167--><p class="noindent"><span class="cmmi-10">Lab </span>is a set of labels.
        </p></li>
<li class="enumerate" id="x1-6011x4">
<!--l. 168--><p class="noindent"><span class="cmmi-10">Prop </span>is a set of properties and <span class="cmmi-10">V al </span>is the set of possible values that the properties can take.
        </p></li>
<li class="enumerate" id="x1-6013x5">
<!--l. 170--><p class="noindent"><span class="cmmi-10">ρ </span><span class="cmr-10">: </span><span class="cmmi-10">E </span><span class="cmsy-10">→ </span><span class="cmmi-10">V </span><span class="cmsy-10">×</span><span class="cmmi-10">V </span>is a total function<span class="footnote-mark"><a href="summary4.html#fn2x2"><sup class="textsuperscript">b</sup></a></span><a id="x1-6014f1"></a> .
        Basically, <span class="cmmi-10">ρ </span>assigns each edge <span class="cmmi-10">e </span><span class="cmsy-10">∈ </span><span class="cmmi-10">E </span>to the pair of nodes that it relates, <img align="middle" alt="(u,v)" class="left" src="summary2x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">V </span><span class="cmsy-10">× </span><span class="cmmi-10">V </span>. Usually,
        <span class="cmmi-10">ρ</span><img align="middle" alt="(e)" class="left" src="summary3x.png"/> <span class="cmr-10">= </span><img align="middle" alt="(u,v)" class="left" src="summary4x.png"/> means that edge <span class="cmmi-10">e </span>starts in <span class="cmmi-10">u </span>and ends in <span class="cmmi-10">v</span>.
        </p></li>
<li class="enumerate" id="x1-6016x6">
<!--l. 174--><p class="noindent"><span class="cmmi-10">λ </span><span class="cmr-10">: </span><img align="middle" alt="(V ∪ E)" class="left" src="summary5x.png"/> <span class="cmsy-10">→ </span><span class="cmmi-10">Lab </span>is a total function. Now, for each vertex and each edge, we assign a label to
        it<span class="footnote-mark"><a href="summary5.html#fn3x2"><sup class="textsuperscript">c</sup></a></span><a id="x1-6017f1"></a> .
        </p></li>
<li class="enumerate" id="x1-6019x7">
<!--l. 177--><p class="noindent"><span class="cmmi-10">σ </span><span class="cmr-10">: </span><img align="middle" alt="(V ∪E )" class="left" src="summary7x.png"/><span class="cmsy-10">×</span><span class="cmmi-10">Prop </span><span class="cmsy-10">→ </span><span class="cmmi-10">V al </span>is a partial function<span class="footnote-mark"><a href="summary6.html#fn4x2"><sup class="textsuperscript">d</sup></a></span><a id="x1-6020f1"></a> .
        Here, we are assigning the values of each property of each node/edge.</p></li></ol>
</p></div>
<!--l. 181--><p class="noindent">
</p></div>
</div>
<div class="newtheorem">
<!--l. 184--><p class="noindent"><span class="head">
<a id="x1-6021r1"></a>
<span class="ecbx-1000">Example 1.1.</span> </span>A simple graph.
<div class="center">
<!--l. 186--><p class="noindent">
<!--l. 187--><p class="noindent"><img alt="PIC" src="1_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_simplegraph.png"/>
</p></p></div>
<!--l. 190--><p class="indent">   In this example, we have the visual representation of a simple graph. Let’s create each of the components of the
formal definition:
     <ul class="itemize1">
<li class="itemize">
<!--l. 193--><p class="noindent"><span class="cmmi-10">V </span><span class="cmr-10">= </span><img align="middle" alt="{n1,n2,n3}" class="left" src="summary8x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 194--><p class="noindent"><span class="cmmi-10">E </span><span class="cmr-10">= </span><img align="middle" alt="{e1,e2,e3}" class="left" src="summary9x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 195--><p class="noindent"><span class="cmmi-10">Lab </span><span class="cmr-10">= </span><img align="middle" alt="{Person,M ovie,acts in,directs}" class="left" src="summary10x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 196--><p class="noindent"><span class="cmmi-10">Prop </span><span class="cmr-10">= </span><img align="middle" alt="{name, gender,title,role,ref}" class="left" src="summary11x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 197--><p class="noindent"><span class="cmmi-10">V al </span><span class="cmr-10">= </span><img align="middle" alt="{Clint Eastwood,Anna Levine,male,f emale,Unforgiven,Bill,Delilah,IM Db }" class="left" src="summary12x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 198--><p class="noindent"><span class="cmmi-10">λ</span><img align="middle" alt="(n1)" class="left" src="summary13x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">Person,λ</span><img align="middle" alt="(n2)" class="left" src="summary14x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">Movie,λ</span><img align="middle" alt="(n3)" class="left" src="summary15x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">Person,λ</span><img align="middle" alt="(e1)" class="left" src="summary16x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">acts</span>_<span class="cmmi-10">in,λ</span><img align="middle" alt="(e2)" class="left" src="summary17x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">directs,λ</span><img align="middle" alt="(e3)" class="left" src="summary18x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">acts</span>_<span class="cmmi-10">in</span>.
     </p></li>
<li class="itemize">
<!--l. 199--><p class="noindent"><span class="cmmi-10">σ</span><img align="middle" alt="(n1,name )" class="left" src="summary19x.png"/> <span class="cmr-10">=  </span><span class="cmmi-10">Clint</span><span class="cmmi-10"> Eastwood,σ</span><img align="middle" alt="(n1,gender)" class="left" src="summary20x.png"/> <span class="cmr-10">=  </span><span class="cmmi-10">male,σ</span><img align="middle" alt="(n2,title)" class="left" src="summary21x.png"/> <span class="cmr-10">=  </span><span class="cmmi-10">Unforgiven,σ</span><img align="middle" alt="(n3,name )" class="left" src="summary22x.png"/> <span class="cmr-10">=</span>
<span class="cmmi-10">Anna</span><span class="cmmi-10"> Levine,</span>
<!--l. 201--><p class="noindent"><span class="cmmi-10">σ</span><img align="middle" alt="(n3,gender)" class="left" src="summary23x.png"/> <span class="cmr-10">=  </span><span class="cmmi-10">female,σ</span><img align="middle" alt="(e1,role)" class="left" src="summary24x.png"/> <span class="cmr-10">=  </span><span class="cmmi-10">Bill,σ</span><img align="middle" alt="(e1,ref)" class="left" src="summary25x.png"/> <span class="cmr-10">=  </span><span class="cmmi-10">IMDb,σ</span><img align="middle" alt="(e3,role)" class="left" src="summary26x.png"/> <span class="cmr-10">=  </span><span class="cmmi-10">Delilah,σ</span><img align="middle" alt="(e3,ref)" class="left" src="summary27x.png"/> <span class="cmr-10">=</span>
<span class="cmmi-10">IMDb</span>.</p></p></li></ul>
</p></p></div>
<!--l. 203--><p class="indent">
<h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a id="x1-70001.2"></a>Traversal Navigation</h4>
<!--l. 207--><p class="noindent">The <span class="ecbx-1000">graph traversal pattern </span>is defined as the ability to rapidly traverse structures to an arbitrary depth and with an
arbitrary path description.
<!--l. 211--><p class="indent">   This framework is totally opposite to set theory, on which relational databases are based on. In the relational theory,
this is equivalent to joining data and selecting data, while in a graph database, the relationships are explicit
(there no foreign keys), there is no need to add nodes for artificial concepts and we can consider the
joins as being hard-wired in the data. This makes traversing from one node to another a constant time
operation.
<!--l. 219--><p class="indent">   Traversing graph data depends on three main variables:
     <ul class="itemize1">
<li class="itemize">
<!--l. 221--><p class="noindent">The <span class="ecbx-1000">query topology</span>, which refers to the complexity of what are we looking for, and the <span class="ecbx-1000">traversal seeds</span>,
     which are the way in which the search is started.
     </p></li>
<li class="itemize">
<!--l. 224--><p class="noindent">The <span class="ecbx-1000">size of the graph</span>, typically measured as the number of edges.
     </p></li>
<li class="itemize">
<!--l. 226--><p class="noindent">The <span class="ecbx-1000">topology of the graph</span>.</p></li></ul>
<!--l. 229--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">1.3   </span> <a id="x1-80001.3"></a>Graph operations</h4>
<!--l. 231--><p class="noindent">There are basically two types of operations:
     <ul class="itemize1">
<li class="itemize">
<!--l. 233--><p class="noindent"><span class="ecbx-1000">Content-based queries</span>: in these queries, the value is relevant. We want to get a specific node, or the
     value of some attributes of a node/edge, etc. For example, aggregations.
     </p></li>
<li class="itemize">
<!--l. 236--><p class="noindent"><span class="ecbx-1000">Topological queries</span>: in this case, only the topology of the graph is considered. Several business problems
     are solved using graph algorithms exploring the graph topology. For example, computing the betweenness
     centrality of a node.
     </p></li>
<li class="itemize">
<!--l. 240--><p class="noindent"><span class="ecbx-1000">Hybrid approaches</span>: leverage both types of queries.</p></li></ul>
<!--l. 242--><p class="noindent">Of these types, we are going to focus on topological queries.
<!--l. 244--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1   </span> <a id="x1-90001.3.1"></a>Topological queries</h5>
<!--l. 246--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-100001.3.1"></a>Adjacency queries</h5>
<!--l. 248--><p class="noindent">Two nodes are adjacent if there is an edge between them (usually disregarding direction). Therefore, the adjacency of a
node is defined as all nodes adjacent to it:
   <div class="math-display">
<img alt="Adjacency(n) = N |ni ∈ N ⇐⇒ ∃e : ρ(e) = (ni,n) ∨ρ (e) = (n,ni).
" class="math-display" src="summary28x.png"/></div>
<!--l. 255--><p class="indent">   The computational cost of this operation is linear on the number of edges to visit.
<!--l. 258--><p class="indent">   Examples of use cases are finding all friends of a person, airports with direct connection,...
<!--l. 261--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-110001.3.1"></a>Reachability queries</h5>
<!--l. 263--><p class="noindent">A node is reachable from another node if there is a set of edges, called a <span class="ecbx-1000">walk</span>, that can be traversed to get from one to
the other (in this case, direction is usually taken into account, but it could be disregarded if needed). Now, the
definition is as follows:
   <div class="math-display">
<img alt="Reachability(nor,ndest) = True ⇐⇒
" class="math-display" src="summary29x.png"/></div>
<!--l. 270--><p class="indent">
<div class="math-display">
<img alt="∃W alk(nor,ndest) = (e1,...,em )|∃n1,...,nm- 1 : ρ(e1) = (nor,n1),ρ (e2) = (n1,n2),...,ρ (em ) = (nm-1,ndest).
" class="math-display" src="summary30x.png"/></div>
<!--l. 274--><p class="indent">   Additional constraints can be defined:
     <ul class="itemize1">
<li class="itemize">
<!--l. 276--><p class="noindent">Fixed-length paths: we can fix the number of edges and nodes of the walk.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 278--><p class="noindent">Shortest path: find the walk that minimizes some metric, such as the number of hops or the sum of weights
     of the edges,...
     </p></li>
<li class="itemize">
<!--l. 280--><p class="noindent">Non-repeated nodes: in this case the walk is called a <span class="ecbx-1000">path</span>.
     </p></li>
<li class="itemize">
<!--l. 281--><p class="noindent">Non-repeated edges: in this case the walk is called a <span class="ecbx-1000">trail</span>. Note that a path is more restrictive than a
     trail.
     </p></li>
<li class="itemize">
<!--l. 283--><p class="noindent">Regular simple paths: we can restrict the path to respect some regular expression.</p></li></ul>
<!--l. 286--><p class="noindent">The computational cost is high for large graphs, and it also depends on what constraints are we imposing. For instance, if
we want to compute the shortest path, we can use <span class="ecbx-1000">Dijkstra’s algorithm</span>, which is <span class="cmmi-10">O</span><img align="middle" alt="(    )
 |V|2" class="left" src="summary31x.png"/>, or <span class="cmmi-10">O</span><img align="middle" alt="(|E |⋅|V |log |V |)" class="left" src="summary32x.png"/>
using priority queues.
<!--l. 292--><p class="indent">   Examples of use cases are finding all friends of a friend, all flight connections,...
<!--l. 295--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-120001.3.1"></a>Label-constrained reachability</h5>
<!--l. 297--><p class="noindent">We compute reachability, imposing that all edges in the walk have a label in a defined set of labels:
   <div class="math-display">
<img alt="G * = {(s,t)|∃p ∈ paths (s,t) such that λ(e) ∈ L,∀e ∈ p}.
  L
" class="math-display" src="summary33x.png"/></div>
<!--l. 302--><p class="indent">   Another way to see this is that we are trying to determine all pairs of nodes such that there is a path between them
such that the concatenation of the edge labels along the path forms a string in the language denoted by the regular
expresion <img align="middle" alt="(l1 ∪...∪ ln)" class="left" src="summary34x.png"/><sup><span class="cmsy-7">*</span></sup>, where <span class="cmmi-10">L </span><span class="cmr-10">= </span><img align="middle" alt="{l1,...,ln}" class="left" src="summary35x.png"/>.
<!--l. 308--><p class="indent">   Typically, the allowed topology and labels involved are expressed as a regular expression. In general, this problem is
known to be NP-complete.
<!--l. 311--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-130001.3.1"></a>Pattern matching</h5>
<!--l. 313--><p class="noindent">In this case, we want to find all subgraphs that follow a given pattern. More formally, we have <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary36x.png"/> and a
pattern <span class="cmmi-10">P </span><span class="cmr-10">= </span><img align="middle" alt="(V ,E )
  p  p" class="left" src="summary37x.png"/> and we want to find all <span class="cmmi-10">G</span><span class="cmsy-10">′ </span><span class="cmr-10">= </span><img align="middle" alt="(V ′,E′)" class="left" src="summary38x.png"/> such that <span class="cmmi-10">V </span><span class="cmsy-10">′⊂ </span><span class="cmmi-10">V,E</span><span class="cmsy-10">′⊂ </span><span class="cmmi-10">E </span>and <span class="cmmi-10">P</span><img alt="~=" class="cong" src="summary39x.png"/><span class="cmmi-10">G</span><span class="cmsy-10">′</span>, i.e., <span class="cmmi-10">P </span>and <span class="cmmi-10">G</span><span class="cmsy-10">′ </span>are
isomorphic, i.e., there are biyections <span class="cmmi-10">V </span><span class="cmsy-10">′</span><img alt="f1
→" class="" src="summary40x.png"/> <span class="cmmi-10">V</span> <sub><span class="cmmi-7">p</span></sub> and <span class="cmmi-10">E</span><span class="cmsy-10">′</span><img alt=" f2
→" class="" src="summary41x.png"/> <span class="cmmi-10">E</span><sub>
<span class="cmmi-7">p</span></sub>.
<!--l. 319--><p class="indent">   This problem is also NP-complete.
<!--l. 321--><p class="indent">   Examples of use cases are finding all groups of cities such that all of them are directly connected by flights (find
cliques),...
                                                                                            
                                                                                            
<!--l. 324--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">1.4   </span> <a id="x1-140001.4"></a>Property Graph Patterns</h4>
<!--l. 326--><p class="noindent">Among the operations that we have seen so far, it is interesting, in the context of property graphs, to focus on pattern
matching. Now, we use <span class="ecbx-1000">basic graph patterns (bgps)</span>, which are equivalent to conjunctive queries, and are a property
graph where variables can appear in place of any constant.
<!--l. 332--><p class="indent">   A <span class="ecbx-1000">match </span>for a bgp is a mapping from variables to constants, such that when the mapping is applied to the bgp, the
result is a subgraph of the original graph.
<!--l. 336--><p class="indent">   The <span class="ecbx-1000">results </span>for a bgp are all mappings from variables in the query to constants that comprise a
match.
   <div class="newtheorem">
<!--l. 338--><p class="noindent"><span class="head">
<a id="x1-14001r2"></a>
<span class="ecbx-1000">Example 1.2.</span> </span>A simple pattern matching. Assume we have the same graph we used before:
<div class="center">
<!--l. 340--><p class="noindent">
<!--l. 341--><p class="noindent"><img alt="PIC" src="1_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_simplegraph.png"/>
</p></p></div>
<!--l. 344--><p class="indent">   And the following bgp:
<div class="center">
<!--l. 345--><p class="noindent">
<!--l. 346--><p class="noindent"><img alt="PIC" src="2_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_simplebgp.png"/>
</p></p></div>
<!--l. 349--><p class="indent">   Here, I have coloured variables in red, and left constant in black.
<!--l. 351--><p class="indent">   Let’s see some matches:
<div class="center">
<!--l. 352--><p class="noindent">
<!--l. 353--><p class="noindent"><img alt="PIC" src="3_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_simplebgp_1.png"/>
</p></p></div>
<div class="center">
<!--l. 356--><p class="noindent">
<!--l. 357--><p class="noindent"><img alt="PIC" src="4_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_simplebgp_2.png"/>
</p></p></div>
<!--l. 360--><p class="indent">   And so on...
   </p></p></p></p></p></div>
<!--l. 361--><p class="indent">
<!--l. 363--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">1.4.1   </span> <a id="x1-150001.4.1"></a>Evaluating graph patterns</h5>
<!--l. 365--><p class="noindent">Now, we are going to formalize a bit the intuition built in the previous explanation and example. Evaluating a bgp <span class="cmmi-10">P</span>,
against a graph <span class="cmmi-10">G </span>corresponds to listing all possible matches of <span class="cmmi-10">P </span>with respect to <span class="cmmi-10">G</span>:
   <div class="tcolorbox tcolorbox" id="tcolobox-2">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 371--><p class="noindent"><span class="head">
<a id="x1-15001r2"></a>
<span class="ecbx-1000">Definition 1.2.</span> </span>Given an edge-labelled graph <span class="cmmi-10">G </span><span class="cmr-10">= </span><img align="middle" alt="(V,E)" class="left" src="summary42x.png"/> and a bgp <span class="cmmi-10">P </span><span class="cmr-10">= </span><img align="middle" alt="(V ′,E ′)" class="left" src="summary43x.png"/>, a <span class="ecbx-1000">match </span>of <span class="cmmi-10">P </span>in <span class="cmmi-10">G</span>
is a mapping
<div class="math-display">
<img alt="h : Const∪ Var → Const
" class="math-display" src="summary44x.png"/></div>
<!--l. 377--><p class="noindent">such that:
        <ol class="enumerate1">
<li class="enumerate" id="x1-15003x1">
<!--l. 379--><p class="noindent">For each constant <span class="cmmi-10">a </span><span class="cmsy-10">∈ </span><span class="cmmi-10">Const</span>, <span class="cmmi-10">h</span><img align="middle" alt="(a)" class="left" src="summary45x.png"/> <span class="cmr-10">= </span><span class="cmmi-10">a</span>, i.e., constants are preserved.
        </p></li>
<li class="enumerate" id="x1-15005x2">
<!--l. 381--><p class="noindent">For each edge <img align="middle" alt="(b,l,c)" class="left" src="summary46x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E</span><span class="cmsy-10">′</span>, we have <img align="middle" alt="(h (b),h (l),h(c))" class="left" src="summary47x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">E</span>. This imposes that
              <ol class="enumerate2">
<li class="enumerate" id="x1-15007x1">
<!--l. 384--><p class="noindent">Each edge of <span class="cmmi-10">P </span>is mapped to an edge of <span class="cmmi-10">G</span>.
              </p></li>
<li class="enumerate" id="x1-15009x2">
<!--l. 385--><p class="noindent">The structure of <span class="cmmi-10">P </span>is preserved in its image under <span class="cmmi-10">h </span>in <span class="cmmi-10">G</span>.</p></li></ol>
</p></li></ol>
</p></p></div>
<!--l. 388--><p class="noindent">
</p></div>
</div>
<!--l. 392--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">1.4.2   </span> <a id="x1-160001.4.2"></a>Semantics of a match</h5>
<!--l. 394--><p class="noindent">Matches can be defined using different semantics on what we consider equivalent graphs, and what conditions the
function <span class="cmmi-10">h </span>have to meet:
                                                                                            
                                                                                            
     <ul class="itemize1">
<li class="itemize">
<!--l. 397--><p class="noindent"><span class="ecbx-1000">Homomorphism-based semantics</span>: multiple variables in <span class="cmmi-10">P  </span>can map to the same constant in <span class="cmmi-10">G </span>(<span class="cmmi-10">h</span>
     is not necessarily inyective). This correspondes to the familiar semantics of select-from-where queries in
     relational databases.
     </p></li>
<li class="itemize">
<!--l. 401--><p class="noindent"><span class="ecbx-1000">Isomorphism-based queries</span>: we add the constraint that <span class="cmmi-10">h </span>must be inyective.</p></li></ul>
<!--l. 404--><p class="noindent">Nonetheless, there are intermediate solutions:
     <ul class="itemize1">
<li class="itemize">
<!--l. 406--><p class="noindent"><span class="ecbx-1000">Strict isomorphism</span>: corresponds to the isomorphism-based queries, in its stricter sense. <span class="cmmi-10">h </span>is inyective.
     </p></li>
<li class="itemize">
<!--l. 408--><p class="noindent"><span class="ecbx-1000">No repeated-node semantics</span>: <span class="cmmi-10">h </span>is only inyective for nodes.
     </p></li>
<li class="itemize">
<!--l. 409--><p class="noindent"><span class="ecbx-1000">No repeated-edge semantics</span>: <span class="cmmi-10">h </span>is only inyective for edges.</p></li></ul>
<!--l. 411--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">2   </span> <a id="x1-170002"></a>Graph Query Languages</h3>
<!--l. 415--><p class="noindent">Graph Query Languages are declarative languages used to query a graph. Typically, a GQL matches an extended
version of pattern matching, and each database engine chooses fix semantics for it, not existing a common agreement
nor standard. There are also APIs provigin implementation of graph metrica or label-constrained shortest
path, which, depending on the metric or algorithm chosen, maps to adjacency, reachability or pattern
matching.
<!--l. 423--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a id="x1-180002.1"></a>Types of queries</h4>
<!--l. 425--><p class="noindent">There are different types of queries, each of them using a different access plan:
     <ul class="itemize1">
<li class="itemize">
<!--l. 428--><p class="noindent"><span class="ecbx-1000">Adjacency queries</span>: neighbourhood queries require accessing the basic data structure and navigate it.
     Thus, their performance depends on the database implementation and the specific query, as the time to
     find a node or edge depends on this implementation.
     </p></li>
<li class="itemize">
<!--l. 432--><p class="noindent"><span class="ecbx-1000">Regular path queries</span>: combine pattern matching and reachability and require specific graph-oriented
     algorithms. They are equivalent to conjunctive queries. They are also called navigational graph patterns.
     <!--l. 436--><p class="noindent">RPQs extend the bgp definition by allowing regular expressions on edges to describe path queries in a
     pattern, i.e., a <span class="ecbx-1000">path </span>is described as
<div class="math-display">
<img alt="  α
x→  y over G,
" class="math-display" src="summary48x.png"/></div>
<!--l. 442--><p class="noindent">where <span class="cmmi-10">x,y </span>are nodes in <span class="cmmi-10">G </span>and <span class="cmmi-10">α </span>is a regular expression over <span class="cmmi-10">Lab</span>. The regular expressions differ from language to
     language. Some usual expressions are:
         <ul class="itemize2">
<li class="itemize">
<!--l. 446--><p class="noindent">The Kleene star *: 0 or more ocurrences.
         </p></li>
<li class="itemize">
<!--l. 447--><p class="noindent">The Kleene plus +: 1 or more ocurrences.
         </p></li>
<li class="itemize">
<!--l. 448--><p class="noindent">Concatenation <span class="cmsy-10">∘</span>
</p></li>
<li class="itemize">
<!--l. 449--><p class="noindent">Inverse <sup><span class="cmsy-7">-</span></sup>
</p></li>
<li class="itemize">
<!--l. 450--><p class="noindent">Union <span class="cmsy-10">|</span>:
                                                                                            
                                                                                            
         </p></li>
<li class="itemize">
<!--l. 451--><p class="noindent">Combinations of them and the labels in <span class="cmmi-10">Lab</span>.</p></li></ul>
<div class="newtheorem">
<!--l. 453--><p class="noindent"><span class="head">
<a id="x1-18001r1"></a>
<span class="ecbx-1000">Example 2.1.</span> </span>Some simple RPQs. In our previous example, we can define some simple RPQs:
         <ul class="itemize2">
<li class="itemize">
<!--l. 457--><p class="noindent">Find all co-actors of all actors:
         <div class="center">
<!--l. 458--><p class="noindent">
<!--l. 459--><p class="noindent"><img alt="PIC" src="5_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_RPQ_drawio.png"/>
</p></p></div>
</p></li>
<li class="itemize">
<!--l. 461--><p class="noindent">Retrieve all actors you can reach by transitively following the co-actoring relationship, at least
         once:
         <div class="center">
<!--l. 463--><p class="noindent">
<!--l. 464--><p class="noindent"><img alt="PIC" src="6_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Se___Data_Mng_LectureNotes_source_RPQ_drawio__1_.png"/>
</p></p></div>
</p></li></ul>
</p></div>
<!--l. 467--><p class="noindent">
</p></p></p></p></li>
<li class="itemize">
<!--l. 468--><p class="noindent"><span class="ecbx-1000">Complex graph patterns</span>: add further expressivity beyond conjunctive queries, such as groupings, aggregations
     and set operations. The previous RPQs are equivalent to conjunctive queries without projections, but database
     languages are richer than this, enforcing GQLs to implement more complex semantics. <span class="ecbx-1000">GraphQL </span>was the first
     graph algebra extending RPQs with relational-like operators.</p></li></ul>
<!--l. 476--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">2.2   </span> <a id="x1-190002.2"></a>Popular languages</h4>
<!--l. 478--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">2.2.1   </span> <a id="x1-200002.2.1"></a>Cypher</h5>
<!--l. 480--><p class="noindent">Cypher was created by Neo4j, and acts as a de facto standard, adopted by other graph databases. It is a high-level,
declarative language, providing both DDL (Data Definition Language) and DML (Data Modification Language)
capabilities, and allowing navigational graph patterns, except concatenation.
<!--l. 486--><p class="indent">   It applies pattern matching under <span id="textcolor1">no-repeated-edges isomorphism</span> semantics. The available clauses
are:
     <ul class="itemize1">
<li class="itemize">
<!--l. 489--><p class="noindent">DML:
         <ul class="itemize2">
<li class="itemize">
<!--l. 491--><p class="noindent">MATCH: the graph pattern to match.
         </p></li>
<li class="itemize">
<!--l. 492--><p class="noindent">WHERE: filtering criteria.
         </p></li>
<li class="itemize">
<!--l. 493--><p class="noindent">WITH: divides a query into multiple distinct parts.
         </p></li>
<li class="itemize">
<!--l. 494--><p class="noindent">RETURN: define what to return.</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 496--><p class="noindent">DDL:
         <ul class="itemize2">
<li class="itemize">
<!--l. 498--><p class="noindent">CREATE | MERGE: creates nodes and relationship. Merge does it only if it does not exist beforehand,
         entailing an overhead.
         </p></li>
<li class="itemize">
<!--l. 500--><p class="noindent">DELETE: removes nodes, relationships and properties.
         </p></li>
<li class="itemize">
<!--l. 501--><p class="noindent">SET: set values of properties.
         </p></li>
<li class="itemize">
<!--l. 502--><p class="noindent">FOREACH: performs updating actions once per element in a list.</p></li></ul>
</p></li></ul>
<!--l. 505--><p class="noindent">Cypher applies a data pipeline, where each stage is a MATCH-WHERE-WITH/RETURN block, allowing the definition of
aliases to be passed between stages.
<!--l. 508--><p class="indent">   For example, uppose you have a graph database with <span class="ectt-1000">Person </span>nodes and two types of relationships:  <span class="ectt-1000">FRIENDS_WITH</span>
and <span class="ectt-1000">WORKS_WITH</span>. You want to find all mutual friends of <span class="ectt-1000">Alice </span>and <span class="ectt-1000">Bob </span>who also work with someone named <span class="ectt-1000">Charlie</span>.
You can achieve this with the following Cypher query:
   <!--l. 514-->
<div class="lstlisting" id="listing-1"><span class="label"><a id="x1-20001r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">MATCH</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">alice</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Person</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#9400D1"><span class="ectt-0800">’</span></span><span style="color:#9400D1"><span class="ectt-0800">Alice</span></span><span style="color:#9400D1"><span class="ectt-0800">’</span></span><span style="color:#000000"><span class="ectt-0800">})</span></span><span style="color:#000000"><span class="ectt-0800">-[:</span></span><span style="color:#000000"><span class="ectt-0800">FRIENDS_WITH</span></span><span style="color:#000000"><span class="ectt-0800">]-(</span></span><span style="color:#000000"><span class="ectt-0800">mutual_friend</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Person</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">-[:</span></span><span style="color:#000000"><span class="ectt-0800">FRIENDS_WITH</span></span><span style="color:#000000"><span class="ectt-0800">]-(</span></span><span style="color:#000000"><span class="ectt-0800">bob</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Person</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#9400D1"><span class="ectt-0800">’</span></span><span style="color:#9400D1"><span class="ectt-0800">Bob</span></span><span style="color:#9400D1"><span class="ectt-0800">’</span></span><span style="color:#000000"><span class="ectt-0800">})</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-20002r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">WITH</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mutual_friend</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-20003r3"></a><span class="ecrm-0500">3</span></span><span style="color:#FF00FF"><span class="ectt-0800">MATCH</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">mutual_friend</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">-[:</span></span><span style="color:#000000"><span class="ectt-0800">WORKS_WITH</span></span><span style="color:#000000"><span class="ectt-0800">]-(</span></span><span style="color:#000000"><span class="ectt-0800">charlie</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Person</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#9400D1"><span class="ectt-0800">’</span></span><span style="color:#9400D1"><span class="ectt-0800">Charlie</span></span><span style="color:#9400D1"><span class="ectt-0800">’</span></span><span style="color:#000000"><span class="ectt-0800">})</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-20004r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">RETURN</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mutual_friend</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span></div>
<!--l. 522--><p class="indent">   In this query, we have three stages in the data pipeline:
                                                                                            
                                                                                            
     <ol class="enumerate1">
<li class="enumerate" id="x1-20006x1">
<!--l. 524--><p class="noindent">MATCH  (Stage  1):  Match  the  graph  pattern  where  <span class="ectt-1000">Alice </span>and  <span class="ectt-1000">Bob </span>have  mutual  friends.  Bind  the
     <span class="ectt-1000">mutual_friend </span>node.
     </p></li>
<li class="enumerate" id="x1-20008x2">
<!--l. 527--><p class="noindent">WITH: Pass the <span class="ectt-1000">mutual_friend </span>node to the next stage.
     </p></li>
<li class="enumerate" id="x1-20010x3">
<!--l. 528--><p class="noindent">MATCH (Stage 2): Match the graph pattern where the  <span class="ectt-1000">mutual_friend </span>from the previous stage works
     with <span class="ectt-1000">Charlie</span>.
     </p></li>
<li class="enumerate" id="x1-20012x4">
<!--l. 530--><p class="noindent">RETURN: Return the name of the mutual friend who meets both criteria (being a mutual friend of <span class="ectt-1000">Alice</span>
     and <span class="ectt-1000">Bob </span>and working with <span class="ectt-1000">Charlie</span>).</p></li></ol>
<!--l. 534--><p class="noindent">In this example, the <span class="ectt-1000">WITH </span>clause is used to separate the query into two stages. The first stage finds all mutual friends of
<span class="ectt-1000">Alice </span>and <span class="ectt-1000">Bob</span>, and the second stage filters those mutual friends to only include the ones who work with <span class="ectt-1000">Charlie</span>. The
use of <span class="ectt-1000">WITH </span>here is what enables the pipelining of stages in the query.
   <div class="newtheorem">
<!--l. 540--><p class="noindent"><span class="head">
<a id="x1-20013r2"></a>
<span class="ecbx-1000">Example 2.2.</span> </span>Given the following graph:
<div class="center">
<!--l. 542--><p class="noindent">
<!--l. 543--><p class="noindent"><img alt="PIC" src="7_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Se___g_LectureNotes_source_cypher_example_drawio.png"/>
</p></p></div>
<!--l. 545--><p class="noindent">
<ol class="enumerate1">
<li class="enumerate" id="x1-20015x1">
<!--l. 546--><p class="noindent">Return all nodes
     <!--l. 548-->
<div class="lstlisting" id="listing-2"><span class="label"><a id="x1-20016r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">MATCH</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">n</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-20017r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">RETURN</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">n</span></span><span style="color:#000000"><span class="ectt-0800">;</span></span></div>
</p></li>
<li class="enumerate" id="x1-20019x2">
<!--l. 553--><p class="noindent">Return all edges
     <!--l. 555-->
<div class="lstlisting" id="listing-3"><span class="label"><a id="x1-20020r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">MATCH</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span style="color:#000000"><span class="ectt-0800">-[</span></span><span style="color:#000000"><span class="ectt-0800">e</span></span><span style="color:#000000"><span class="ectt-0800">]-()</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-20021r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">RETURN</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">e</span></span><span style="color:#000000"><span class="ectt-0800">;</span></span></div>
</p></li>
<li class="enumerate" id="x1-20023x3">
<!--l. 560--><p class="noindent">Return all neighbour nodes of ’John’
     <!--l. 562-->
<div class="lstlisting" id="listing-4"><span class="label"><a id="x1-20024r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">MATCH</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">john</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800">:’</span></span><span style="color:#000000"><span class="ectt-0800">John</span></span><span style="color:#000000"><span class="ectt-0800">’})</span></span><span style="color:#000000"><span class="ectt-0800">-[:</span></span><span style="color:#000000"><span class="ectt-0800">friend</span></span><span style="color:#000000"><span class="ectt-0800">]-(</span></span><span style="color:#000000"><span class="ectt-0800">f</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-20025r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">RETURN</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">john</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">f</span></span><span style="color:#000000"><span class="ectt-0800">;</span></span></div>
</p></li>
<li class="enumerate" id="x1-20027x4">
<!--l. 567--><p class="noindent">Return the incident nodes of all edges
     <!--l. 569-->
<div class="lstlisting" id="listing-5"><span class="label"><a id="x1-20028r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">MATCH</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">n1</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">-[</span></span><span style="color:#000000"><span class="ectt-0800">e</span></span><span style="color:#000000"><span class="ectt-0800">]-&gt;(</span></span><span style="color:#000000"><span class="ectt-0800">n2</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-20029r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">RETURN</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">e</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">n1</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">n2</span></span><span style="color:#000000"><span class="ectt-0800">;</span></span></div>
</p></li></ol>
</p></p></div>
<!--l. 575--><p class="indent">
<!--l. 577--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">2.2.2   </span> <a id="x1-210002.2.2"></a>GQL</h5>
<!--l. 579--><p class="noindent">There is an ongoing big effort towards stardardization of Graph Query Languages, through the GQL
project.
<!--l. 582--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">3   </span> <a id="x1-220003"></a>Graph Processing</h3>
<div class="newtheorem">
<!--l. 583--><p class="noindent"><span class="head">
<a id="x1-22001r1"></a>
<span class="ecbx-1000">Exercise 3.1.</span> </span>Understand the relationships between the basic graph operations. Answer the following
questions:
     <ol class="enumerate1">
<li class="enumerate" id="x1-22003x1">
<!--l. 587--><p class="noindent">Is adjacency subsumed by reachability?
     <!--l. 589--><p class="noindent">No, because there is no way to compute all adjacent nodes to a given node by answering reachability
     queries.
     </p></p></li>
<li class="enumerate" id="x1-22005x2">
<!--l. 591--><p class="noindent">Is adjacency subsumed by pattern matching?
     <!--l. 593--><p class="noindent">Yes, the adjacency query <span class="cmmi-10">Adjacent</span><img align="middle" alt="(x)" class="left" src="summary49x.png"/> is equivalent to the pattern matching query <span class="cmmi-10">Match</span><img align="middle" alt="(x → y)" class="left" src="summary50x.png"/>.
                                                                                            
                                                                                            
     </p></p></li>
<li class="enumerate" id="x1-22007x3">
<!--l. 595--><p class="noindent">Is reachability subsumed by pattern matching?
     <!--l. 597--><p class="noindent">Yes, the reachability query <span class="cmmi-10">Reachable</span><img align="middle" alt="(x,y)" class="left" src="summary51x.png"/> is equivalent to <span class="cmr-10">!</span><span class="cmmi-10">not</span>_<span class="cmmi-10">empty</span><img align="middle" alt="(M atch(x → * y))" class="left" src="summary52x.png"/>.
     </p></p></li></ol>
<!--l. 601--><p class="noindent">Note that in the cases in which a query is subsumed in another, it makes sense to have the simplified version, which can be
optimized as a simpler case of pattern matching.
   </p></p></div>
<!--l. 604--><p class="indent">
Notice that so far, the operations have been presented conceptually, being agnostic of the underlying technology. The
theoretical costs are:
     <ul class="itemize1">
<li class="itemize">
<!--l. 609--><p class="noindent">Adjacency is linear in the amount of vertices to visit <span class="cmmi-10">O</span><img align="middle" alt="(|V|)" class="left" src="summary53x.png"/>.
     </p></li>
<li class="itemize">
<!--l. 610--><p class="noindent">Reachability is <span class="cmmi-10">O</span><img align="middle" alt="(   )
 |V |3" class="left" src="summary54x.png"/> using Dijkstra’s shortest path.
     </p></li>
<li class="itemize">
<!--l. 612--><p class="noindent">Label-constrained reachability is <span class="cmmi-10">O</span><img align="middle" alt="(|V|)" class="left" src="summary55x.png"/> for a single pair of vertices and <span class="cmmi-10">O</span><img align="middle" alt="(   )
 |V |3" class="left" src="summary56x.png"/> for all pairs. It is
     NP-complete if we enforce no-repeated-edges isomorphism semantics.
     </p></li>
<li class="itemize">
<!--l. 616--><p class="noindent">Pattern matching in general is NP-complete.
     </p></li>
<li class="itemize">
<!--l. 617--><p class="noindent">Navigational  pattern  matching  is  also  NP-complete,  but  can  be  reduced  to  <span class="cmmi-10">O</span><img align="middle" alt="(    )
 |V|3" class="left" src="summary57x.png"/> using  bounded
     simulation algorithms.</p></li></ul>
<div class="newtheorem">
<!--l. 620--><p class="noindent"><span class="head">
<a id="x1-22008r2"></a>
<span class="ecbx-1000">Exercise 3.2.</span> </span>Identify the most efficient algorithm to solve a given query. Assume a graph containing
relationships and nodes of actors and films (the same as before, but with virtually more information).
Define:
     <ol class="enumerate1">
<li class="enumerate" id="x1-22010x1">
<!--l. 625--><p class="noindent">A query that should be solved as an Adjacency problem.
     <!--l. 627--><p class="noindent">Retrieve all pairs of <img align="middle" alt="(P erson,F ilm )" class="left" src="summary58x.png"/> such that <span class="cmmi-10">Person </span>acts in <span class="cmmi-10">Film</span>.
     <div class="center">
<!--l. 629--><p class="noindent">
<!--l. 630--><p class="noindent"><img alt="PIC" src="8_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Se___LectureNotes_source_exercise_queries_drawio.png"/>
</p></p></div>
</p></p></li>
<li class="enumerate" id="x1-22012x2">
<!--l. 632--><p class="noindent">A query that should be solved as a Label-constrained Reachability problem.
     <!--l. 635--><p class="noindent">Retrieve all pairs of actors related by coacting relationship.
     <div class="center">
<!--l. 636--><p class="noindent">
<!--l. 637--><p class="noindent"><img alt="PIC" src="9_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Se___ctureNotes_source_exercise_queries_drawio_1.png"/>
</p></p></div>
</p></p></li>
<li class="enumerate" id="x1-22014x3">
<!--l. 639--><p class="noindent">A query that should be solved as a Navigational Pattern matching problem
     <!--l. 641--><p class="noindent">People and movies in which the person acts and directs.
     <div class="center">
<!--l. 642--><p class="noindent">
<!--l. 643--><p class="noindent"><img alt="PIC" src="10_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_S___ctureNotes_source_exercise_queries_2_drawio.png"/>
</p></p></div>
<!--l. 646--><p class="noindent">NO! This can be done with reachability, repeating the same node:
     <div class="center">
<!--l. 647--><p class="noindent">
<!--l. 648--><p class="noindent"><img alt="PIC" src="11_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_S___eNotes_source_exercise_queries_3_drawio__1_.png"/>
</p></p></div>
<!--l. 651--><p class="noindent">So, we need something else... If we fix something in the middle, then we cannot use reachability. For example,
     retrieve all co-actors related by the Movie Titanic:
     <div class="center">
<!--l. 654--><p class="noindent">
<!--l. 655--><p class="noindent"><img alt="PIC" src="12_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_S___ctureNotes_source_exercise_queries_4_drawio.png"/>
</p></p></div>
<!--l. 658--><p class="noindent">We can also enforce other complex constraints, such as: retrieve all movies in which there are exactly 3
     actors:
     <div class="center">
<!--l. 660--><p class="noindent">
<!--l. 661--><p class="noindent"><img alt="PIC" src="13_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_S___ctureNotes_source_exercise_queries_5_drawio.png"/>
</p></p></div>
</p></p></p></p></p></li></ol>
</p></div>
<!--l. 664--><p class="indent">
<!--l. 666--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">3.1   </span> <a id="x1-230003.1"></a>Dijkstra’s algorithm</h4>
<!--l. 668--><p class="noindent">Dijkstra’s algorithm defines a method to find the shortest path between two nodes in a graph in which the edges have a
cost assigned (it can be used in general if we take the distance between two nodes as the number of edges used to go
from one to the other).
<!--l. 673--><p class="indent">   More formally, if we have a path between two nodes, <span class="cmmi-10">u,v</span>, <span class="cmmi-10">P</span><img align="middle" alt="(u,v)" class="left" src="summary59x.png"/> <span class="cmr-10">= </span><img align="middle" alt="{e1,...,en}" class="left" src="summary60x.png"/>, then the distance of the path
is
   <div class="math-display">
<img alt="                n
d (u,v) = d(P) = ∑ c (e ),
               i=1   i
" class="math-display" src="summary61x.png"/></div>
<!--l. 678--><p class="indent">   where <span class="cmmi-10">c</span><img align="middle" alt="(ei)" class="left" src="summary62x.png"/> is the cost of going through edge <span class="cmmi-10">e</span><sub><span class="cmmi-7">i</span></sub>. If we want to account only for the number of edges used, we can
then define <span class="cmmi-10">c</span><img align="middle" alt="(e)" class="left" src="summary63x.png"/> <span class="cmr-10">= 1 </span>for all <span class="cmmi-10">e </span><span class="cmsy-10">∈ </span><span class="cmmi-10">E</span>.
<!--l. 682--><p class="indent">   Dijkstra<span class="footnote-mark"><a href="summary7.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a id="x1-23001f2"></a>  
noticed two very convenient properties of shortest paths:
     <ol class="enumerate1">
<li class="enumerate" id="x1-23003x1">
<!--l. 685--><p class="noindent">Every subpath of a shortest path is itself a shortest path.
     <!--l. 687--><p class="noindent">This is easy to see, since if we have a shortest path between <span class="cmmi-10">u </span>and <span class="cmmi-10">v</span>, <span class="cmmi-10">P</span><img align="middle" alt="(u,v)" class="left" src="summary64x.png"/>, and we take two of the
     nodes that are included in the path, say <span class="cmmi-10">u</span><sub><span class="cmr-7">1</span></sub> and <span class="cmmi-10">u</span><sub><span class="cmr-7">2</span></sub>, then the subpath that goes from <span class="cmmi-10">u</span><sub><span class="cmr-7">1</span></sub> to <span class="cmmi-10">u</span><sub><span class="cmr-7">2</span></sub> must also
     be of shortest length. Imagine it was otherwise, then there would be a path <span class="cmmi-10">P</span><span class="cmsy-10">′</span><img align="middle" alt="(u1,u2)" class="left" src="summary65x.png"/> shorter than the
     subpath we found in <span class="cmmi-10">P</span>. Then, we could substitute this subpath by <span class="cmmi-10">P</span><span class="cmsy-10">′</span>, and the new path would be shorter
     than <span class="cmmi-10">P</span>. But <span class="cmmi-10">P </span>is a shortest path, so this is not possible.
     </p></p></li>
<li class="enumerate" id="x1-23005x2">
<!--l. 695--><p class="noindent">The triangle inequality of shortest paths:
<div class="math-display">
<img alt="d(u,v) ≤ d(u,x)+ d(x,v), ∀x ∈ E.
" class="math-display" src="summary66x.png"/></div>
</p></li></ol>
<!--l. 700--><p class="noindent">The algorithm is detailed in Algorithm <a href="#x1-230241">1<!--tex4ht:ref: alg:Dijkstra(WeightedGraph-G,-Source --></a>. Note that this algorithm is a bit more general, since it allows to find the shortest
paths from one source node <span class="cmmi-10">U </span>to the rest of the nodes in the graph. If we want a specific one, we can stop when we
reach it or just find it from the output. To get the shortest path from <span class="cmmi-10">U </span>to <span class="cmmi-10">V </span>, we would go to <span class="cmmi-10">prev</span><img align="middle" alt="[V ]" class="left" src="summary67x.png"/> and traverse this
in reverse until getting to <span class="cmmi-10">U</span>.
<a id="x1-23006r1"></a>
<!--l. 708--><p class="indent"> <hr class="float"/><div class="float">
<!--l. 709-->
<div class="lstlisting" id="listing-6"><span class="label"><a id="x1-23007r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">each</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertex</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">Vertices</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23008r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">INFINITY</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23009r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">prev</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">UNDEFINED</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23010r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">add</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">to</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23011r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">U</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">0</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23012r6"></a><span class="ecrm-0500">6</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23013r7"></a><span class="ecrm-0500">7</span></span><span style="color:#FF00FF"><span class="ectt-0800">while</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">is</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">not</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">empty</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23014r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertex</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">with</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">min</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23015r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">remove</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">from</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23016r10"></a><span class="ecrm-0500">10</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23017r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">each</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">neighbor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">of</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">still</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Q</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23018r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">alt</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">+</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Graph</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">Edges</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23019r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">alt</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23020r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">alt</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23021r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">prev</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;-</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">u</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23022r16"></a><span class="ecrm-0500">16</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-23023r17"></a><span class="ecrm-0500">17</span></span><span style="color:#FF00FF"><span class="ectt-0800">return</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dist</span></span><span style="color:#000000"><span class="ectt-0800">[],</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">prev</span></span><span style="color:#000000"><span class="ectt-0800">[]</span></span></div>
<a id="x1-23025"></a>
<span class="ecbx-1000">Algorithm</span><span class="ecbx-1000"> 1:</span> Dijkstra(WeightedGraph G, SourceNode U)<a id="x1-230241"></a>
</div><hr class="endfloat">
<h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a id="x1-240003.2"></a>Pattern Matching</h4>
<!--l. 736--><p class="noindent">Even considering the most basic fragment of graph patterns and for all semantics applied (homomorphism,
isomorphism, no-repeated node isomorphism or no-repeated edge isomorphism), the problem is NP-complete, and the
problem is tackled using different techniques, algorithms and heuristics.
<!--l. 742--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a id="x1-250003.3"></a>Complex Graph Processing</h4>
<!--l. 744--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">3.3.1   </span> <a id="x1-260003.3.1"></a>Graph Metrics</h5>
<!--l. 746--><p class="noindent">A <span class="ecbx-1000">metric </span>can be defined as a combination of adjacency, reachability, pattern matching and complex graph patterns, so
the cost of a metric depends on how it is defined. Nevertheless, there are very usual and relevant metrics, which are
typically provided as built-in functions. For example, the min/max degree in the graph, its diameter,
pageRank,...
<!--l. 752--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">3.3.2   </span> <a id="x1-270003.3.2"></a>Graph Processing Pipelines</h5>
<!--l. 754--><p class="noindent">A pipeline is a list of algorithms over a graph, which are pipelined, inputting the output of an algorithm to the next
one, to obtain some result. Therefore, we can see a metric as a pre-defined pipeline, but a pipeline can be as complex as
we want/need.
<!--l. 759--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">3.3.3   </span> <a id="x1-280003.3.3"></a>Graph Embeddings</h5>
<!--l. 761--><p class="noindent">An embedding is a vector representation of a graph, and it is useful to perform data analysis using typical ML
algorithms, that have been developed using vectors.
<!--l. 765--><p class="indent">
<h3 class="sectionHead"><span class="titlemark">4   </span> <a id="x1-290004"></a>Graph Databases</h3>
<!--l. 769--><p class="noindent">A <span class="ecbx-1000">graph database </span>is a software that provides a way to store and persist graph data, as well as means to process this
data. Examples of graph databases are Neo4j or Titan.
<!--l. 773--><p class="indent">   A <span class="ecbx-1000">distributed graph framework </span>refers to a processing framework over a graph database. We could compare it to
MapReduce<span class="footnote-mark"><a href="summary8.html#fn3x0"><sup class="textsuperscript">3</sup></a></span><a id="x1-29001f3"></a>  
or to Spark<span class="footnote-mark"><a href="summary9.html#fn4x0"><sup class="textsuperscript">4</sup></a></span><a id="x1-29002f4"></a>  ,
in the sense that it is a mean to extract data from a graph database, but not to store graphs. Examples of these
frameworks are Pregel or Giraph.
   <h4 class="subsectionHead"><span class="titlemark">4.1   </span> <a id="x1-300004.1"></a>Implementation of Graph Databases</h4>
<!--l. 782--><p class="noindent">Graph databases can be implemented in different ways, and each approach presents advantages and disadvantages.
<!--l. 785--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">4.1.1   </span> <a id="x1-310004.1.1"></a>Incidence Lists</h5>
<!--l. 787--><p class="noindent">In incidence lists, vertices and edges are stored as records of objects, such that each vertex stores incident edges, and
each edge stores incident nodes.
   <div class="newtheorem">
<!--l. 790--><p class="noindent"><span class="head">
<a id="x1-31001r1"></a>
<span class="ecbx-1000">Example 4.1.</span> </span>An Incidence List
<!--l. 793--><p class="indent">   This graph:
<!--l. 795--><p class="indent"> <img alt="PIC" src="14_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado1.png"/>
<!--l. 797--><p class="indent">   Can be encoded in an incidence list as follows:
<div class="center">
<!--l. 798--><p class="noindent">
<!--l. 799--><p class="noindent"><img alt="PIC" src="15_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_S___Mng_LectureNotes_source_incidentlist_drawio.png"/>
</p></p></div>
<!--l. 802--><p class="indent">   The diagram is a bit messy, sorry for that.
   </p></p></p></p></p></div>
<!--l. 803--><p class="indent">
<!--l. 805--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-320004.1.1"></a>Incidence Lists in Neo4j</h5>
<!--l. 807--><p class="noindent">Neo4j is implemented using incident lists, using the concept of linked lists.
<!--l. 810--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-330004.1.1"></a>Nodes</h5>
<!--l. 812--><p class="noindent">In Neo4j, there is one physical file to store all nodes in-memory, with a Least Frequently Used cache policy, and a fixed
size for the records (of 15B). This enables for very fast look-ups in <span class="cmmi-10">O</span><img align="middle" alt="(1)" class="left" src="summary68x.png"/> time.
<!--l. 817--><p class="indent">   Let’s delve into this. This is the anatomy of a Node:
                                                                                            
                                                                                            
<div class="center">
<!--l. 818--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-2"><colgroup id="TBL-2-1g"><col id="TBL-2-1"/></colgroup><colgroup id="TBL-2-2g"><col id="TBL-2-2"/></colgroup><colgroup id="TBL-2-3g"><col id="TBL-2-3"/></colgroup><colgroup id="TBL-2-4g"><col id="TBL-2-4"/></colgroup><colgroup id="TBL-2-5g"><col id="TBL-2-5"/></colgroup><colgroup id="TBL-2-6g"><col id="TBL-2-6"/></colgroup><colgroup id="TBL-2-7g"><col id="TBL-2-7"/></colgroup><colgroup id="TBL-2-8g"><col id="TBL-2-8"/></colgroup><colgroup id="TBL-2-9g"><col id="TBL-2-9"/></colgroup><colgroup id="TBL-2-10g"><col id="TBL-2-10"/></colgroup><colgroup id="TBL-2-11g"><col id="TBL-2-11"/></colgroup><colgroup id="TBL-2-12g"><col id="TBL-2-12"/></colgroup><colgroup id="TBL-2-13g"><col id="TBL-2-13"/></colgroup><colgroup id="TBL-2-14g"><col id="TBL-2-14"/></colgroup><colgroup id="TBL-2-15g"><col id="TBL-2-15"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-2-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-2-1-1" style="white-space:nowrap; text-align:center;"> inUse  </td><td class="td11" colspan="3" id="TBL-2-1-2" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;">nextRelId</div> <td class="td11" colspan="3" id="TBL-2-1-6" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;">nextPropId</div> <td class="td11" colspan="3" id="TBL-2-1-10" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;">labels</div> <td class="td11" id="TBL-2-1-15" style="white-space:nowrap; text-align:center;"> extra  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-2-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-2-2-1" style="white-space:nowrap; text-align:center;">   1B    </td><td class="td11" colspan="3" id="TBL-2-2-2" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;">4B</div> <td class="td11" colspan="3" id="TBL-2-2-6" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;">4B</div> <td class="td11" colspan="3" id="TBL-2-2-10" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;">5B</div> <td class="td11" id="TBL-2-2-15" style="white-space:nowrap; text-align:center;">  1B   </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-2-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-2-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>
</p></div>
<!--l. 837--><p class="indent">   The first byte is used for some metadata, such as a flag ’inUse’.
<!--l. 839--><p class="indent">   The bytes 2-5 are the ID of the first relationship (edge) incident to the node.
<!--l. 842--><p class="indent">   The bytes 6-9 are the ID of the first property of the node.
<!--l. 844--><p class="indent">   The bytes 10-14 encode the labels of the node.
<!--l. 846--><p class="indent">   The last byte contain extra information.
<!--l. 848--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-340004.1.1"></a>Relationships and properties</h5>
<!--l. 850--><p class="noindent">There are two more kind of files to encode relationships and properties, also containing fixed size records and using a
LFU cache policy. A relationship looks like this:
<div class="center">
<!--l. 853--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-3"><colgroup id="TBL-3-1g"><col id="TBL-3-1"/></colgroup><colgroup id="TBL-3-2g"><col id="TBL-3-2"/></colgroup><colgroup id="TBL-3-3g"><col id="TBL-3-3"/></colgroup><colgroup id="TBL-3-4g"><col id="TBL-3-4"/></colgroup><colgroup id="TBL-3-5g"><col id="TBL-3-5"/></colgroup><colgroup id="TBL-3-6g"><col id="TBL-3-6"/></colgroup><colgroup id="TBL-3-7g"><col id="TBL-3-7"/></colgroup><colgroup id="TBL-3-8g"><col id="TBL-3-8"/></colgroup><colgroup id="TBL-3-9g"><col id="TBL-3-9"/></colgroup><colgroup id="TBL-3-10g"><col id="TBL-3-10"/></colgroup><colgroup id="TBL-3-11g"><col id="TBL-3-11"/></colgroup><colgroup id="TBL-3-12g"><col id="TBL-3-12"/></colgroup><colgroup id="TBL-3-13g"><col id="TBL-3-13"/></colgroup><colgroup id="TBL-3-14g"><col id="TBL-3-14"/></colgroup><colgroup id="TBL-3-15g"><col id="TBL-3-15"/></colgroup><colgroup id="TBL-3-16g"><col id="TBL-3-16"/></colgroup><colgroup id="TBL-3-17g"><col id="TBL-3-17"/></colgroup><colgroup id="TBL-3-18g"><col id="TBL-3-18"/></colgroup><colgroup id="TBL-3-19g"><col id="TBL-3-19"/></colgroup><colgroup id="TBL-3-20g"><col id="TBL-3-20"/></colgroup><colgroup id="TBL-3-21g"><col id="TBL-3-21"/></colgroup><colgroup id="TBL-3-22g"><col id="TBL-3-22"/></colgroup><colgroup id="TBL-3-23g"><col id="TBL-3-23"/></colgroup><colgroup id="TBL-3-24g"><col id="TBL-3-24"/></colgroup><colgroup id="TBL-3-25g"><col id="TBL-3-25"/></colgroup><colgroup id="TBL-3-26g"><col id="TBL-3-26"/></colgroup><colgroup id="TBL-3-27g"><col id="TBL-3-27"/></colgroup><colgroup id="TBL-3-28g"><col id="TBL-3-28"/></colgroup><colgroup id="TBL-3-29g"><col id="TBL-3-29"/></colgroup><colgroup id="TBL-3-30g"><col id="TBL-3-30"/></colgroup><colgroup id="TBL-3-31g"><col id="TBL-3-31"/></colgroup><colgroup id="TBL-3-32g"><col id="TBL-3-32"/></colgroup><colgroup id="TBL-3-33g"><col id="TBL-3-33"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-3-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-3-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecrm-0800">meta  </span></td><td class="td11" colspan="3" id="TBL-3-1-2" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">sNodeId</span></div> <td class="td11" colspan="3" id="TBL-3-1-6" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">dNodeId</span></div> <td class="td11" colspan="3" id="TBL-3-1-10" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">typeId</span></div> <td class="td11" colspan="3" id="TBL-3-1-14" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">sNodePrevRelId</span></div> <td class="td11" colspan="3" id="TBL-3-1-18" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">sNodeNextRelId</span></div> <td class="td11" colspan="3" id="TBL-3-1-22" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">dNodePrevRelId</span></div> <td class="td11" colspan="3" id="TBL-3-1-26" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">dNodeNextRelId</span></div> <td class="td11" colspan="3" id="TBL-3-1-30" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">nextPropId</span></div>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-3-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-3-2-1" style="white-space:nowrap; text-align:center;"> <span class="ecrm-0800">1B    </span></td><td class="td11" colspan="3" id="TBL-3-2-2" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-3-2-6" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-3-2-10" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-3-2-14" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-3-2-18" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-3-2-22" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-3-2-26" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-3-2-30" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-3-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-3-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>
</p></div>
<!--l. 880--><p class="indent">   The property file looks like this:
<div class="center">
<!--l. 881--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-4"><colgroup id="TBL-4-1g"><col id="TBL-4-1"/></colgroup><colgroup id="TBL-4-2g"><col id="TBL-4-2"/></colgroup><colgroup id="TBL-4-3g"><col id="TBL-4-3"/></colgroup><colgroup id="TBL-4-4g"><col id="TBL-4-4"/></colgroup><colgroup id="TBL-4-5g"><col id="TBL-4-5"/></colgroup><colgroup id="TBL-4-6g"><col id="TBL-4-6"/></colgroup><colgroup id="TBL-4-7g"><col id="TBL-4-7"/></colgroup><colgroup id="TBL-4-8g"><col id="TBL-4-8"/></colgroup><colgroup id="TBL-4-9g"><col id="TBL-4-9"/></colgroup><colgroup id="TBL-4-10g"><col id="TBL-4-10"/></colgroup><colgroup id="TBL-4-11g"><col id="TBL-4-11"/></colgroup><colgroup id="TBL-4-12g"><col id="TBL-4-12"/></colgroup><colgroup id="TBL-4-13g"><col id="TBL-4-13"/></colgroup><colgroup id="TBL-4-14g"><col id="TBL-4-14"/></colgroup><colgroup id="TBL-4-15g"><col id="TBL-4-15"/></colgroup><colgroup id="TBL-4-16g"><col id="TBL-4-16"/></colgroup><colgroup id="TBL-4-17g"><col id="TBL-4-17"/></colgroup><colgroup id="TBL-4-18g"><col id="TBL-4-18"/></colgroup><colgroup id="TBL-4-19g"><col id="TBL-4-19"/></colgroup><colgroup id="TBL-4-20g"><col id="TBL-4-20"/></colgroup><colgroup id="TBL-4-21g"><col id="TBL-4-21"/></colgroup><colgroup id="TBL-4-22g"><col id="TBL-4-22"/></colgroup><colgroup id="TBL-4-23g"><col id="TBL-4-23"/></colgroup><colgroup id="TBL-4-24g"><col id="TBL-4-24"/></colgroup><colgroup id="TBL-4-25g"><col id="TBL-4-25"/></colgroup><colgroup id="TBL-4-26g"><col id="TBL-4-26"/></colgroup><colgroup id="TBL-4-27g"><col id="TBL-4-27"/></colgroup><colgroup id="TBL-4-28g"><col id="TBL-4-28"/></colgroup><colgroup id="TBL-4-29g"><col id="TBL-4-29"/></colgroup><colgroup id="TBL-4-30g"><col id="TBL-4-30"/></colgroup><colgroup id="TBL-4-31g"><col id="TBL-4-31"/></colgroup><colgroup id="TBL-4-32g"><col id="TBL-4-32"/></colgroup><colgroup id="TBL-4-33g"><col id="TBL-4-33"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-4-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-4-1-1" style="white-space:nowrap; text-align:center;"> <span class="ecrm-0800">meta  </span></td><td class="td11" colspan="3" id="TBL-4-1-2" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">node/edgeId</span></div> <td class="td11" colspan="3" id="TBL-4-1-6" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">prevPropId</span></div> <td class="td11" colspan="3" id="TBL-4-1-10" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">nextPropId</span></div> <td class="td11" colspan="3" id="TBL-4-1-14" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">propNameId</span></div> <td class="td11" colspan="3" id="TBL-4-1-18" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">propValueId</span></div>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-4-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-4-2-1" style="white-space:nowrap; text-align:center;"> <span class="ecrm-0800">1B    </span></td><td class="td11" colspan="3" id="TBL-4-2-2" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-4-2-6" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-4-2-10" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-4-2-14" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div> <td class="td11" colspan="3" id="TBL-4-2-18" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecrm-0800">4B</span></div>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-4-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-4-3-1" style="white-space:nowrap; text-align:center;"> </td></tr></table>
</div>
</p></div>
<!--l. 902--><p class="indent">   In this case, the metadata field has a bit indicating whether the property belongs to a node or a relationship.
   <div class="newtheorem">
<!--l. 904--><p class="noindent"><span class="head">
<a id="x1-34001r2"></a>
<span class="ecbx-1000">Example 4.2.</span> </span>Encode this graph using the seen nomenclature:
<div class="center">
<!--l. 906--><p class="noindent">
<!--l. 907--><p class="noindent"><img alt="PIC" src="1_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_simplegraph.png"/>
</p></p></div>
<!--l. 910--><p class="indent">   Nodes:
<div class="center">
<!--l. 911--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-5"><colgroup id="TBL-5-1g"><col id="TBL-5-1"/></colgroup><colgroup id="TBL-5-2g"><col id="TBL-5-2"/></colgroup><colgroup id="TBL-5-3g"><col id="TBL-5-3"/></colgroup><colgroup id="TBL-5-4g"><col id="TBL-5-4"/></colgroup><colgroup id="TBL-5-5g"><col id="TBL-5-5"/></colgroup><colgroup id="TBL-5-6g"><col id="TBL-5-6"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-1-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-5-1-2" style="white-space:nowrap; text-align:center;"> meta  </td><td class="td11" id="TBL-5-1-3" style="white-space:nowrap; text-align:center;"> firstRel  </td><td class="td11" id="TBL-5-1-4" style="white-space:nowrap; text-align:center;"> firstProp  </td><td class="td11" id="TBL-5-1-5" style="white-space:nowrap; text-align:center;"> labels  </td><td class="td11" id="TBL-5-1-6" style="white-space:nowrap; text-align:center;"> extra  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-2-1" style="white-space:nowrap; text-align:center;"> n1  </td><td class="td11" id="TBL-5-2-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-5-2-3" style="white-space:nowrap; text-align:center;">   e1     </td><td class="td11" id="TBL-5-2-4" style="white-space:nowrap; text-align:center;">    p1      </td><td class="td11" id="TBL-5-2-5" style="white-space:nowrap; text-align:center;">   l1    </td><td class="td11" id="TBL-5-2-6" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-3-1" style="white-space:nowrap; text-align:center;"> n2  </td><td class="td11" id="TBL-5-3-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-5-3-3" style="white-space:nowrap; text-align:center;">   e1     </td><td class="td11" id="TBL-5-3-4" style="white-space:nowrap; text-align:center;">    p5      </td><td class="td11" id="TBL-5-3-5" style="white-space:nowrap; text-align:center;">   l2    </td><td class="td11" id="TBL-5-3-6" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-4-1" style="white-space:nowrap; text-align:center;"> n3  </td><td class="td11" id="TBL-5-4-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-5-4-3" style="white-space:nowrap; text-align:center;">   e3     </td><td class="td11" id="TBL-5-4-4" style="white-space:nowrap; text-align:center;">    p6      </td><td class="td11" id="TBL-5-4-5" style="white-space:nowrap; text-align:center;">   l2    </td><td class="td11" id="TBL-5-4-6" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-5-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-5-5-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 945--><p class="indent">   Relationships:
<div class="center">
<!--l. 946--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-6"><colgroup id="TBL-6-1g"><col id="TBL-6-1"/></colgroup><colgroup id="TBL-6-2g"><col id="TBL-6-2"/></colgroup><colgroup id="TBL-6-3g"><col id="TBL-6-3"/></colgroup><colgroup id="TBL-6-4g"><col id="TBL-6-4"/></colgroup><colgroup id="TBL-6-5g"><col id="TBL-6-5"/></colgroup><colgroup id="TBL-6-6g"><col id="TBL-6-6"/></colgroup><colgroup id="TBL-6-7g"><col id="TBL-6-7"/></colgroup><colgroup id="TBL-6-8g"><col id="TBL-6-8"/></colgroup><colgroup id="TBL-6-9g"><col id="TBL-6-9"/></colgroup><colgroup id="TBL-6-10g"><col id="TBL-6-10"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-1-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-6-1-2" style="white-space:nowrap; text-align:center;"> meta  </td><td class="td11" id="TBL-6-1-3" style="white-space:nowrap; text-align:center;"> sId  </td><td class="td11" id="TBL-6-1-4" style="white-space:nowrap; text-align:center;"> dId  </td><td class="td11" id="TBL-6-1-5" style="white-space:nowrap; text-align:center;"> label  </td><td class="td11" id="TBL-6-1-6" style="white-space:nowrap; text-align:center;"> sNprevR  </td><td class="td11" id="TBL-6-1-7" style="white-space:nowrap; text-align:center;"> sNnextR  </td><td class="td11" id="TBL-6-1-8" style="white-space:nowrap; text-align:center;"> dNprevR  </td><td class="td11" id="TBL-6-1-9" style="white-space:nowrap; text-align:center;"> dNnextR  </td><td class="td11" id="TBL-6-1-10" style="white-space:nowrap; text-align:center;"> prop  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-2-1" style="white-space:nowrap; text-align:center;"> e1  </td><td class="td11" id="TBL-6-2-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-6-2-3" style="white-space:nowrap; text-align:center;"> n1  </td><td class="td11" id="TBL-6-2-4" style="white-space:nowrap; text-align:center;">  n2  </td><td class="td11" id="TBL-6-2-5" style="white-space:nowrap; text-align:center;">  l3    </td><td class="td11" id="TBL-6-2-6" style="white-space:nowrap; text-align:center;">    -       </td><td class="td11" id="TBL-6-2-7" style="white-space:nowrap; text-align:center;">    e2      </td><td class="td11" id="TBL-6-2-8" style="white-space:nowrap; text-align:center;">     -       </td><td class="td11" id="TBL-6-2-9" style="white-space:nowrap; text-align:center;">    e2      </td><td class="td11" id="TBL-6-2-10" style="white-space:nowrap; text-align:center;">  p3   </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-3-1" style="white-space:nowrap; text-align:center;"> e2  </td><td class="td11" id="TBL-6-3-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-6-3-3" style="white-space:nowrap; text-align:center;"> n1  </td><td class="td11" id="TBL-6-3-4" style="white-space:nowrap; text-align:center;">  n2  </td><td class="td11" id="TBL-6-3-5" style="white-space:nowrap; text-align:center;">  l4    </td><td class="td11" id="TBL-6-3-6" style="white-space:nowrap; text-align:center;">    e1      </td><td class="td11" id="TBL-6-3-7" style="white-space:nowrap; text-align:center;">    -       </td><td class="td11" id="TBL-6-3-8" style="white-space:nowrap; text-align:center;">    e1      </td><td class="td11" id="TBL-6-3-9" style="white-space:nowrap; text-align:center;">    e3      </td><td class="td11" id="TBL-6-3-10" style="white-space:nowrap; text-align:center;">   -    </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-4-1" style="white-space:nowrap; text-align:center;"> e3  </td><td class="td11" id="TBL-6-4-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-6-4-3" style="white-space:nowrap; text-align:center;"> n3  </td><td class="td11" id="TBL-6-4-4" style="white-space:nowrap; text-align:center;">  n2  </td><td class="td11" id="TBL-6-4-5" style="white-space:nowrap; text-align:center;">  l3    </td><td class="td11" id="TBL-6-4-6" style="white-space:nowrap; text-align:center;">    -       </td><td class="td11" id="TBL-6-4-7" style="white-space:nowrap; text-align:center;">    -       </td><td class="td11" id="TBL-6-4-8" style="white-space:nowrap; text-align:center;">    e2      </td><td class="td11" id="TBL-6-4-9" style="white-space:nowrap; text-align:center;">     -       </td><td class="td11" id="TBL-6-4-10" style="white-space:nowrap; text-align:center;">  p8   </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-6-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-6-5-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 996--><p class="indent">   Properties:
<div class="center">
<!--l. 997--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-7"><colgroup id="TBL-7-1g"><col id="TBL-7-1"/></colgroup><colgroup id="TBL-7-2g"><col id="TBL-7-2"/></colgroup><colgroup id="TBL-7-3g"><col id="TBL-7-3"/></colgroup><colgroup id="TBL-7-4g"><col id="TBL-7-4"/></colgroup><colgroup id="TBL-7-5g"><col id="TBL-7-5"/></colgroup><colgroup id="TBL-7-6g"><col id="TBL-7-6"/></colgroup><colgroup id="TBL-7-7g"><col id="TBL-7-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-1-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-7-1-2" style="white-space:nowrap; text-align:center;"> meta  </td><td class="td11" id="TBL-7-1-3" style="white-space:nowrap; text-align:center;"> n/eId  </td><td class="td11" id="TBL-7-1-4" style="white-space:nowrap; text-align:center;"> prevP  </td><td class="td11" id="TBL-7-1-5" style="white-space:nowrap; text-align:center;"> nextP  </td><td class="td11" id="TBL-7-1-6" style="white-space:nowrap; text-align:center;"> idName  </td><td class="td11" id="TBL-7-1-7" style="white-space:nowrap; text-align:center;"> idValue  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-2-1" style="white-space:nowrap; text-align:center;"> p1  </td><td class="td11" id="TBL-7-2-2" style="white-space:nowrap; text-align:center;">   n    </td><td class="td11" id="TBL-7-2-3" style="white-space:nowrap; text-align:center;">  n1    </td><td class="td11" id="TBL-7-2-4" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-2-5" style="white-space:nowrap; text-align:center;">   p2    </td><td class="td11" id="TBL-7-2-6" style="white-space:nowrap; text-align:center;">   na1     </td><td class="td11" id="TBL-7-2-7" style="white-space:nowrap; text-align:center;">   v1     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-3-1" style="white-space:nowrap; text-align:center;"> p2  </td><td class="td11" id="TBL-7-3-2" style="white-space:nowrap; text-align:center;">   n    </td><td class="td11" id="TBL-7-3-3" style="white-space:nowrap; text-align:center;">  n1    </td><td class="td11" id="TBL-7-3-4" style="white-space:nowrap; text-align:center;">   p1    </td><td class="td11" id="TBL-7-3-5" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-3-6" style="white-space:nowrap; text-align:center;">   na2     </td><td class="td11" id="TBL-7-3-7" style="white-space:nowrap; text-align:center;">   v2     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-4-1" style="white-space:nowrap; text-align:center;"> p3  </td><td class="td11" id="TBL-7-4-2" style="white-space:nowrap; text-align:center;">   e    </td><td class="td11" id="TBL-7-4-3" style="white-space:nowrap; text-align:center;">   e1    </td><td class="td11" id="TBL-7-4-4" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-4-5" style="white-space:nowrap; text-align:center;">   p4    </td><td class="td11" id="TBL-7-4-6" style="white-space:nowrap; text-align:center;">   na3     </td><td class="td11" id="TBL-7-4-7" style="white-space:nowrap; text-align:center;">   v3     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-5-1" style="white-space:nowrap; text-align:center;"> p4  </td><td class="td11" id="TBL-7-5-2" style="white-space:nowrap; text-align:center;">   e    </td><td class="td11" id="TBL-7-5-3" style="white-space:nowrap; text-align:center;">   e1    </td><td class="td11" id="TBL-7-5-4" style="white-space:nowrap; text-align:center;">   p3    </td><td class="td11" id="TBL-7-5-5" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-5-6" style="white-space:nowrap; text-align:center;">   na4     </td><td class="td11" id="TBL-7-5-7" style="white-space:nowrap; text-align:center;">   v4     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-6-1" style="white-space:nowrap; text-align:center;"> p5  </td><td class="td11" id="TBL-7-6-2" style="white-space:nowrap; text-align:center;">   n    </td><td class="td11" id="TBL-7-6-3" style="white-space:nowrap; text-align:center;">  n2    </td><td class="td11" id="TBL-7-6-4" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-6-5" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-6-6" style="white-space:nowrap; text-align:center;">   na5     </td><td class="td11" id="TBL-7-6-7" style="white-space:nowrap; text-align:center;">   v5     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-7-1" style="white-space:nowrap; text-align:center;"> p6  </td><td class="td11" id="TBL-7-7-2" style="white-space:nowrap; text-align:center;">   n    </td><td class="td11" id="TBL-7-7-3" style="white-space:nowrap; text-align:center;">  n3    </td><td class="td11" id="TBL-7-7-4" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-7-5" style="white-space:nowrap; text-align:center;">   p7    </td><td class="td11" id="TBL-7-7-6" style="white-space:nowrap; text-align:center;">   na1     </td><td class="td11" id="TBL-7-7-7" style="white-space:nowrap; text-align:center;">   v7     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-8-1" style="white-space:nowrap; text-align:center;"> p7  </td><td class="td11" id="TBL-7-8-2" style="white-space:nowrap; text-align:center;">   n    </td><td class="td11" id="TBL-7-8-3" style="white-space:nowrap; text-align:center;">  n3    </td><td class="td11" id="TBL-7-8-4" style="white-space:nowrap; text-align:center;">   p6    </td><td class="td11" id="TBL-7-8-5" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-8-6" style="white-space:nowrap; text-align:center;">   na2     </td><td class="td11" id="TBL-7-8-7" style="white-space:nowrap; text-align:center;">   v8     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-9-1" style="white-space:nowrap; text-align:center;"> p8  </td><td class="td11" id="TBL-7-9-2" style="white-space:nowrap; text-align:center;">   e    </td><td class="td11" id="TBL-7-9-3" style="white-space:nowrap; text-align:center;">   e3    </td><td class="td11" id="TBL-7-9-4" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-9-5" style="white-space:nowrap; text-align:center;">   p9    </td><td class="td11" id="TBL-7-9-6" style="white-space:nowrap; text-align:center;">   na3     </td><td class="td11" id="TBL-7-9-7" style="white-space:nowrap; text-align:center;">   v6     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-10-1" style="white-space:nowrap; text-align:center;"> p9  </td><td class="td11" id="TBL-7-10-2" style="white-space:nowrap; text-align:center;">   e    </td><td class="td11" id="TBL-7-10-3" style="white-space:nowrap; text-align:center;">   e3    </td><td class="td11" id="TBL-7-10-4" style="white-space:nowrap; text-align:center;">   p8    </td><td class="td11" id="TBL-7-10-5" style="white-space:nowrap; text-align:center;">   -     </td><td class="td11" id="TBL-7-10-6" style="white-space:nowrap; text-align:center;">   na4     </td><td class="td11" id="TBL-7-10-7" style="white-space:nowrap; text-align:center;">   v4     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-7-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-7-11-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 1083--><p class="indent">   Names:
<div class="center">
<!--l. 1084--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-8"><colgroup id="TBL-8-1g"><col id="TBL-8-1"/></colgroup><colgroup id="TBL-8-2g"><col id="TBL-8-2"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-8-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-8-1-1" style="white-space:nowrap; text-align:center;"> na1  </td><td class="td11" id="TBL-8-1-2" style="white-space:nowrap; text-align:center;">  name   </td></tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-8-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-8-2-1" style="white-space:nowrap; text-align:center;"> na2 </td><td class="td11" id="TBL-8-2-2" style="white-space:nowrap; text-align:center;"> gender</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-8-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-8-3-1" style="white-space:nowrap; text-align:center;"> na3  </td><td class="td11" id="TBL-8-3-2" style="white-space:nowrap; text-align:center;">  role    </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-8-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-8-4-1" style="white-space:nowrap; text-align:center;"> na4  </td><td class="td11" id="TBL-8-4-2" style="white-space:nowrap; text-align:center;">   ref    </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-8-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-8-5-1" style="white-space:nowrap; text-align:center;"> na5  </td><td class="td11" id="TBL-8-5-2" style="white-space:nowrap; text-align:center;">  title   </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-8-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-8-6-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 1105--><p class="indent">   Values:
<div class="center">
<!--l. 1106--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-9"><colgroup id="TBL-9-1g"><col id="TBL-9-1"/></colgroup><colgroup id="TBL-9-2g"><col id="TBL-9-2"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-1-1" style="white-space:nowrap; text-align:center;"> v1  </td><td class="td11" id="TBL-9-1-2" style="white-space:nowrap; text-align:center;"> Clint Eastwood  </td></tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-2-1" style="white-space:nowrap; text-align:center;"> v2 </td><td class="td11" id="TBL-9-2-2" style="white-space:nowrap; text-align:center;"> Male</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-3-1" style="white-space:nowrap; text-align:center;"> v3  </td><td class="td11" id="TBL-9-3-2" style="white-space:nowrap; text-align:center;">      Bill          </td></tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-4-1" style="white-space:nowrap; text-align:center;"> v4 </td><td class="td11" id="TBL-9-4-2" style="white-space:nowrap; text-align:center;"> IMDb</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-5-1" style="white-space:nowrap; text-align:center;"> v5  </td><td class="td11" id="TBL-9-5-2" style="white-space:nowrap; text-align:center;">   Unforgiven     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-6-1" style="white-space:nowrap; text-align:center;"> v6  </td><td class="td11" id="TBL-9-6-2" style="white-space:nowrap; text-align:center;">     Delilah       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-7-1" style="white-space:nowrap; text-align:center;"> v7  </td><td class="td11" id="TBL-9-7-2" style="white-space:nowrap; text-align:center;">  Anna Levine    </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-8-1" style="white-space:nowrap; text-align:center;"> v8  </td><td class="td11" id="TBL-9-8-2" style="white-space:nowrap; text-align:center;">     Female       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-9-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-9-9-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 1136--><p class="indent">   Labels:
<div class="center">
<!--l. 1137--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-10"><colgroup id="TBL-10-1g"><col id="TBL-10-1"/></colgroup><colgroup id="TBL-10-2g"><col id="TBL-10-2"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-10-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-10-1-1" style="white-space:nowrap; text-align:center;"> l1  </td><td class="td11" id="TBL-10-1-2" style="white-space:nowrap; text-align:center;">  Person  </td></tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-10-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-10-2-1" style="white-space:nowrap; text-align:center;"> l2 </td><td class="td11" id="TBL-10-2-2" style="white-space:nowrap; text-align:center;"> Movie</td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-10-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-10-3-1" style="white-space:nowrap; text-align:center;"> l3  </td><td class="td11" id="TBL-10-3-2" style="white-space:nowrap; text-align:center;"> acts_in  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-10-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-10-4-1" style="white-space:nowrap; text-align:center;"> l4  </td><td class="td11" id="TBL-10-4-2" style="white-space:nowrap; text-align:center;">  directs  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-10-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-10-5-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
</p></p></p></p></p></p></p></div>
<!--l. 1154--><p class="indent">
<!--l. 1156--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">4.1.2   </span> <a id="x1-350004.1.2"></a>Adjacency Lists</h5>
<!--l. 1158--><p class="noindent">For each node, we store the list of its neighbors. If the graph is directed, the list contains only the outgoing
nodes. This approach makes it cheaper for obtaining the neighbors of a node, but it is not suitable for
checking if there is an edge between two nodes, since we would need to travers the lists for both nodes
completely.
   <div class="newtheorem">
<!--l. 1163--><p class="noindent"><span class="head">
<a id="x1-35001r3"></a>
<span class="ecbx-1000">Example 4.3.</span> </span>An Adjacency List
<!--l. 1166--><p class="indent">   This graph:
<!--l. 1168--><p class="indent"> <img alt="PIC" src="14_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado1.png"/>
<!--l. 1170--><p class="indent">   Can be encoded in an adjacency list as follows:
<div class="center">
<!--l. 1171--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-11"><colgroup id="TBL-11-1g"><col id="TBL-11-1"/></colgroup><colgroup id="TBL-11-2g"><col id="TBL-11-2"/></colgroup><colgroup id="TBL-11-3g"><col id="TBL-11-3"/></colgroup><colgroup id="TBL-11-4g"><col id="TBL-11-4"/><col id="TBL-11-5"/><col id="TBL-11-6"/><col id="TBL-11-7"/></colgroup><tr id="TBL-11-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-1-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td><hr/></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-2-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-3-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td><td></td><td></td></tr><tr id="TBL-11-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-4-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-11-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-5-1" style="white-space:nowrap; text-align:center;"> 1  </td><td class="td11" id="TBL-11-5-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">→ </span></td><td class="td11" id="TBL-11-5-3" style="white-space:nowrap; text-align:center;"> 1  </td><td class="td11" id="TBL-11-5-4" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">→</span></div> </td><td class="td11" id="TBL-11-5-5" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;">2</div> </td><td class="td11" id="TBL-11-5-6" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="cmsy-10">→</span></div> </td><td class="td11" id="TBL-11-5-7" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;">3</div> </td></tr><tr id="TBL-11-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-6-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td><hr/></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-7-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-8-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td><td></td><td></td></tr><tr id="TBL-11-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-9-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-11-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-10-1" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"></div> </td><td class="td11" id="TBL-11-10-2" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"></div> </td><td class="td11" id="TBL-11-10-3" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"></div> </td><td class="td11" id="TBL-11-10-4" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-10-5" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-10-6" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-10-7" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr id="TBL-11-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-11-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td><hr/></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-12-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-13-1" style="white-space:nowrap; text-align:center;"> 2  </td><td class="td11" id="TBL-11-13-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">→ </span></td><td class="td11" id="TBL-11-13-3" style="white-space:nowrap; text-align:center;"> 3  </td><td class="td11" id="TBL-11-13-4" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-13-5" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-13-6" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-13-7" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr id="TBL-11-14-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-14-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td><hr/></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-15-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-15-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-16-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-16-1" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"></div> </td><td class="td11" id="TBL-11-16-2" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"></div> </td><td class="td11" id="TBL-11-16-3" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"></div> </td><td class="td11" id="TBL-11-16-4" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-16-5" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-16-6" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-16-7" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr id="TBL-11-17-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-17-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td><hr/></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-18-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-18-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-19-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-19-1" style="white-space:nowrap; text-align:center;"> 3  </td><td class="td11" id="TBL-11-19-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">→ </span></td><td class="td11" id="TBL-11-19-3" style="white-space:nowrap; text-align:center;"> 1  </td><td class="td11" id="TBL-11-19-4" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-19-5" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-19-6" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-11-19-7" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr id="TBL-11-20-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-20-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td><hr/></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-21-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-21-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td></td><td></td><td></td><td></td></tr><tr id="TBL-11-22-" style="vertical-align:baseline;"><td class="td11" id="TBL-11-22-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
</p></p></p></p></div>
<!--l. 1216--><p class="indent">
<!--l. 1218--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">4.1.3   </span> <a id="x1-360004.1.3"></a>Incidence Matrix</h5>
<!--l. 1220--><p class="noindent">An incidence matrix is a bidimensional graph representation, in which rows represent vertices and columns represent
edges. Then, a non-null entry represents that the source vertex is incident to the edge.
   <div class="newtheorem">
<!--l. 1223--><p class="noindent"><span class="head">
<a id="x1-36001r4"></a>
<span class="ecbx-1000">Example 4.4.</span> </span>An Incidence Matrix
<!--l. 1226--><p class="indent">   This graph:
<!--l. 1228--><p class="indent"> <img alt="PIC" src="14_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado1.png"/>
<!--l. 1230--><p class="indent">   Can be encoded in an incidence matrix as follows:
<div class="center">
<!--l. 1231--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-12"><colgroup id="TBL-12-1g"><col id="TBL-12-1"/></colgroup><colgroup id="TBL-12-2g"><col id="TBL-12-2"/></colgroup><colgroup id="TBL-12-3g"><col id="TBL-12-3"/></colgroup><colgroup id="TBL-12-4g"><col id="TBL-12-4"/></colgroup><colgroup id="TBL-12-5g"><col id="TBL-12-5"/></colgroup><colgroup id="TBL-12-6g"><col id="TBL-12-6"/></colgroup><colgroup id="TBL-12-7g"><col id="TBL-12-7"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-1-1" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary69x.png"/> </td><td class="td11" id="TBL-12-1-2" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary70x.png"/> </td><td class="td11" colspan="3" id="TBL-12-1-3" style="white-space:nowrap; text-align:center;"></td> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">edges</span></div>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-2-1" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary71x.png"/> </td><td class="td11" id="TBL-12-2-2" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary72x.png"/> </td><td class="td11" id="TBL-12-2-3" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">e1  </span></td><td class="td11" id="TBL-12-2-4" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">e2  </span></td><td class="td11" id="TBL-12-2-5" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">e3  </span></td><td class="td11" id="TBL-12-2-6" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">e4  </span></td><td class="td11" id="TBL-12-2-7" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">e5  </span></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-3-1" style="white-space:nowrap; text-align:center;"> <div class="multirow"><!-- rows=256 -->
<span class="ecbx-1000">nodes</span></div> </td><td class="td11" id="TBL-12-3-2" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">1  </span></td><td class="td11" id="TBL-12-3-3" style="white-space:nowrap; text-align:center;">  3   </td><td class="td11" id="TBL-12-3-4" style="white-space:nowrap; text-align:center;">  1   </td><td class="td11" id="TBL-12-3-5" style="white-space:nowrap; text-align:center;">  2   </td><td class="td11" id="TBL-12-3-6" style="white-space:nowrap; text-align:center;">  1   </td><td class="td11" id="TBL-12-3-7" style="white-space:nowrap; text-align:center;">  0   </td></tr><tr id="TBL-12-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-4-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-5-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-6-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-7-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-8-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-9-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-12-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-10-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-12-10-2" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">2  </span></td><td class="td11" id="TBL-12-10-3" style="white-space:nowrap; text-align:center;">  0   </td><td class="td11" id="TBL-12-10-4" style="white-space:nowrap; text-align:center;">  0   </td><td class="td11" id="TBL-12-10-5" style="white-space:nowrap; text-align:center;">  0   </td><td class="td11" id="TBL-12-10-6" style="white-space:nowrap; text-align:center;">  2   </td><td class="td11" id="TBL-12-10-7" style="white-space:nowrap; text-align:center;">  1   </td>
</tr><tr id="TBL-12-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-11-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-12-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-13-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-14-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-14-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-15-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-15-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-16-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-16-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-12-17-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-17-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-12-17-2" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">3  </span></td><td class="td11" id="TBL-12-17-3" style="white-space:nowrap; text-align:center;">  0   </td><td class="td11" id="TBL-12-17-4" style="white-space:nowrap; text-align:center;">  2   </td><td class="td11" id="TBL-12-17-5" style="white-space:nowrap; text-align:center;">  1   </td><td class="td11" id="TBL-12-17-6" style="white-space:nowrap; text-align:center;">  0   </td><td class="td11" id="TBL-12-17-7" style="white-space:nowrap; text-align:center;">  2   </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-12-18-" style="vertical-align:baseline;"><td class="td11" id="TBL-12-18-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 1275--><p class="indent">   Where 0=’not incident’, 1=’source’, 2=’dest’ and 3=’source&amp;dest’.
   </p></p></p></p></p></div>
<!--l. 1276--><p class="indent">
<!--l. 1278--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">4.1.4   </span> <a id="x1-370004.1.4"></a>Adjacency matrix</h5>
<!--l. 1280--><p class="noindent">This is also a bidimensional graph representation, in which rows represent source vertices, and columns represent
destination vertices. Therefore, each non-null entry represents that there is an edge from the source node to the
destination node.
   <div class="newtheorem">
<!--l. 1284--><p class="noindent"><span class="head">
<a id="x1-37001r5"></a>
<span class="ecbx-1000">Example 4.5.</span> </span>An Adjacency Matrix
<!--l. 1287--><p class="indent">   This graph:
<!--l. 1289--><p class="indent"> <img alt="PIC" src="14_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado1.png"/>
<!--l. 1291--><p class="indent">   Can be encoded in an adjacency matrix as follows:
<div class="center">
<!--l. 1292--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-13"><colgroup id="TBL-13-1g"><col id="TBL-13-1"/></colgroup><colgroup id="TBL-13-2g"><col id="TBL-13-2"/></colgroup><colgroup id="TBL-13-3g"><col id="TBL-13-3"/></colgroup><colgroup id="TBL-13-4g"><col id="TBL-13-4"/></colgroup><colgroup id="TBL-13-5g"><col id="TBL-13-5"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-1-1" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary73x.png"/> </td><td class="td11" id="TBL-13-1-2" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary74x.png"/> </td><td class="td11" colspan="3" id="TBL-13-1-3" style="white-space:nowrap; text-align:center;"> <div class="multicolumn" style="white-space:nowrap; text-align:center;"><span class="ecbx-1000">destination</span></div> </td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-2-1" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary75x.png"/> </td><td class="td11" id="TBL-13-2-2" style="white-space:nowrap; text-align:center;"> <img alt=" " src="summary76x.png"/> </td><td class="td11" id="TBL-13-2-3" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">1 </span></td><td class="td11" id="TBL-13-2-4" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">2 </span></td><td class="td11" id="TBL-13-2-5" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">3</span></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-3-1" style="white-space:nowrap; text-align:center;"> <div class="multirow"><!-- rows=256 -->
<span class="ecbx-1000">source</span></div> </td><td class="td11" id="TBL-13-3-2" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">1  </span></td><td class="td11" id="TBL-13-3-3" style="white-space:nowrap; text-align:center;"> 1  </td><td class="td11" id="TBL-13-3-4" style="white-space:nowrap; text-align:center;"> 1  </td><td class="td11" id="TBL-13-3-5" style="white-space:nowrap; text-align:center;"> 1  </td></tr><tr id="TBL-13-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-4-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-5-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-6-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-7-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-13-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-8-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-13-8-2" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">2  </span></td><td class="td11" id="TBL-13-8-3" style="white-space:nowrap; text-align:center;"> 0  </td><td class="td11" id="TBL-13-8-4" style="white-space:nowrap; text-align:center;"> 0  </td><td class="td11" id="TBL-13-8-5" style="white-space:nowrap; text-align:center;"> 1  </td>
</tr><tr id="TBL-13-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-9-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-10-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-11-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-12-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-13-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-13-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-13-13-2" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">3  </span></td><td class="td11" id="TBL-13-13-3" style="white-space:nowrap; text-align:center;"> 1  </td><td class="td11" id="TBL-13-13-4" style="white-space:nowrap; text-align:center;"> 0  </td><td class="td11" id="TBL-13-13-5" style="white-space:nowrap; text-align:center;"> 0  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-13-14-" style="vertical-align:baseline;"><td class="td11" id="TBL-13-14-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
</p></p></p></p></div>
<!--l. 1327--><p class="indent">
<!--l. 1329--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">4.2   </span> <a id="x1-380004.2"></a>Types of Graph Databases</h4>
<!--l. 1331--><p class="noindent">Some graph databases and graph processing frameworks are based on strong assumptions that are not
always explicit, but are rather a consequence of the internal implementation of graphs. We can distinguish
between:
                                                                                            
                                                                                            
     <ul class="itemize1">
<li class="itemize">
<!--l. 1336--><p class="noindent"><span class="ecbx-1000">Operational graphs</span>: they are the graph equivalent of a CRUD database. In this kind of graph database,
     nodes and edges can be deleted, updated, inserted and read. Examples are Neo4j or OrientDB.
     </p></li>
<li class="itemize">
<!--l. 1339--><p class="noindent"><span class="ecbx-1000">Analytical graphs</span>: these are snapshot graphs that cannot be modified by the final user, so they are the
     equivalent of a data warehouse. For example, the graph processing frameworks can be seen as analytical
     graphs.</p></li></ul>
<!--l. 1344--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">5   </span> <a id="x1-390005"></a>Distributed Graph Processing</h3>
<!--l. 1348--><p class="noindent">When we have a centralized graph, the cost of the queries that we launch on it depends on the number of edges/nodes
visited during processing. Therefore, this cost is affected by the graph size and its topology, and the processing
algorithm used. But sometimes the graph is large and the algorithm expensive. For instance, navigational pattern
matching, in the best case, is still of cubic computational complexity.
<!--l. 1355--><p class="indent">   Also, graph computations are difficult to scale and parallelize, because:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1357--><p class="noindent">Computations are data-driven: this means that the computations are driven by vertices and edges, with
     the structure of the computation not known a priori.
     </p></li>
<li class="itemize">
<!--l. 1360--><p class="noindent">Unstructured problems: the data stored in graphs is usually unstructured and irregular, making it difficult
     to partition.
     </p></li>
<li class="itemize">
<!--l. 1362--><p class="noindent">Poor locality: the computations and access patterns tend not to have very much locality.
     </p></li>
<li class="itemize">
<!--l. 1364--><p class="noindent">High  data  access  to  computation  ratio:  since  exploring  the  structure  of  a  graph  is  more  usual  than
     performing large numbers of computations.</p></li></ul>
<!--l. 1367--><p class="noindent">Sequential graph algorithms, which require random access to all the data, present poor locality and together with the
indivisibility of the graph structure cause time and resource intensive pointer chasing between storage mediums in order
to access each datum. In response to these shortcomings, new distributed frameworks based on the vertex-centric
programming model were developed. This approach is:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1374--><p class="noindent">No shared-memory (there is a local view of data).
     </p></li>
<li class="itemize">
<!--l. 1375--><p class="noindent">Meant to converge upon iteration.
     </p></li>
<li class="itemize">
<!--l. 1376--><p class="noindent">Naturally adapting to distributed settings.</p></li></ul>
<!--l. 1378--><p class="noindent">As opposed to having a global perspective of the data (assuming all data is randomly accessible in memory), vertex-centric
frameworks employ a local, vertex oriented perspective of computation, introducing the paradigm <span class="ecbx-1000">Think Like A</span>
<span class="ecbx-1000">Vertex (TLAV)</span>.
<!--l. 1383--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a id="x1-400005.1"></a>Distributed Graph Storage</h4>
<!--l. 1385--><p class="noindent">Several open-source solutions like HDFS, HBase, or Apache Titan can be used for storage. Proprietary solutions like
Amazon Neptune also exist. Each approach has its own trade-offs: open-source solutions offer flexibility but may
demand additional maintenance and expertise, while proprietary solutions provide comprehensive support but may pose
usage limitations and costs.
<!--l. 1392--><p class="indent">   For distributed processing frameworks to function effectively, graph data needs to be exposed as two views: a set of
vertices and a set of edges. Traditional distributed data management considerations, like partitioning and replicas,
apply to these views.
                                                                                            
                                                                                            
<!--l. 1397--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a id="x1-410005.2"></a>TLAV Frameworks</h4>
<!--l. 1399--><p class="noindent">TLAV frameworks operate on a message passing interface and support iterative execution of a user-defined vertex
program. Vertices pass messages to adjacent vertices, and this iterative process continues until a termination condition
is met.
<!--l. 1404--><p class="indent">   They might either follow the <span class="ecbx-1000">Bulk Synchronous Parallel (BSP) computing model</span>, in which computation is
based on <span class="ecbx-1000">superstep</span>, where a superstep must finish entirely before the next superstep starts, defining a synchronization
barrier per superstep; or an <span class="ecbx-1000">asynchronous computing model</span>, which is prone to suffer from deadlocks and data
races, but may improve the performance under certain assumptions/conditions.
<!--l. 1411--><p class="indent">   Examples of TLAV frameworks include Pregel, Apache Giraph, and GraphX, each offering its own
strengths and weaknesses. It’s also important to note the role of fault-tolerance in distributed graph
processing. Ensuring system resilience to node failures is a critical aspect that helps maintain operation
continuity.
   <div class="newtheorem">
<!--l. 1416--><p class="noindent"><span class="head">
<a id="x1-41001r1"></a>
<span class="ecbx-1000">Example 5.1.</span> </span>Calculating max using TLAV.
<!--l. 1419--><p class="indent">   In the first superstep: all vertices send its value to its adjacent vertices.
<!--l. 1422--><p class="indent">   On each superstep: each vertex compares the value that it has received (if any) to the current value that it
has. If it is greater, then it updates. In case of update, it sends again this new value to adjacent nodes.
<!--l. 1427--><p class="indent">   Stop condition: no vertex changes in a superstep.
<!--l. 1429--><p class="indent">   The process could be as the following:
<div class="center">
<!--l. 1430--><p class="noindent">
<!--l. 1431--><p class="noindent"><img alt="PIC" src="16_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_TLAV_drawio.png"/>
</p></p></div>
<!--l. 1434--><p class="indent">   Here, when a node is red, is because it updated, and the red arrows indicate messages. The process finishes when no
node changes.
   </p></p></p></p></p></p></div>
<!--l. 1436--><p class="indent">
<!--l. 1438--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.2.1   </span> <a id="x1-420005.2.1"></a>Synchronized TLAV</h5>
<!--l. 1440--><p class="noindent">As we have explained, TLAV framework supports iterative execution of a user defined vertex program over vertices of
the graph. Programs are thus composed of several interdependent components that drive program execution, the
<span class="ecbx-1000">vertex kernels</span>. A <span class="ecbx-1000">synchronization barrier </span>is set between interdependent components, defining the
supersteps.
<!--l. 1446--><p class="indent">   Therefore, a superstep is composed of different kernels, and it ends when all kernels finish, and all messages are sent.
Then, there is a synchronization barrier, which is used to synchronize the obtained results, so that the next superstep
can begin.
<div class="center">
<!--l. 1450--><p class="noindent">
<!--l. 1451--><p class="noindent"><img alt="PIC" src="17_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_S____Data_Mng_LectureNotes_source_TLAV_1_drawio.png"/>
</p></p></div>
<div class="newtheorem">
<!--l. 1453--><p class="noindent"><span class="head">
<a id="x1-42001r2"></a>
<span class="ecbx-1000">Example 5.2.</span> </span>Single-Source Shortest-Path
<!--l. 1456--><p class="indent">   The following code computes the shortest path in a graph using the TLAV framework:
   <!--l. 1459-->
<div class="lstlisting" id="listing-7"><span class="label"><a id="x1-42002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span class="ectt-0800">input</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">graph</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">=(</span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">starting</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">vertex</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">U</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42005r4"></a><span class="ecrm-0500">4</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42006r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800">foreach</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42007r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">shortest_path_L</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">inf</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42008r7"></a><span class="ecrm-0500">7</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42009r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800">send</span></span><span style="color:#000000"><span class="ectt-0800">(0,</span></span><span style="color:#000000"><span class="ectt-0800">U</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42010r9"></a><span class="ecrm-0500">9</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42011r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800">repeat</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42012r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">V</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">do</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">parallel</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42013r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">minIncoming</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">min</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">receive</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">path_length</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">;</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42014r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42015r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">if</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">minIncoming</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">shortest_path_L</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42016r15"></a><span class="ecrm-0500">15</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">shortest_path_L</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">minIncoming</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42017r16"></a><span class="ecrm-0500">16</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42018r17"></a><span class="ecrm-0500">17</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">foreach</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">e</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#FF00FF"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">E</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42019r18"></a><span class="ecrm-0500">18</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">path_length</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">shortest_path_L</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">v</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">+</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">length</span></span><span style="color:#000000"><span class="ectt-0800">[</span></span><span style="color:#000000"><span class="ectt-0800">e</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42020r19"></a><span class="ecrm-0500">19</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42021r20"></a><span class="ecrm-0500">20</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">j</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">destination</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">e</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42022r21"></a><span class="ecrm-0500">21</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">send</span></span><span style="color:#000000"><span class="ectt-0800">(</span></span><span style="color:#000000"><span class="ectt-0800">path_length</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800">j</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42023r22"></a><span class="ecrm-0500">22</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">end</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42024r23"></a><span class="ecrm-0500">23</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">end</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42025r24"></a><span class="ecrm-0500">24</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">halt</span></span><span style="color:#000000"><span class="ectt-0800">()</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">#</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">if</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">no</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">message</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">sent</span></span><span style="color:#009900"><span class="ectt-0800">,</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">then</span></span><span style="color:#009900"><span class="ectt-0800"> </span></span><span style="color:#009900"><span class="ectt-0800">halt</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42026r25"></a><span class="ecrm-0500">25</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">end</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-42027r26"></a><span class="ecrm-0500">26</span></span><span style="color:#000000"><span class="ectt-0800">until</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">no</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">more</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">messages</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">are</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sent</span></span><span style="color:#000000"><span class="ectt-0800">;</span></span></div>
<!--l. 1489--><p class="indent">   The execution could be as follows:
<div class="center">
<!--l. 1490--><p class="noindent">
<!--l. 1491--><p class="noindent"><img alt="PIC" src="18_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_S____Data_Mng_LectureNotes_source_TLAV_2_drawio.png"/>
</p></p></div>
<!--l. 1494--><p class="indent">   The colors indicate the same as in the previous example. The green node is the source node for the algorithm and
the numbers indicate the weights of the edges.
</p></p></p></p></div>
<!--l. 1497--><p class="indent">
<!--l. 1499--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.2.2   </span> <a id="x1-430005.2.2"></a>TLAV: Graph Distribution</h5>
<!--l. 1501--><p class="noindent">We have seen that TLAV graph processing requires the graph data to be exposed in the form of two views: the set of
vertices and the set of edges. Let’s see how TLAV can be achieved in a distributed environment. Let’s begin with an
example:
   <div class="newtheorem">
<!--l. 1505--><p class="noindent"><span class="head">
<a id="x1-43001r3"></a>
<span class="ecbx-1000">Example 5.3.</span> </span>Consider the following distributed graph:
<div class="center">
<!--l. 1507--><p class="noindent">
<!--l. 1508--><p class="noindent"><img alt="PIC" src="19_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_tlav.png"/>
</p></p></div>
<!--l. 1511--><p class="indent">   This graph can be represented as follows:
<div class="center">
<!--l. 1512--><p class="noindent">
<!--l. 1513--><p class="noindent"><img alt="PIC" src="20_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_tlav_0.png"/>
</p></p></div>
<!--l. 1516--><p class="indent">   Here, we have depicted the two views, partitioned. Each partition is depicted by a yellow rectangle. And the
instances are stored in the partitions. Note that the vertices do not store the nodes, I have draw them like that to
facilitate readability.
<!--l. 1521--><p class="indent">   Now, we want to set up a simple TLAV environment. We are going to send messages <img align="middle" alt="{am,bm,cm,fm }" class="left" src="summary77x.png"/>. Each
message is sent to the node it is named after. For example, <span class="cmmi-10">a</span><sub><span class="cmmi-7">m</span></sub> goes to node <span class="cmmi-10">a</span>. The nodes will send the message to all
nodes to which they are connected, and these will generate a message named after them. For example, if <span class="cmmi-10">b </span>receive a
message, it will send <span class="cmmi-10">b</span><sub><span class="cmmi-7">m</span></sub>. The first superstep of this process is:
<div class="center">
<!--l. 1528--><p class="noindent">
<!--l. 1529--><p class="noindent"><img alt="PIC" src="21_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_tlav_1.png"/>
</p></p></div>
<!--l. 1532--><p class="indent">   Note how messages can be merged in two ways: intrapartition and interpartition. The messages in the white box
would be sent to the vertices for the next superstep.
   </p></p></p></p></p></div>
<!--l. 1535--><p class="indent">
It is very important to realize that states can only be shared through messages, since there is no shared
memory.
<!--l. 1539--><p class="indent">   About the vertex kernel, keep in mind the after its execution, the vertices send messages to adjacent vertices, and
these messages could be as complex as needed, and they can even modify the graph. The kernel must also
include a <span class="ecbx-1000">halt condition</span>, so that a node knows when to stop sending messages, and convergence can be
achieved.
<!--l. 1545--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-440005.2.2"></a>Pregel</h5>
<!--l. 1547--><p class="noindent">Pregel is a very famous TLAV framework. Its model of computation is as follows:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1550--><p class="noindent">Input: a directed graph with three views:
         <ul class="itemize2">
<li class="itemize">
<!--l. 1552--><p class="noindent">List of nodes, uniquely identified.
         </p></li>
<li class="itemize">
<!--l. 1553--><p class="noindent">List of edges.
         </p></li>
<li class="itemize">
<!--l. 1554--><p class="noindent">Triplet views: an edge and its nodes information, showing all the information for the edge.</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 1557--><p class="noindent">Processing: in each superstep the vertices work in parallel.
         <ul class="itemize2">
<li class="itemize">
<!--l. 1559--><p class="noindent">They can modify their state, the state of their outgoing edges, receive messages from the previous
         superstep, send messages to other vertices for the next superstep and modify the graph topology.
         </p></li>
<li class="itemize">
<!--l. 1562--><p class="noindent">The algorithm finishes based on a voting to halt. This means that when a node halts, it becomes
         inactive and stop sending processing and sending messages, until it receives another messages. When
         all nodes are inactive, the process finishes.</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 1567--><p class="noindent">Output: the set of values explicitly outputed by the vertices.</p></li></ul>
<!--l. 1570--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-450005.2.2"></a>GraphX</h5>
<!--l. 1572--><p class="noindent">GraphX is a subproject of Apache Spark, built as a Spark module and following Pregel’s principles, but it only allows to
send messahes to adjacent vertices.
<!--l. 1576--><p class="indent">   It uses Spark GraphFrames to provide Pregel’s required views (vertices, edges and triplets) and provides a library
with typical distributed algorithms, such as pageRank, connected componentes, triangle count,...
                                                                                            
                                                                                            
<!--l. 1580--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">5.2.3   </span> <a id="x1-460005.2.3"></a>Deepening into TLAV</h5>
<!--l. 1582--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-470005.2.3"></a>Scheduling</h5>
<!--l. 1584--><p class="noindent">Scheduling refers to how user-defined vertex programmes are scheduled for execution. They can be Synchronous,
Asynchronous, Both or Hybrid.
<!--l. 1587--><p class="indent"> <span class="ecbx-1000">Synchronous scheduling </span>is based on the Bulk Synchronous Parallel (BSP) processing model. Active vertices are
executed conceptually in parallel over one or more iterations, called supersteps and synchronization is achieved through
a global synchronization barrier situated between each superstep that block vertices from computing the next superstep
until all workers complete the current one. Each worker has to coordinate with the master to progress to the next
superstep.
<!--l. 1595--><p class="indent">   Synchronization is achieved because the barrier ensures that each vertex within a superstep has access to only the
data from the previous superstep. Note that inside a superstep, vertices can be scheduled in a fixed or
random order, because the execution order does not affect the state of the program (it should not, at
least).
<!--l. 1601--><p class="indent"> <span id="textcolor2">Pros</span> os synchronous scheduling:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1603--><p class="noindent">Conceptually simple.
     </p></li>
<li class="itemize">
<!--l. 1604--><p class="noindent">Good for certain algorithms.
     </p></li>
<li class="itemize">
<!--l. 1605--><p class="noindent">Almost always deterministic, making synchronous applications easy to design, program, test, debug and
     deploy.
     </p></li>
<li class="itemize">
<!--l. 1607--><p class="noindent">Scalable: potentially linear in the number of vertices and can benefit from batch messaging between
     supersteps.</p></li></ul>
<!--l. 1610--><p class="noindent"><span id="textcolor3">Cons</span>:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1612--><p class="noindent">System throughput must remain high in each sueprstep ot justify the synchronization cost. Throughput
     is affected by the drop of active vertices or by the imbalance workload among workers, resulting in the
     system becoming underutilized; the iterative nature of graph algorithms, which suffer from ’the curse of
     the last reducer’ (straggler problem), where many computations finish quickly but a small fraction of
     computations take a desproportionately larger amount of time; and the speed of computation of each
     node.
     </p></li>
<li class="itemize">
<!--l. 1620--><p class="noindent">The algorithm may not converge for some graph topologies. In general, algorithms that require some type
     of neighbor coordination may not always converge with the synchronous scheduling model without the
     use of some extra logic in the vertex program.</p></li></ul>
<!--l. 1625--><p class="noindent"><span class="ecbx-1000">Asynchronous scheduling </span>is different. There is no explicit synchronization points, so any active vertex is eligible for
computation whenever processor and network resources are available. The vertex execution order can be
dynamically generated and reorganized by the scheduler, and the straggler problem is eliminated. As a result,
many asynchronous models outperform corresponding synchronous models, but at the expense of added
complexity.
<!--l. 1633--><p class="indent">   Pros:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1635--><p class="noindent">Outperform synchronous systems when the workload is imbalanced.</p></li></ul>
<!--l. 1637--><p class="noindent">Cons:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1639--><p class="noindent">It cannot take advantage of batch messaging optimizations.
     </p></li>
<li class="itemize">
<!--l. 1640--><p class="noindent">The typical pull model execution may result in unnecessary processing.
     </p></li>
<li class="itemize">
<!--l. 1641--><p class="noindent">Asynchronous algorithms face more difficult scheduling problems and also consistency issues.</p></li></ul>
<!--l. 1644--><p class="noindent">In general, synchronous execution generally accommodates IO bound algorithms, while asynchronous execution well-serves
CPU bound algorithms by adapting to large and variable workloads.
<!--l. 1648--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-480005.2.3"></a>Message Passing</h5>
<!--l. 1650--><p class="noindent">Information is sent from one vertex program kernel to another via messages, which contain local vertex data and is
addressed to the ID of the recipient vertex. A message can be addressed anywhere, but since vertices do not have ID
information of all the other vertices, destination vertex IDs are typically obtained by iterating over outgoing
edges.
<!--l. 1657--><p class="indent">   After computation is complete and a destination ID for each message is determined, the vertex dispatches messages
to the local worker process, which determines whether the recipient resides on the local machine or a remote
one.
     <ul class="itemize1">
<li class="itemize">
<!--l. 1662--><p class="noindent">If it is in the local machine, the worker process the message directly into the vertex’s incoming messages
     queue.
     </p></li>
<li class="itemize">
<!--l. 1664--><p class="noindent">Otherwise, the worker process looks up the worker ID of the destination vertex and places the message in
     an outgoing message buffer, which are flushed when they reach a certain capacity, sending messages over
     the network in batches. In principle, it tries to wait until the end of a superstep to send all messages in
     batch-mode.</p></li></ul>
<!--l. 1670--><p class="noindent">There three main strategies to optimize message passing:
     <ol class="enumerate1">
<li class="enumerate" id="x1-48002x1">
<!--l. 1672--><p class="noindent"><span class="ecbx-1000">Sender-side combiner</span>: messages from several nodes are merged in the sender worker, which sends them
     to the destination worker.
                                                                                            
                                                                                            
     </p></li>
<li class="enumerate" id="x1-48004x2">
<!--l. 1674--><p class="noindent"><span class="ecbx-1000">Receiver-side combiner</span>: in this case, the sender worker sends all the messages produced by all nodes
     to the destination worker, which makes the merging.
     </p></li>
<li class="enumerate" id="x1-48006x3">
<!--l. 1677--><p class="noindent"><span class="ecbx-1000">Receiver-side scatter</span>: the sender worker send a message, which is received by the destination worker,
     sending it to several nodes.</p></li></ol>
<!--l. 1682--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-490005.2.3"></a>Shared Memory</h5>
<!--l. 1684--><p class="noindent">Shared memory exposes vertex data as shared variables that can be directly read or modigied by other vertex programs,
avoiding the additional memory overhead constituted by messages. This is typical of centralized graph processing, but
there are also some distributed systems that apply it.
<!--l. 1690--><p class="indent">   The <span class="ecbx-1000">main problem </span>is that for shared-memory TLAV frameworks, race conditions may arise when an adjacent
vertex resides on a remote mahcine. Shared-memory TLAV frameworks often ensure memory consistency through
mutual exclusion by requiring serializable schedules. <span class="ecbx-1000">Serializability </span>means that every parallel execution has a
corresponding sequential execution that maintains consistency.
<!--l. 1697--><p class="indent">   The most prominent solutions up to today are:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1699--><p class="noindent">In  GraphLab,  border  vertices  are  provided  locally  cached  ghost  copies  of  remote  neighbors,  where
     consistency between ghosts and the original vertex is maintained using pipelined distributed locking.
     </p></li>
<li class="itemize">
<!--l. 1702--><p class="noindent">In PowerGraph and GiraphX, graphs are partitioned by edges and cut along vertices, where consistency
     across cached mirrors of the cut vertex is maintained using parallel Chandy-Misra locking.</p></li></ul>
<!--l. 1706--><p class="noindent">The reduced overhead of shared memory compared to message passing may lead to 35% faster converges when computing
PageRank on a large web graph.
<!--l. 1710--><p class="noindent">
<h5 class="likesubsubsectionHead"><a id="x1-500005.2.3"></a>Partitioning</h5>
<!--l. 1712--><p class="noindent">Large-scake graphs must be divided into parts to be placed in distributed storage/memory. Good partitions often lead
to improved performance, but expensive strategies to partition can end up dominating processing time, leading many
implementations to incorporate simple strategies, such as random placement.
<!--l. 1718--><p class="indent">   Effective partitioning evenly distributes the vertices for balanced workload while minimizing imterpartition edges to
avoid costly network traffic. This is formally known as a <span class="ecti-1000">k-way graph partitioning</span>, which is a NP-complete problem,
with no fixed-factor approximation.
<!--l. 1723--><p class="indent">   The leading work in graph partitioning can be broadly characterized as rigorous but impractical mathematical
strategies or pragmatic heuristics used in practices, but this is currently an open problem.
<!--l. 1727--><p class="indent">
<h1 class="partHead"><span class="titlemark">Part II<br/></span><a id="x1-51000II"></a>Knowledge Graphs</h1>
<h3 class="sectionHead"><span class="titlemark">6   </span> <a id="x1-520006"></a>Introduction to Knowledge Graphs</h3>
<!--l. 1733--><p class="noindent">In a knowledge graph, every node is represented with a unique identifies and can be universally reffered, i.e., they can
be referred potentially from any other database in the world.
<!--l. 1737--><p class="indent">   Metadata is represented as nodes and edges in the graph.
<!--l. 1739--><p class="indent"> <hr class="figure"/><div class="figure">
<a id="x1-520011"></a>
<!--l. 1741--><p class="noindent"><img alt="PIC" src="22_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado2.png"/>
<br/> <div class="caption"><span class="id">Figure 1: </span><span class="content">Example knowledge graph from <span class="cite">[<a href="#XRomero2023">1</a>]</span>.</span></div><!--tex4ht:label?: x1-520011 -->
<!--l. 1744--><p class="indent"> </p></p></div><hr class="endfigure"/>
<!--l. 1746--><p class="indent">   Knowledge graphs facilitate linking data, because linking via their metadata is much more powerful than by the
characteristics of the instances, and it is a unique feature of their own. In Figure <a href="#x1-520022">2<!--tex4ht:ref: fig:Examples-of-data --></a>, we can see several relationships
between metadata nodes:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1751--><p class="noindent">A subClassOf B indicates that concept A is a subset (more specific) of concept B.
     </p></li>
<li class="itemize">
<!--l. 1753--><p class="noindent">A equivalentClass B indicates that classes A and B represent the same information, even if they are stored
     in different machines.
     </p></li>
<li class="itemize">
<!--l. 1755--><p class="noindent">A equivalent B also indicate equivalence of representation, but in this case it refers to subgraphs of the
     metadata.</p></li></ul>
<!--l. 1758--><p class="noindent"><hr class="figure"/><div class="figure"><a id="x1-520022"></a><img alt="PIC" src="23_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado3.png"/>
<!--l. 1763--><p class="noindent"><img alt="PIC" src="24_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado4.png"/>
<br/> <div class="caption"><span class="id">Figure 2: </span><span class="content">Examples of data linkage from <span class="cite">[<a href="#XRomero2023">1</a>]</span>.</span></div><!--tex4ht:label?: x1-520022 -->
<!--l. 1766--><p class="indent"> </p></p></div><hr class="endfigure"/>
<div class="newtheorem">
<!--l. 1768--><p class="noindent"><span class="head">
<a id="x1-52003r1"></a>
<span class="ecbx-1000">Example 6.1.</span> </span>Assume Knowledge Graph as the canonical data model. First, model as graphs each source
(separately):
     <ol class="enumerate1">
<li class="enumerate" id="x1-52005x1">
<!--l. 1772--><p class="noindent">Model schema and some instances for each source:
     <div class="center">
<!--l. 1773--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-14"><colgroup id="TBL-14-1g"><col id="TBL-14-1"/></colgroup><tr class="hline"><td><hr/></td></tr><tr id="TBL-14-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-14-1-1" style="white-space:nowrap; text-align:center;"> Source 1  </td></tr><tr class="hline"><td><hr/></td></tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-14-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-14-2-1" style="white-space:nowrap; text-align:center;"> User</td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-14-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-14-3-1" style="white-space:nowrap; text-align:center;">   Tweet    </td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-14-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-14-4-1" style="white-space:nowrap; text-align:center;">   Date     </td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-14-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-14-5-1" style="white-space:nowrap; text-align:center;"> Location  </td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-14-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-14-6-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table>
</div><!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-15"><colgroup id="TBL-15-1g"><col id="TBL-15-1"/></colgroup><tr class="hline"><td><hr/></td></tr><tr id="TBL-15-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-15-1-1" style="white-space:nowrap; text-align:center;">    Source 2       </td></tr><tr class="hline"><td><hr/></td></tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-15-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-15-2-1" style="white-space:nowrap; text-align:center;"> Product</td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-15-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-15-3-1" style="white-space:nowrap; text-align:center;"> Product Features  </td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-15-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-15-4-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table>
</div><!--tex4ht:inline--><div class="tabular"> <table class="tabular" id="TBL-16"><colgroup id="TBL-16-1g"><col id="TBL-16-1"/></colgroup><tr class="hline"><td><hr/></td></tr><tr id="TBL-16-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-16-1-1" style="white-space:nowrap; text-align:center;"> Source 3  </td></tr><tr class="hline"><td><hr/></td></tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-16-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-16-2-1" style="white-space:nowrap; text-align:center;"> User</td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-16-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-16-3-1" style="white-space:nowrap; text-align:center;">  Product   </td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-16-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-16-4-1" style="white-space:nowrap; text-align:center;">   Time    </td>
</tr><tr class="hline"><td><hr/></td></tr><tr id="TBL-16-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-16-5-1" style="white-space:nowrap; text-align:center;"> </td>
</tr></table></div>
</p></div>
</p></li>
<li class="enumerate" id="x1-52007x2">
<!--l. 1811--><p class="noindent">Then, relate the metadata from each graph with new edges generating a unique connected graph. For
     this:
                                                                                            
                                                                                            
         <ol class="enumerate2">
<li class="enumerate" id="x1-52009x1">
<!--l. 1814--><p class="noindent">Look for similar or identical concepts.
         </p></li>
<li class="enumerate" id="x1-52011x2">
<!--l. 1815--><p class="noindent">Think of interesting relationships you could exploit later.</p></li></ol>
</p></li></ol>
<!--l. 1818--><p class="noindent">Assume you can use the following pre-defined edges: equivalentClass, type and subClassOf, which embed the semantics
already discussed.
   </p></p></div>
<!--l. 1820--><p class="indent">
A possible solution is the following:
<div class="center">
<!--l. 1822--><p class="noindent">
<!--l. 1823--><p class="noindent"><img alt="PIC" src="25_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_kg.png"/>
</p></p></div>
<!--l. 1826--><p class="indent">   Note that to model the ternary relationship between (User, Product, Time) we needed to add an artificial node.
This is called <span class="ecbx-1000">reification</span>.
   <h5 class="likesubsubsectionHead"><a id="x1-530006"></a>Schema.org</h5>
<!--l. 1831--><p class="noindent">Schema.org is a global initiative to mark up data. It provides a vocabulary of terms and their relationships. Google and
others ahve built their semantic-aware searchers based on schema.org and built huge knowledge graphs based on
it.
<!--l. 1836--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">7   </span> <a id="x1-540007"></a>Resource Description Format (RDF)</h3>
<!--l. 1838--><p class="noindent">RDF is a simple language for describing annotations (facts) about resources. It is the most basic ontology language.
The triples that it uses as basic construct map to first order logic as grounded atomic formulas, and blank nodes map to
existential variables.
<!--l. 1843--><p class="indent">   The basic RDF block is the <span class="ecbx-1000">RDF statement </span>which is a triple representing a binary relationship between two
resources or between a resource and a literal. The syntax is:
<div class="center">
<!--l. 1846--><p class="noindent">
<!--l. 1847--><p class="noindent">&lt;subject predicate object&gt;
</p></p></div>
<!--l. 1850--><p class="indent">   where:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1852--><p class="noindent">subject S has value object O for predicate P.
     </p></li>
<li class="itemize">
<!--l. 1853--><p class="noindent">subject and predicate are resources and must be URIs.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 1854--><p class="noindent">object can be a resource (URI) or a literal (constant value).</p></li></ul>
<!--l. 1856--><p class="noindent">As can be inferred from this, resources are identified by URIs, which are global identifiers. A URI is composed of a URL
and a URN:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1859--><p class="noindent">URN is the Universal Resource Name: id
     </p></li>
<li class="itemize">
<!--l. 1860--><p class="noindent">URL is the Universal Resource Location: where it is</p></li></ul>
<!--l. 1862--><p class="noindent">Many times, we omit the URL for simplicity, and refer to the URI as :URN.
<!--l. 1865--><p class="indent">   A <span class="ecbx-1000">blank node </span>is a resource without a URL (i.e., _).
<!--l. 1867--><p class="indent">   Literals are atomic values such as strings, dates or numbers.
<!--l. 1869--><p class="indent">   We can thus define a <span class="ecbx-1000">RDF graph </span>(or semantic graph) as a set of these RDS statements.
<!--l. 1872--><p class="indent">   To query RDF graph, SPARQL is the de facto language (also for it variants and extensiosn). It is inspired by SQL
but oriented to express graph operations.
   <div class="newtheorem">
<!--l. 1875--><p class="noindent"><span class="head">
<a id="x1-54001r1"></a>
<span class="ecbx-1000">Example 7.1.</span> </span>A RDF graph example.
<!--l. 1878--><p class="indent">   The graph:
<div class="center">
<!--l. 1879--><p class="noindent">
<!--l. 1880--><p class="noindent"><img alt="PIC" src="26_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado5.png"/>
</p></p></div>
<!--l. 1883--><p class="indent">   Can be represented as an RDF like this:
   <!--l. 1885-->
<div class="lstlisting" id="listing-8"><span class="label"><a id="x1-54002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">(:</span></span><span style="color:#000000"><span class="ectt-0800">Dupond</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Leads</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">CSDept</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-54003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">(:</span></span><span style="color:#000000"><span class="ectt-0800">Dupond</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">TeachedIn</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">UE111</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-54004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">(:</span></span><span style="color:#000000"><span class="ectt-0800">Dupond</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">TeachesTo</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Pierre</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-54005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">(:</span></span><span style="color:#000000"><span class="ectt-0800">Pierre</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">EnrolledIn</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">CSDept</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-54006r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800">(:</span></span><span style="color:#000000"><span class="ectt-0800">Pierre</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">RegisteredTo</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">UE111</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-54007r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800">(:</span></span><span style="color:#000000"><span class="ectt-0800">UE111</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">OfferedBy</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">CSDept</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span></div>
</p></p></p></div>
<!--l. 1893--><p class="indent">
Usually, RDF is serialized using the XML format.
<!--l. 1896--><p class="indent">   The rdf URL is a namespace for RDF.
<!--l. 1898--><p class="indent">   Other RDF syntaxes are turtle (which is human-readbale), N-triples or Notation 3.
<!--l. 1901--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">7.1   </span> <a id="x1-550007.1"></a>RDF Modeling</h4>
<!--l. 1903--><p class="noindent">RDF modeling is based on binary relationships, but n-ary relationships may be needed, so blank nodes were presented
as a solution for this. A <span class="ecbx-1000">blank node </span>is a node without a URI, which cannot be referenced and can only be subjects or
objects. Its semantics are not completely clear yet, but their <span class="ecbx-1000">de facto use </span>is as an identifier without a URI. The W3C
position is this regard is to use blank nodes for incomplete data: unknown values or anonymized values. The
de facto use is pragmatic, but good practices discourage their use: all resources should have a proper
URI.
   <div class="newtheorem">
<!--l. 1912--><p class="noindent"><span class="head">
<a id="x1-55001r2"></a>
<span class="ecbx-1000">Example 7.2.</span> </span>Quoting
<!--l. 1915--><p class="indent">   The following use of a blank node:
<div class="center">
<!--l. 1916--><p class="noindent">
<!--l. 1917--><p class="noindent"><img alt="PIC" src="27_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado6.png"/>
</p></p></div>
<!--l. 1920--><p class="indent">   Can be expressed as:
<!--l. 1922--><p class="indent">   :oscar :takes [:course :SDM]
<!--l. 1924--><p class="indent">   This is quoting, which is general is [property object], and the subject is the blank node.
   </p></p></p></p></p></div>
<!--l. 1926--><p class="indent">
Notice that we cannot express neither schema nor additional constraints, such as ’at least one’ or ’at most
three’.
<!--l. 1930--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">7.2   </span> <a id="x1-560007.2"></a>RDF-star</h4>
<!--l. 1932--><p class="noindent">RDF-star in as RDF extension, more comapct and with a predice syntax for reification.
   <div class="newtheorem">
<!--l. 1934--><p class="noindent"><span class="head">
<a id="x1-56001r3"></a>
<span class="ecbx-1000">Example 7.3.</span> </span>The following is RDF-star:
   <!--l. 1937-->
<div class="lstlisting" id="listing-9"><span class="label"><a id="x1-56002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">@prefix</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800">http</span></span><span style="color:#000000"><span class="ectt-0800">://</span></span><span style="color:#000000"><span class="ectt-0800">www</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">example</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">org</span></span><span style="color:#000000"><span class="ectt-0800">/&gt;</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-56003r2"></a><span class="ecrm-0500">2</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-56004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">employee38</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">familyName</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">Smith</span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-56005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">employee22</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">claims</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;&lt;</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">employee38</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">jobTitle</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">Assistant</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Designer</span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&gt;&gt;</span></span></div>
<!--l. 1944--><p class="indent">   Here, we have what is called an <span class="ecbx-1000">embedded triple</span>, and it models the 3-way relationship between (:emp22, :emp38,
“Assistant Designer”).
   </p></p></div>
<!--l. 1946--><p class="indent">
<span class="ecbx-1000">SPARQL-star </span>is an extension of SPARQL to query RDF-star graphs.
<!--l. 1949--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">8   </span> <a id="x1-570008"></a>RDF Schema (RDFS)</h3>
<!--l. 1951--><p class="noindent">RDFS extends RDF to not only consider data instances, but also schema. In this case, we can define classes and
relationships between them, using the same principles as for instances. It defines <span class="ecti-1000">rdfs:</span>, a namespace for RDFS, in which
a set of resources needed to express contraints is defined.
<!--l. 1957--><p class="indent">   RDFS allows to specify the following constraints:
     <ul class="itemize1">
<li class="itemize">
<!--l. 1959--><p class="noindent">Declare resources as instances of certain classes.
         <ul class="itemize2">
<li class="itemize">
<!--l. 1961--><p class="noindent">:Oscar :type :lecturer</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 1963--><p class="noindent">Inclusion statements between classes and between properties, which allow us to define <span class="ecbx-1000">taxonomies</span>.
         <ul class="itemize2">
<li class="itemize">
<!--l. 1966--><p class="noindent">:lecturer :subclassOf :human</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 1968--><p class="noindent">Assert the class of a subject (or an object) of a property
         <ul class="itemize2">
<li class="itemize">
<!--l. 1970--><p class="noindent">The predicate :parentOf must relate instnaces of the class :human. Therefore, any subject/object of
         a triple where :parentOf is the predicate is atumatically asserted as :human.</p></li></ul>
</p></li></ul>
<!--l. 1976--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">8.1   </span> <a id="x1-580008.1"></a>RDFS statements at the schema level</h4>
<ul class="itemize1">
<li class="itemize">
<!--l. 1978--><p class="noindent">Instances:
         <ul class="itemize2">
<li class="itemize">
<!--l. 1980--><p class="noindent">:Oscar rdf:type :Lecturer</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 1982--><p class="noindent">Taxonomies:
         <ul class="itemize2">
<li class="itemize">
<!--l. 1984--><p class="noindent">Classes: :Lecturer rdfs:subclassOf :Human
         </p></li>
<li class="itemize">
<!--l. 1985--><p class="noindent">Relationships: :ResponsibleFor rdfs:subpropertyOf :Lecutres</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 1987--><p class="noindent">Domain and Range:
         <ul class="itemize2">
<li class="itemize">
<!--l. 1989--><p class="noindent">:Lectures rdfs:domain :Human
         </p></li>
<li class="itemize">
<!--l. 1990--><p class="noindent">:Lectures rdfs:range :Course</p></li></ul>
</p></li></ul>
<!--l. 1994--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">8.2   </span> <a id="x1-590008.2"></a>RDFS Core Classes</h4>
<ul class="itemize1">
<li class="itemize">
<!--l. 1996--><p class="noindent"><span class="ecbx-1000">rdfs:Resource</span>: the class of all resources. Everything is a resource.
     </p></li>
<li class="itemize">
<!--l. 1998--><p class="noindent"><span class="ecbx-1000">rdfs:Class</span>: the class of all classes.
     </p></li>
<li class="itemize">
<!--l. 1999--><p class="noindent"><span class="ecbx-1000">rdfs:Literal</span>: the class of all literals.
     </p></li>
<li class="itemize">
<!--l. 2000--><p class="noindent"><span class="ecbx-1000">rdf:Property</span>: the class of all properties.
     </p></li>
<li class="itemize">
<!--l. 2001--><p class="noindent"><span class="ecbx-1000">rdf:Statement</span>: the class of all statements.</p></li></ul>
<!--l. 2003--><p class="noindent">These core classes add another level of abstraction above the metadata layer.
<!--l. 2006--><p class="indent"> <hr class="figure"/><div class="figure">
<a id="x1-590013"></a>
<!--l. 2008--><p class="noindent"><img alt="PIC" src="28_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado7.png"/>
<br/> <div class="caption"><span class="id">Figure 3: </span><span class="content">Three layers of abtraction of RDFS from <span class="cite">[<a href="#XRomero2023">1</a>]</span>. The red arrows are <span class="ecti-1000">rdf:type </span>relationships.</span></div><!--tex4ht:label?: x1-590013 -->
<!--l. 2012--><p class="indent"> </p></p></div><hr class="endfigure"/>
<h4 class="subsectionHead"><span class="titlemark">8.3   </span> <a id="x1-600008.3"></a>RDFS Inference</h4>
<!--l. 2017--><p class="noindent">In RDFS we can infer new instances (knowledge) from the statements created by the users. It is based on <span class="ecbx-1000">rule-based</span>
<span class="ecbx-1000">reasoning </span>and there are two kinds of inference:
     <ul class="itemize1">
<li class="itemize">
<!--l. 2021--><p class="noindent"><span class="ecbx-1000">Core type inference</span>: it infers the type with regards to the core classes of an asserted resource R.
     </p></li>
<li class="itemize">
<!--l. 2023--><p class="noindent"><span class="ecbx-1000">Domain-specific inference</span>: it can be:
         <ul class="itemize2">
<li class="itemize">
<!--l. 2025--><p class="noindent">Inclusion dependencies:
             <ul class="itemize3">
<li class="itemize">
<!--l. 2027--><p class="noindent">If :A rdfs:subclassOf :B and :B rdfs:subclassOf :C then :A rdfs:subclassOf :C.</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 2030--><p class="noindent">Type inference: it infers the type of an asserted resource R with respect to a user created class
         X.</p></li></ul>
</p></li></ul>
<!--l. 2035--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">8.4   </span> <a id="x1-610008.4"></a>RDFS Core Properties</h4>
<ul class="itemize1">
<li class="itemize">
<!--l. 2037--><p class="noindent"><span class="ecbx-1000">rdf:type</span>: relates a resource to its class:
     <div class="center">
<!--l. 2038--><p class="noindent">
<!--l. 2039--><p class="noindent">:oscar rdf:type :lecturer
</p></p></div>
<!--l. 2042--><p class="noindent">The subject resource (:oscar) is declared to be an instance of the object class (:lecturer).
         <ul class="itemize2">
<li class="itemize">
<!--l. 2045--><p class="noindent">The inferred knowledge is:
             <ul class="itemize3">
<li class="itemize">
<!--l. 2047--><p class="noindent">Core type inference: the object is inferred as a Class:
                                                                                            
                                                                                            
             <div class="center">
<!--l. 2048--><p class="noindent">
<!--l. 2049--><p class="noindent">:lecturer rdf:type rdfs:Class
</p></p></div>
</p></li></ul>
</p></li></ul>
</p></p></li>
<li class="itemize">
<!--l. 2053--><p class="noindent"><span class="ecbx-1000">rdfs:subClassOf</span>: relates a class to one of its superclasses:
     <div class="center">
<!--l. 2054--><p class="noindent">
<!--l. 2055--><p class="noindent">:lecturer rdfs:subClassOf :human
</p></p></div>
<div class="center">
<!--l. 2058--><p class="noindent">
<!--l. 2059--><p class="noindent">:oscar rdf:type :lecturer
</p></p></div>
<!--l. 2062--><p class="noindent">The subject and object are declared as classes and any instance of the subject is declared as an instance of the
     object.
         <ul class="itemize2">
<li class="itemize">
<!--l. 2065--><p class="noindent">The inferred knowledge is:
             <ul class="itemize3">
<li class="itemize">
<!--l. 2067--><p class="noindent">Core type inference: the subject and object are inferred as classes:
             <div class="center">
<!--l. 2068--><p class="noindent">
<!--l. 2069--><p class="noindent">:lecturer rdf:type rdfs:Class
</p></p></div>
<div class="center">
<!--l. 2072--><p class="noindent">
<!--l. 2073--><p class="noindent">:human rdf:type rdfs:Class
</p></p></div>
</p></li>
<li class="itemize">
<!--l. 2075--><p class="noindent">Domain specific inference: inclusion dependency:
             <div class="center">
<!--l. 2076--><p class="noindent">
<!--l. 2077--><p class="noindent">:oscar rdf:type :human
</p></p></div>
</p></li></ul>
</p></li></ul>
</p></p></li>
<li class="itemize">
<!--l. 2081--><p class="noindent"><span class="ecbx-1000">rdfs:subPropertyOf</span>: relates a property to one of its superproperties:
     <div class="center">
<!--l. 2082--><p class="noindent">
<!--l. 2083--><p class="noindent">:responsibleFor rdfs:subPropertyOf :lectures
</p></p></div>
<div class="center">
<!--l. 2086--><p class="noindent">
<!--l. 2087--><p class="noindent">:oscar :responsibleFor :OD
</p></p></div>
<!--l. 2090--><p class="noindent">The subject and object resources are declared to be properties and any subject, object related by subject
     predicate are automatically declared as to be related by the object predicate.
         <ul class="itemize2">
<li class="itemize">
<!--l. 2094--><p class="noindent">The inferred knowledge is:
             <ul class="itemize3">
<li class="itemize">
<!--l. 2096--><p class="noindent">Core type inference: the subject and object are inferred as properties:
             <div class="center">
<!--l. 2097--><p class="noindent">
<!--l. 2098--><p class="noindent">:responsibleFor rdf:type rdf:Property
</p></p></div>
<div class="center">
<!--l. 2101--><p class="noindent">
<!--l. 2102--><p class="noindent">:lectures rdf:type rdf:Property
</p></p></div>
</p></li>
<li class="itemize">
<!--l. 2104--><p class="noindent">Domain specific inference: inclusion dependency:
             <div class="center">
<!--l. 2105--><p class="noindent">
<!--l. 2106--><p class="noindent">:oscar :lectures :OD
</p></p></div>
</p></li></ul>
</p></li></ul>
</p></p></li>
<li class="itemize">
<!--l. 2110--><p class="noindent"><span class="ecbx-1000">rdfs:domain</span>: specifies the domain of a property:
     <div class="center">
<!--l. 2111--><p class="noindent">
<!--l. 2112--><p class="noindent">:lectures rdf:domain :lecturer
</p></p></div>
<div class="center">
<!--l. 2115--><p class="noindent">
<!--l. 2116--><p class="noindent">:oscar :lectures :OD
</p></p></div>
<ul class="itemize2">
<li class="itemize">
<!--l. 2119--><p class="noindent">The inferred knowledge is:
             <ul class="itemize3">
<li class="itemize">
<!--l. 2121--><p class="noindent">Core type inference: the subject is declared to be a property and the object is declared to be a
             class:
             <div class="center">
<!--l. 2123--><p class="noindent">
<!--l. 2124--><p class="noindent">:lectures rdf:type rdf:Property
</p></p></div>
<div class="center">
<!--l. 2127--><p class="noindent">
<!--l. 2128--><p class="noindent">:lecturer rdf:type rdfs:Class
</p></p></div>
</p></li>
<li class="itemize">
<!--l. 2130--><p class="noindent">Domain specific inference: type inference:
             <div class="center">
<!--l. 2131--><p class="noindent">
<!--l. 2132--><p class="noindent">:oscar rdf:type :lecturer
</p></p></div>
</p></li></ul>
</p></li></ul>
</p></li>
<li class="itemize">
<!--l. 2136--><p class="noindent"><span class="ecbx-1000">rdfs:range</span>: specifies the range of a property:
                                                                                            
                                                                                            
     <div class="center">
<!--l. 2137--><p class="noindent">
<!--l. 2138--><p class="noindent">:lectures rdf:range :course
</p></p></div>
<div class="center">
<!--l. 2141--><p class="noindent">
<!--l. 2142--><p class="noindent">:oscar :lectures :OD
</p></p></div>
<ul class="itemize2">
<li class="itemize">
<!--l. 2145--><p class="noindent">The inferred knowledge is:
             <ul class="itemize3">
<li class="itemize">
<!--l. 2147--><p class="noindent">Core type inference: the subject is declared to be a proeprty and the object is declared to be a
             class:
             <div class="center">
<!--l. 2149--><p class="noindent">
<!--l. 2150--><p class="noindent">:lectures rdf:type rdf:Property
</p></p></div>
<div class="center">
<!--l. 2153--><p class="noindent">
<!--l. 2154--><p class="noindent">:course rdf:type rdfs:Class
</p></p></div>
</p></li>
<li class="itemize">
<!--l. 2156--><p class="noindent">Domain specific inference: type inference:
             <div class="center">
<!--l. 2157--><p class="noindent">
<!--l. 2158--><p class="noindent">:OD rdf:type :course
</p></p></div>
</p></li></ul>
</p></li></ul>
</p></li></ul>
<div class="newtheorem">
<!--l. 2164--><p class="noindent"><span class="head">
<a id="x1-61001r1"></a>
<span class="ecbx-1000">Example 8.1.</span> </span>An RDFS graph.
<!--l. 2167--><p class="indent">   Consider the graph that we have used many times already:
                                                                                            
                                                                                            
<div class="center">
<!--l. 2168--><p class="noindent">
<!--l. 2169--><p class="noindent"><img alt="PIC" src="1_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_simplegraph.png"/>
</p></p></div>
<!--l. 2172--><p class="indent">   Create a correct RDFS graph capturing as much constraints as possible from it. What triples may you infer from the
asserted RDFS graph?
<!--l. 2175--><p class="indent">   The RDFS graph can be the following:
<div class="center">
<!--l. 2176--><p class="noindent">
<!--l. 2177--><p class="noindent"><img alt="PIC" src="29_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_rdfs.png"/>
</p></p></div>
<!--l. 2180--><p class="indent">   And the instantiation of the data:
<div class="center">
<!--l. 2181--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-17"><colgroup id="TBL-17-1g"><col id="TBL-17-1"/></colgroup><colgroup id="TBL-17-2g"><col id="TBL-17-2"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-1-1" style="white-space:nowrap; text-align:center;">            Instantiation                  </td><td class="td11" id="TBL-17-1-2" style="white-space:normal; text-align:left;"> <!--l. 2185--><p class="noindent">Inference                                                          </p></td></tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-2-1" style="white-space:nowrap; text-align:center;"> :clintEastwood :hasRole :bill </td><td class="td11" id="TBL-17-2-2" style="white-space:normal; text-align:left;"> <!--l. 2189--><p class="noindent">:clintEastwood rdf:type Actor
  <!--l. 2191--><p class="noindent">:bill rdf:type :role
  <!--l. 2193--><p class="noindent">:clintEastwood rdf:type Person                              </p></p></p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-3-1" style="white-space:nowrap; text-align:center;">       :bill :inMovie :Unforgiven           </td><td class="td11" id="TBL-17-3-2" style="white-space:normal; text-align:left;"> <!--l. 2196--><p class="noindent">:bill rdf:type :role
  <!--l. 2198--><p class="noindent">:Unforgiven rdf:type :Movie                                  </p></p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-4-1" style="white-space:nowrap; text-align:center;">     :Ungorgiven :title ’Unforgiven’       </td><td class="td11" id="TBL-17-4-2" style="white-space:normal; text-align:left;"> <!--l. 2201--><p class="noindent">:Unforgiven rdf:type :Movie                                  </p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-5-1" style="white-space:nowrap; text-align:center;"> :clintEastwood :name ’Clint Eastwood’  </td><td class="td11" id="TBL-17-5-2" style="white-space:normal; text-align:left;"> <!--l. 2204--><p class="noindent">:clintEastwood rdf:type :Person                             </p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-6-1" style="white-space:nowrap; text-align:center;">     :clintEastwood :gender :male        </td><td class="td11" id="TBL-17-6-2" style="white-space:normal; text-align:left;"> <!--l. 2207--><p class="noindent">:clintEastwood rdf:type :Person
  <!--l. 2209--><p class="noindent">:male rdf:type :genderClass                                  </p></p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-7-1" style="white-space:nowrap; text-align:center;">         :bill :roleName ’Bill’              </td><td class="td11" id="TBL-17-7-2" style="white-space:normal; text-align:left;"> <!--l. 2212--><p class="noindent">:bill rdf:type :role                                               </p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-8-1" style="white-space:nowrap; text-align:center;">          :bill :red ’IMDB’                </td><td class="td11" id="TBL-17-8-2" style="white-space:normal; text-align:left;"> <!--l. 2215--><p class="noindent">:bill rdf:type :role                                               </p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-9-1" style="white-space:nowrap; text-align:center;">     :annaLevine :hasRole :delilah        </td><td class="td11" id="TBL-17-9-2" style="white-space:normal; text-align:left;"> <!--l. 2218--><p class="noindent">:annaLevine rdf:type :Actor
  <!--l. 2220--><p class="noindent">:delilah rdf:type :role
  <!--l. 2222--><p class="noindent">:annaLevine rdf:type :Person                                </p></p></p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-10-1" style="white-space:nowrap; text-align:center;">     :delilah :inMovie :Unforgiven        </td><td class="td11" id="TBL-17-10-2" style="white-space:normal; text-align:left;"> <!--l. 2225--><p class="noindent">:delilah rdf:type :role
  <!--l. 2227--><p class="noindent">:Unforgiven rdf:type :Movie                                  </p></p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-11-1" style="white-space:nowrap; text-align:center;">   :annaLevine :name ’Anna Levine’     </td><td class="td11" id="TBL-17-11-2" style="white-space:normal; text-align:left;"> <!--l. 2230--><p class="noindent">:annaLevine rdf:type :Person                                </p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-12-1" style="white-space:nowrap; text-align:center;">      :annaLevine :gender :female         </td><td class="td11" id="TBL-17-12-2" style="white-space:normal; text-align:left;"> <!--l. 2233--><p class="noindent">:annaLevine rdf:type :Person
  <!--l. 2235--><p class="noindent">:female rdf:type :genderClass                                </p></p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-13-1" style="white-space:nowrap; text-align:center;">      :delilah :roleName ’Delilah’          </td><td class="td11" id="TBL-17-13-2" style="white-space:normal; text-align:left;"> <!--l. 2238--><p class="noindent">:delilah rdf:type :role                                           </p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-14-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-14-1" style="white-space:nowrap; text-align:center;">         :delilah :ref ’IMDB’               </td><td class="td11" id="TBL-17-14-2" style="white-space:normal; text-align:left;"> <!--l. 2241--><p class="noindent">:delilah rdf:type :role                                           </p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-15-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-15-1" style="white-space:nowrap; text-align:center;">   :clintEastwood :directs :Unforgiven    </td><td class="td11" id="TBL-17-15-2" style="white-space:normal; text-align:left;"> <!--l. 2244--><p class="noindent">:clintEastwood rdf:type :Director
  <!--l. 2246--><p class="noindent">:Unforgiven rdf:type :Movie
  <!--l. 2248--><p class="noindent">:clintEastwood rdf:type Person                              </p></p></p></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-17-16-" style="vertical-align:baseline;"><td class="td11" id="TBL-17-16-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
</p></p></p></p></p></div>
<!--l. 2252--><p class="indent">
<!--l. 2254--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">8.5   </span> <a id="x1-620008.5"></a>SPARQL</h4>
<!--l. 2256--><p class="noindent">SPARQL Protocol And RDF Query Language (SPARQL) is the standard query language for RDF(S) graphs, being also
a W3C recommendation and supporting RDFS and OWL under specific entailments.
<!--l. 2260--><p class="indent">   SPARQL is based on navigational pattern matching, and simple RDF graphs are used as query patterns. The
semantics applied are homomorphism semantics.
   <div class="newtheorem">
<!--l. 2263--><p class="noindent"><span class="head">
<a id="x1-62001r2"></a>
<span class="ecbx-1000">Example 8.2.</span> </span>A simple query:
   <!--l. 2266-->
<div class="lstlisting" id="listing-10"><span class="label"><a id="x1-62002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">z</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Lectures</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">TaughtIn</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">z</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62006r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">z</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Faculty</span></span></div>
</p></div>
<!--l. 2273--><p class="indent">
SPARQL has 4 basic forms that retrive either result sets or RDF graphs:
     <ul class="itemize1">
<li class="itemize">
<!--l. 2276--><p class="noindent">SELECT: returns all, or a subset of, the variables bound in a query pattern match.
     </p></li>
<li class="itemize">
<!--l. 2278--><p class="noindent">CONSTRUCT: returns an RDF graph constructed by substituting variables in a set of triple templates.
     </p></li>
<li class="itemize">
<!--l. 2280--><p class="noindent">ASK: returns a boolean indicating whether a query pattern is matched or not.
     </p></li>
<li class="itemize">
<!--l. 2282--><p class="noindent">DESCRIBE: returns an RDF graph that describes the resources found.</p></li></ul>
<!--l. 2284--><p class="noindent">A <span class="ecbx-1000">SPARQL Endpoint </span>is an endpoint accepting SPARQL queries and returning the results via HTTP.
   <div class="newtheorem">
<!--l. 2286--><p class="noindent"><span class="head">
<a id="x1-62007r3"></a>
<span class="ecbx-1000">Example 8.3.</span> </span>A more complete example:
   <!--l. 2289-->
<div class="lstlisting" id="listing-11"><span class="label"><a id="x1-62008r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">PREFIX</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">fib</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800">http</span></span><span style="color:#000000"><span class="ectt-0800">://</span></span><span style="color:#000000"><span class="ectt-0800">www</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">fib</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">edu</span></span><span style="color:#000000"><span class="ectt-0800">/</span></span><span style="color:#000000"><span class="ectt-0800">elements</span></span><span style="color:#000000"><span class="ectt-0800">/&gt;</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62009r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">lecturer</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">course</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62010r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62011r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62012r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">lecturer</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">fib</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">lectures</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">course</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62013r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span></div>
<!--l. 2298--><p class="indent">   This query is equivalent to: SELECT x,y WHERE x LECTURES y.
   </p></p></div>
<!--l. 2299--><p class="indent">
SPARQL allows property paths based on regular expressions.
   <div class="newtheorem">
<!--l. 2301--><p class="noindent"><span class="head">
<a id="x1-62014r4"></a>
<span class="ecbx-1000">Example 8.4.</span> </span>Take into account the following graph:
<div class="center">
<!--l. 2303--><p class="noindent">
<!--l. 2304--><p class="noindent"><img alt="PIC" src="30_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado8.png"/>
</p></p></div>
<!--l. 2307--><p class="indent">   And write the following queries, assuming no entailment regime:
                                                                                            
                                                                                            
   </p></p></div>
<!--l. 2308--><p class="indent">
<ol class="enumerate1">
<li class="enumerate" id="x1-62016x1">
<!--l. 2310--><p class="noindent">Get the name of all actors that participated in Juno:
     <!--l. 2312-->
<div class="lstlisting" id="listing-12"><span class="label"><a id="x1-62017r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">PREFIX</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800">url</span></span><span style="color:#000000"><span class="ectt-0800">&gt;</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62018r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62019r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62020r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62021r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">juno</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">stars</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">actor</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62022r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">actor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62023r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span></div>
</p></li>
<li class="enumerate" id="x1-62025x2">
<!--l. 2322--><p class="noindent">Get the name of all directors:
     <!--l. 2324-->
<div class="lstlisting" id="listing-13"><span class="label"><a id="x1-62026r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">PREFIX</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800">url</span></span><span style="color:#000000"><span class="ectt-0800">&gt;</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62027r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62028r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62029r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62030r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">dir</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Director</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62031r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">dir</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62032r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62033r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800">UNION</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62034r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62035r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62036r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62037r12"></a><span class="ecrm-0500">12</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">dir</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">directs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62038r13"></a><span class="ecrm-0500">13</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">dir</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62039r14"></a><span class="ecrm-0500">14</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span></div>
</p></li>
<li class="enumerate" id="x1-62041x3">
<!--l. 2341--><p class="noindent">Get the name of all persons:
     <!--l. 2343-->
<div class="lstlisting" id="listing-14"><span class="label"><a id="x1-62042r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">PREFIX</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800">url</span></span><span style="color:#000000"><span class="ectt-0800">&gt;</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62043r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62044r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62045r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62046r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">person</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">name</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62047r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span></div>
</p></li>
<li class="enumerate" id="x1-62049x4">
<!--l. 2352--><p class="noindent">Get the title of all movies:
     <!--l. 2354-->
<div class="lstlisting" id="listing-15"><span class="label"><a id="x1-62050r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">PREFIX</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">&lt;</span></span><span style="color:#000000"><span class="ectt-0800">url</span></span><span style="color:#000000"><span class="ectt-0800">&gt;</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62051r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">title</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62052r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62053r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62054r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">movie</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">mov</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">title</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">title</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62055r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">movie</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">movie</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-62056r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span></div>
</p></li></ol>
<!--l. 2366--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">8.5.1   </span> <a id="x1-630008.5.1"></a>Entailment Regimes</h5>
<!--l. 2368--><p class="noindent">The most basic entailment regime supported by SPARQL is <span class="ecbx-1000">simple entailment</span>, in which graph patterns are evaluated
by means of pattern matching under homomorphism semantics.
<!--l. 2372--><p class="indent">   Nonetheless, more elaborate entailment relations have been developed, to retrieve solutions that are logical
consequences of the axioms asserted. The most popular ones are RDFS entailment and OWL 2 RDF-Based Semantics
entailment.
                                                                                            
                                                                                            
<!--l. 2377--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">8.6   </span> <a id="x1-640008.6"></a>RDFS Inference Rules</h4>
<!--l. 2379--><p class="noindent">The RDFS entailment rules are presented in the following table:
<div class="center">
<!--l. 2380--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-18"><colgroup id="TBL-18-1g"><col id="TBL-18-1"/></colgroup><colgroup id="TBL-18-2g"><col id="TBL-18-2"/></colgroup><colgroup id="TBL-18-3g"><col id="TBL-18-3"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-1-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-18-1-2" style="white-space:normal; text-align:left;"> <!--l. 2384--><p class="noindent">If S contains                                                      </p></td><td class="td11" id="TBL-18-1-3" style="white-space:nowrap; text-align:center;"> Then S RDFS entails recognizing D:  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-2-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs1  </span></td><td class="td11" id="TBL-18-2-2" style="white-space:normal; text-align:left;"> <!--l. 2389--><p class="noindent">any IRI a in D                                                   </p></td><td class="td11" id="TBL-18-2-3" style="white-space:nowrap; text-align:center;">      a <span id="textcolor4">rdf:type rdfs:Datatype</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-3-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs2  </span></td><td class="td11" id="TBL-18-3-2" style="white-space:normal; text-align:left;"> <!--l. 2393--><p class="noindent">a <span id="textcolor5">rdfs:domain</span> x.
  <!--l. 2395--><p class="noindent">y a z.                                                               </p></p></td><td class="td11" id="TBL-18-3-3" style="white-space:nowrap; text-align:center;">           y <span id="textcolor6">rdf:type</span> x                  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-4-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs3  </span></td><td class="td11" id="TBL-18-4-2" style="white-space:normal; text-align:left;"> <!--l. 2399--><p class="noindent">a <span id="textcolor7">rdfs:range</span> x.
  <!--l. 2401--><p class="noindent">y a z                                                                </p></p></td><td class="td11" id="TBL-18-4-3" style="white-space:nowrap; text-align:center;">           z <span id="textcolor8">rdf:type</span> x                  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-5-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs4a  </span></td><td class="td11" id="TBL-18-5-2" style="white-space:normal; text-align:left;"> <!--l. 2405--><p class="noindent">x a y                                                               </p></td><td class="td11" id="TBL-18-5-3" style="white-space:nowrap; text-align:center;">      x <span id="textcolor9">rdf:type rdfs:Resource</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-6-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs4b  </span></td><td class="td11" id="TBL-18-6-2" style="white-space:normal; text-align:left;"> <!--l. 2409--><p class="noindent">x a y                                                               </p></td><td class="td11" id="TBL-18-6-3" style="white-space:nowrap; text-align:center;">      y <span id="textcolor10">rdf:type rdfs:Resource</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-7-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs5  </span></td><td class="td11" id="TBL-18-7-2" style="white-space:normal; text-align:left;"> <!--l. 2413--><p class="noindent">x <span id="textcolor11">rdfs:subPropertyOf</span> y.
  <!--l. 2415--><p class="noindent">y <span id="textcolor12">rdfs:subPropertyOf</span> z                                        </p></p></td><td class="td11" id="TBL-18-7-3" style="white-space:nowrap; text-align:center;">       x <span id="textcolor13">rdfs:subPropertyOf</span> z           </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-8-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs6  </span></td><td class="td11" id="TBL-18-8-2" style="white-space:normal; text-align:left;"> <!--l. 2419--><p class="noindent">x <span id="textcolor14">rdf:type</span> <span id="textcolor15">rdf:Property</span> </p></td><td class="td11" id="TBL-18-8-3" style="white-space:nowrap; text-align:center;">       x <span id="textcolor16">rdfs:subPropertyOf</span> x           </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-9-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs7  </span></td><td class="td11" id="TBL-18-9-2" style="white-space:normal; text-align:left;"> <!--l. 2423--><p class="noindent">a <span id="textcolor17">rdfs:subPropertyOf</span> b.
  <!--l. 2425--><p class="noindent">x a y                                                               </p></p></td><td class="td11" id="TBL-18-9-3" style="white-space:nowrap; text-align:center;">              x b y                      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-10-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs8  </span></td><td class="td11" id="TBL-18-10-2" style="white-space:normal; text-align:left;"> <!--l. 2429--><p class="noindent">x <span id="textcolor18">rdf:type rdfs:Class</span> </p></td><td class="td11" id="TBL-18-10-3" style="white-space:nowrap; text-align:center;">   x <span id="textcolor19">rdfs:subClassOf</span> <span id="textcolor20">rdfs:Resource</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-11-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs9  </span></td><td class="td11" id="TBL-18-11-2" style="white-space:normal; text-align:left;"> <!--l. 2433--><p class="noindent">x <span id="textcolor21">rdfs:subClassOf</span> y.
  <!--l. 2435--><p class="noindent">z <span id="textcolor22">rdf:type</span> x                                                       </p></p></td><td class="td11" id="TBL-18-11-3" style="white-space:nowrap; text-align:center;">           z <span id="textcolor23">rdf:type</span> y                  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-12-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs10  </span></td><td class="td11" id="TBL-18-12-2" style="white-space:normal; text-align:left;"> <!--l. 2439--><p class="noindent">x <span id="textcolor24">rdf:type rdfs:Class</span> </p></td><td class="td11" id="TBL-18-12-3" style="white-space:nowrap; text-align:center;">        x <span id="textcolor25">rdfs:subClassOf</span> x             </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-13-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs11  </span></td><td class="td11" id="TBL-18-13-2" style="white-space:normal; text-align:left;"> <!--l. 2443--><p class="noindent">x <span id="textcolor26">rdfs:subClassOf</span> y.
  <!--l. 2445--><p class="noindent">y <span id="textcolor27">rdfs:subClassOf</span> z                                             </p></p></td><td class="td11" id="TBL-18-13-3" style="white-space:nowrap; text-align:center;">        x <span id="textcolor28">rdfs:subClassOf</span> z             </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-14-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-14-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs12  </span></td><td class="td11" id="TBL-18-14-2" style="white-space:normal; text-align:left;"> <!--l. 2449--><p class="noindent">x <span id="textcolor29">rdf:type rdfs:ContainerMembershipProperty</span> </p></td><td class="td11" id="TBL-18-14-3" style="white-space:nowrap; text-align:center;">  x <span id="textcolor30">rdfs:subPropertyOf</span> <span id="textcolor31">rdfs:Member</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-15-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-15-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs13  </span></td><td class="td11" id="TBL-18-15-2" style="white-space:normal; text-align:left;"> <!--l. 2453--><p class="noindent">x <span id="textcolor32">rdf:type rdfs:Datatype</span> </p></td><td class="td11" id="TBL-18-15-3" style="white-space:nowrap; text-align:center;">    x <span id="textcolor33">rdfs:subClassOf</span> <span id="textcolor34">rdfs:Literal</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-18-16-" style="vertical-align:baseline;"><td class="td11" id="TBL-18-16-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 2459--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">8.6.1   </span> <a id="x1-650008.6.1"></a>The RDFS Paradox</h5>
<!--l. 2461--><p class="noindent">The Russel’s Paradox is a theoretical paradox that arises within a naïve set theory, by considering the set of all sets
that are not members of themselves. This paradox arises in RDFS. This means that the RDFS regime
entailment is flawed, and the reason is that the RDFS core classes and properties are ill-defined. The problems
are:
     <ul class="itemize1">
<li class="itemize">
<!--l. 2467--><p class="noindent">rdfs:Class is an instance of itself. This allows the possibility of having inifinitely many layers of classes.
     </p></li>
<li class="itemize">
<!--l. 2469--><p class="noindent">rdfs:Resource is a superclass and an instance of rdfs:Class at the same time.
     </p></li>
<li class="itemize">
<!--l. 2471--><p class="noindent">rdfs:subClassOf, rdf:type, rdfs:Range and rdfs:Domain are both used to define the other RDFS primitives
     and the user metadata.</p></li></ul>
<!--l. 2474--><p class="noindent">The SPARQL community rethought the RDFS metamodel to introduce <span class="ecbx-1000">fix-point reasoning</span>, disallowing for infinite
inference loops, and having elements organized in a strict order, i.e., an element cannot be an element and a set at the
same time, and no element can be placed twice in a taxonomy at different levels. This gave birth to the <span class="ecbx-1000">modified</span>
<span class="ecbx-1000">RDFS Entailment Regime</span>:
<div class="center">
<!--l. 2480--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-19"><colgroup id="TBL-19-1g"><col id="TBL-19-1"/></colgroup><colgroup id="TBL-19-2g"><col id="TBL-19-2"/></colgroup><colgroup id="TBL-19-3g"><col id="TBL-19-3"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-1-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-19-1-2" style="white-space:normal; text-align:left;"> <!--l. 2484--><p class="noindent">If S contains                                                      </p></td><td class="td11" id="TBL-19-1-3" style="white-space:nowrap; text-align:center;"> Then S RDFS entails recognizing D:  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-2-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs1  </span></td><td class="td11" id="TBL-19-2-2" style="white-space:normal; text-align:left;"> <!--l. 2489--><p class="noindent">any IRI a in D                                                   </p></td><td class="td11" id="TBL-19-2-3" style="white-space:nowrap; text-align:center;">      a <span id="textcolor35">rdf:type rdfs:Datatype</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-3-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs2  </span></td><td class="td11" id="TBL-19-3-2" style="white-space:normal; text-align:left;"> <!--l. 2493--><p class="noindent">a <span id="textcolor36">rdfs:domain</span> x.
  <!--l. 2495--><p class="noindent">y a z.                                                               </p></p></td><td class="td11" id="TBL-19-3-3" style="white-space:nowrap; text-align:center;">           y <span id="textcolor37">rdf:type</span> x                  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-4-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs3  </span></td><td class="td11" id="TBL-19-4-2" style="white-space:normal; text-align:left;"> <!--l. 2499--><p class="noindent">a <span id="textcolor38">rdfs:range</span> x.
  <!--l. 2501--><p class="noindent">y a z                                                                </p></p></td><td class="td11" id="TBL-19-4-3" style="white-space:nowrap; text-align:center;">           z <span id="textcolor39">rdf:type</span> x                  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-5-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs4a  </span></td><td class="td11" id="TBL-19-5-2" style="white-space:normal; text-align:left;"> <!--l. 2505--><p class="noindent">x a y                                                               </p></td><td class="td11" id="TBL-19-5-3" style="white-space:nowrap; text-align:center;">      x <span id="textcolor40">rdf:type rdfs:Resource</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-6-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs4b  </span></td><td class="td11" id="TBL-19-6-2" style="white-space:normal; text-align:left;"> <!--l. 2509--><p class="noindent">x a y                                                               </p></td><td class="td11" id="TBL-19-6-3" style="white-space:nowrap; text-align:center;">      y <span id="textcolor41">rdf:type rdfs:Resource</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-7-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs5  </span></td><td class="td11" id="TBL-19-7-2" style="white-space:normal; text-align:left;"> <!--l. 2513--><p class="noindent">x <span id="textcolor42">rdfs:subPropertyOf</span> y.
  <!--l. 2515--><p class="noindent">y <span id="textcolor43">rdfs:subPropertyOf</span> z                                        </p></p></td><td class="td11" id="TBL-19-7-3" style="white-space:nowrap; text-align:center;">       x <span id="textcolor44">rdfs:subPropertyOf</span> z           </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-8-1" style="white-space:nowrap; text-align:center;"> <span id="textcolor45"><span class="xout"><span class="underline"><span class="ecbx-1000">rdfs6</span></span></span></span> </td><td class="td11" id="TBL-19-8-2" style="white-space:normal; text-align:left;"> <!--l. 2519--><p class="noindent"><span id="textcolor46"><span class="xout"><span class="underline">x rdf:type rdf:Property</span></span></span> </p></td><td class="td11" id="TBL-19-8-3" style="white-space:nowrap; text-align:center;"> <span id="textcolor47"><span class="xout"><span class="underline">x rdfs:subPropertyOf x</span></span></span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-9-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs7  </span></td><td class="td11" id="TBL-19-9-2" style="white-space:normal; text-align:left;"> <!--l. 2523--><p class="noindent">a <span id="textcolor48">rdfs:subPropertyOf</span> b.
  <!--l. 2525--><p class="noindent">x a y                                                               </p></p></td><td class="td11" id="TBL-19-9-3" style="white-space:nowrap; text-align:center;">              x b y                      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-10-1" style="white-space:nowrap; text-align:center;"> <span id="textcolor49"><span class="xout"><span class="underline"><span class="ecbx-1000">rdfs8</span></span></span></span> </td><td class="td11" id="TBL-19-10-2" style="white-space:normal; text-align:left;"> <!--l. 2529--><p class="noindent"><span id="textcolor50"><span class="xout"><span class="underline">x rdf:type rdfs:Class</span></span></span> </p></td><td class="td11" id="TBL-19-10-3" style="white-space:nowrap; text-align:center;"> <span id="textcolor51"><span class="xout"><span class="underline">x rdfs:subClassOf rdfs:Resource</span></span></span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-11-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs9  </span></td><td class="td11" id="TBL-19-11-2" style="white-space:normal; text-align:left;"> <!--l. 2533--><p class="noindent">x <span id="textcolor52">rdfs:subClassOf</span> y.
  <!--l. 2535--><p class="noindent">z <span id="textcolor53">rdf:type</span> x                                                       </p></p></td><td class="td11" id="TBL-19-11-3" style="white-space:nowrap; text-align:center;">           z <span id="textcolor54">rdf:type</span> y                  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-12-1" style="white-space:nowrap; text-align:center;"> <span id="textcolor55"><span class="xout"><span class="underline"><span class="ecbx-1000">rdfs10</span></span></span></span> </td><td class="td11" id="TBL-19-12-2" style="white-space:normal; text-align:left;"> <!--l. 2539--><p class="noindent"><span id="textcolor56"><span class="xout"><span class="underline">x rdf:type rdfs:Class</span></span></span> </p></td><td class="td11" id="TBL-19-12-3" style="white-space:nowrap; text-align:center;"> <span id="textcolor57"><span class="xout"><span class="underline">x rdfs:subClassOf x</span></span></span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-13-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs11  </span></td><td class="td11" id="TBL-19-13-2" style="white-space:normal; text-align:left;"> <!--l. 2543--><p class="noindent">x <span id="textcolor58">rdfs:subClassOf</span> y.
  <!--l. 2545--><p class="noindent">y <span id="textcolor59">rdfs:subClassOf</span> z                                             </p></p></td><td class="td11" id="TBL-19-13-3" style="white-space:nowrap; text-align:center;">        x <span id="textcolor60">rdfs:subClassOf</span> z             </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-14-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-14-1" style="white-space:nowrap; text-align:center;"> <span id="textcolor61"><span class="xout"><span class="underline"><span class="ecbx-1000">rdfs12</span></span></span></span> </td><td class="td11" id="TBL-19-14-2" style="white-space:normal; text-align:left;"> <!--l. 2549--><p class="noindent"><span id="textcolor62"><span class="xout"><span class="underline">x rdf:type rdfs:ContainerMembershipProperty</span></span></span> </p></td><td class="td11" id="TBL-19-14-3" style="white-space:nowrap; text-align:center;"> <span id="textcolor63"><span class="xout"><span class="underline">x rdfs:subPropertyOf rdfs:Member</span></span></span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-15-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-15-1" style="white-space:nowrap; text-align:center;"> <span class="ecbx-1000">rdfs13  </span></td><td class="td11" id="TBL-19-15-2" style="white-space:normal; text-align:left;"> <!--l. 2553--><p class="noindent">x <span id="textcolor64">rdf:type rdfs:Datatype</span> </p></td><td class="td11" id="TBL-19-15-3" style="white-space:nowrap; text-align:center;">    x <span id="textcolor65">rdfs:subClassOf</span> <span id="textcolor66">rdfs:Literal</span> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-19-16-" style="vertical-align:baseline;"><td class="td11" id="TBL-19-16-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 2559--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">9   </span> <a id="x1-660009"></a>Ontology Languages: Description Logics</h3>
<div class="tcolorbox tcolorbox" id="tcolobox-3">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2562--><p class="noindent"><span class="head">
<a id="x1-66001r1"></a>
<span class="ecbx-1000">Definition 9.1.</span> </span>A <span class="ecbx-1000">ontology </span>is a formal description of a domain in terms of the concepts and roles
or properties between them. More precisely, it is a controlled vocabulary or schema, usually called the
<span class="ecbx-1000">TBOX</span>, with aligned instances, or <span class="ecbx-1000">ABOX</span>.
<!--l. 2568--><p class="noindent">The TBOX and ABOX assertions are described with formal semantics and, based on its formal semantics,
it defines inference rules, based on some kind of reasoning.
</p></p></div>
<!--l. 2571--><p class="noindent">
</p></div>
</div>
<!--l. 2574--><p class="noindent">Note that RDF graphs are not ontologies and that RDFS are ontologies only if we take care of making them to be, by
following the good practices. OWL graphs (we will see them later) are forced to be ontologies.
<!--l. 2578--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">9.1   </span> <a id="x1-670009.1"></a>Logic Based Ontology Languages</h4>
<!--l. 2580--><p class="noindent">First Order Logic (FOL) is suitable for knowledge representation, since classes can be represented as
unary predicates, properties/relationship as binary predicates and constraints as logical formulas using the
predicates.
<!--l. 2585--><p class="indent">   Nonetheless, we must take into consideration of undecidability problem: there is no algorithm that
determines if a FOL formula implies another. Therefore, we have to work with decidable fragments of
FOL:
     <ul class="itemize1">
<li class="itemize">
<!--l. 2589--><p class="noindent"><span class="ecbx-1000">Description logics</span>: binary predicates with bounded number of variables.
                                                                                            
                                                                                            
     </p></li>
<li class="itemize">
<!--l. 2591--><p class="noindent"><span class="ecbx-1000">Datalog</span>: Horn-clauses.</p></li></ul>
<!--l. 2593--><p class="noindent">The characteristics of these are summarized in the following table:
<div class="center">
<!--l. 2594--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-20"><colgroup id="TBL-20-1g"><col id="TBL-20-1"/></colgroup><colgroup id="TBL-20-2g"><col id="TBL-20-2"/></colgroup><colgroup id="TBL-20-3g"><col id="TBL-20-3"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-20-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-20-1-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-20-1-2" style="white-space:nowrap; text-align:center;">         Datalog              </td><td class="td11" id="TBL-20-1-3" style="white-space:nowrap; text-align:center;">      Description Logics         </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-20-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-20-2-1" style="white-space:nowrap; text-align:center;">    Focus       </td><td class="td11" id="TBL-20-2-2" style="white-space:nowrap; text-align:center;">        Instances             </td><td class="td11" id="TBL-20-2-3" style="white-space:nowrap; text-align:center;">         Knowledge              </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-20-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-20-3-1" style="white-space:nowrap; text-align:center;">   Approach    </td><td class="td11" id="TBL-20-3-2" style="white-space:nowrap; text-align:center;">       Centralized           </td><td class="td11" id="TBL-20-3-3" style="white-space:nowrap; text-align:center;">        Decentralized            </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-20-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-20-4-1" style="white-space:nowrap; text-align:center;">  Reasoning    </td><td class="td11" id="TBL-20-4-2" style="white-space:nowrap; text-align:center;"> Closed-World Assumption  </td><td class="td11" id="TBL-20-4-3" style="white-space:nowrap; text-align:center;">   Open-World Assumption     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-20-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-20-5-1" style="white-space:nowrap; text-align:center;"> Unique name  </td><td class="td11" id="TBL-20-5-2" style="white-space:nowrap; text-align:center;"> Unique name assumption  </td><td class="td11" id="TBL-20-5-3" style="white-space:nowrap; text-align:center;"> Non-unique name assumption  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-20-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-20-6-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 2621--><p class="indent">   The open-world assumption implies that everything can be true, unless the opposite is explicitly indicated.
<!--l. 2624--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">9.2   </span> <a id="x1-680009.2"></a>TBOX</h4>
<!--l. 2626--><p class="noindent">A TBOX is characterized by a set of constructs for building complex concepts and roles from atomic
ones.
     <ul class="itemize1">
<li class="itemize">
<!--l. 2629--><p class="noindent"><span class="ecbx-1000">Concepts </span>correspond to classes.
     </p></li>
<li class="itemize">
<!--l. 2630--><p class="noindent"><span class="ecbx-1000">Roles </span>correspond to relationships.</p></li></ul>
<!--l. 2632--><p class="noindent">Then, the TBOX defines the terminology of the domain, with formal semantics given in terms of interpretations:
   <div class="tcolorbox tcolorbox" id="tcolobox-4">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2636--><p class="noindent"><span class="head">
<a id="x1-68001r2"></a>
<span class="ecbx-1000">Definition 9.2.</span> </span>An <span class="ecbx-1000">interpretation </span><span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span><span class="cmr-10">= </span><img align="middle" alt="( I  I)
 Δ ,⋅" class="left" src="summary78x.png"/> consists of a nonempty set <span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>, the <span class="ecbx-1000">domain </span>of <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"/></span>, and an
<span class="ecbx-1000">interpretation function </span><span class="cmsy-10">⋅</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>, which maps:
        <ul class="itemize1">
<li class="itemize">
<!--l. 2642--><p class="noindent">Each individual, i.e., each element in the real world that we want to represent, <span class="cmmi-10">a </span>to an element
        <span class="cmmi-10">a</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">∈ </span><span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>.
        </p></li>
<li class="itemize">
<!--l. 2644--><p class="noindent">Each atomic concept <span class="cmmi-10">A </span>to a subset <span class="cmmi-10">A</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">⊂ </span><span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>.
        </p></li>
<li class="itemize">
<!--l. 2645--><p class="noindent">Each atomic role <span class="cmmi-10">P </span>to a subset <span class="cmmi-10">P</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">⊂ </span><span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">× </span><span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>.</p></li></ul>
</p></div>
<!--l. 2647--><p class="noindent">
</p></div>
</div>
<!--l. 2650--><p class="indent">   With these basic pieces, we can construct more complex concepts:
<div class="center">
<!--l. 2651--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-21"><colgroup id="TBL-21-1g"><col id="TBL-21-1"/></colgroup><colgroup id="TBL-21-2g"><col id="TBL-21-2"/></colgroup><colgroup id="TBL-21-3g"><col id="TBL-21-3"/></colgroup><colgroup id="TBL-21-4g"><col id="TBL-21-4"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-1-1" style="white-space:nowrap; text-align:center;">          Construct                </td><td class="td11" id="TBL-21-1-2" style="white-space:nowrap; text-align:center;"> Syntax  </td><td class="td11" id="TBL-21-1-3" style="white-space:nowrap; text-align:center;">          Semantics                </td><td class="td11" id="TBL-21-1-4" style="white-space:nowrap; text-align:center;">    Example      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-2-1" style="white-space:nowrap; text-align:center;">        atomic concept             </td><td class="td11" id="TBL-21-2-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">A    </span></td><td class="td11" id="TBL-21-2-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">A</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">⊂ </span><span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> </td><td class="td11" id="TBL-21-2-4" style="white-space:nowrap; text-align:center;">     Doctor       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-3-1" style="white-space:nowrap; text-align:center;">          atomic role               </td><td class="td11" id="TBL-21-3-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">P     </span></td><td class="td11" id="TBL-21-3-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">P</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">⊂ </span><span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">× </span><span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> </td><td class="td11" id="TBL-21-3-4" style="white-space:nowrap; text-align:center;">    hasChild      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-4-1" style="white-space:nowrap; text-align:center;">        atomic negation            </td><td class="td11" id="TBL-21-4-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">¬</span><span class="cmmi-10">A    </span></td><td class="td11" id="TBL-21-4-3" style="white-space:nowrap; text-align:center;"> <span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">\ </span><span class="cmmi-10">A</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> </td><td class="td11" id="TBL-21-4-4" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">¬</span>Doctor      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-5-1" style="white-space:nowrap; text-align:center;">         conjunction               </td><td class="td11" id="TBL-21-5-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C </span><span class="cmsy-10">⊓ </span><span class="cmmi-10">D  </span></td><td class="td11" id="TBL-21-5-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">∩ </span><span class="cmmi-10">D</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> </td><td class="td11" id="TBL-21-5-4" style="white-space:nowrap; text-align:center;">  Human<span class="cmsy-10">⊓</span>Male   </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-6-1" style="white-space:nowrap; text-align:center;"> unqualified existence restriction  </td><td class="td11" id="TBL-21-6-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∃</span><span class="cmmi-10">R    </span></td><td class="td11" id="TBL-21-6-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{              I}
  a|∃b : (a,b) ∈ R" class="left" src="summary79x.png"/> </td><td class="td11" id="TBL-21-6-4" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∃</span>hasChild     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-7-1" style="white-space:nowrap; text-align:center;">        value restriction            </td><td class="td11" id="TBL-21-7-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∀</span><span class="cmmi-10">R.C   </span></td><td class="td11" id="TBL-21-7-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{             I          I}
  a|∀b,(a,b) ∈ R  =⇒  b ∈ C" class="left" src="summary80x.png"/> </td><td class="td11" id="TBL-21-7-4" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∀</span>hasChild.Male  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-8-1" style="white-space:nowrap; text-align:center;">           bottom                  </td><td class="td11" id="TBL-21-8-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">⊥  </span></td><td class="td11" id="TBL-21-8-3" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∅          </span></td><td class="td11" id="TBL-21-8-4" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-21-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-21-9-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 2698--><p class="indent">   In this table, <span class="cmmi-10">C </span>and <span class="cmmi-10">D </span>denote arbitrary concepts, i.e., a combination of atomic concepts through
appropriate constructs, and <span class="cmmi-10">R </span>an arbitrary role, i.e., a combination of atomic roles through appropriate
constructs.
<!--l. 2702--><p class="indent">   The combination of these constructrs form the basic language <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"/></img></span> of the family of <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"/></img></span> languages. However, this can
be extended, adding new constructs:
<div class="center">
<!--l. 2705--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-22"><colgroup id="TBL-22-1g"><col id="TBL-22-1"/></colgroup><colgroup id="TBL-22-2g"><col id="TBL-22-2"/></colgroup><colgroup id="TBL-22-3g"><col id="TBL-22-3"/></colgroup><colgroup id="TBL-22-4g"><col id="TBL-22-4"/></colgroup><colgroup id="TBL-22-5g"><col id="TBL-22-5"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-1-1" style="white-space:nowrap; text-align:center;">         Construct              </td><td class="td11" id="TBL-22-1-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"/></img></span><span class="cmsy-10">⋅ </span></td><td class="td11" id="TBL-22-1-3" style="white-space:nowrap; text-align:center;">   Syntax    </td><td class="td11" id="TBL-22-1-4" style="white-space:nowrap; text-align:center;">            Semantics                    </td><td class="td11" id="TBL-22-1-5" style="white-space:nowrap; text-align:center;">                 Example                          </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-2-1" style="white-space:nowrap; text-align:center;">         disjunction              </td><td class="td11" id="TBL-22-2-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="U" class="10x-x-55" src="cmsy10-55.png"> </img></span></td><td class="td11" id="TBL-22-2-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C </span><span class="cmsy-10">⊔ </span><span class="cmmi-10">D    </span></td><td class="td11" id="TBL-22-2-4" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">∪ </span><span class="cmmi-10">D</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> </td><td class="td11" id="TBL-22-2-5" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(Human  ⊓ Doctor)" class="left" src="summary81x.png"/> <span class="cmsy-10">⊔</span><img align="middle" alt="       (Human  ⊓ (¬P atient))" class="left" src="summary82x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-3-1" style="white-space:nowrap; text-align:center;">            top                   </td><td class="td11" id="TBL-22-3-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-22-3-3" style="white-space:nowrap; text-align:center;"> <span class="msam-10">⊺    </span></td><td class="td11" id="TBL-22-3-4" style="white-space:nowrap; text-align:center;"> <span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> </td><td class="td11" id="TBL-22-3-5" style="white-space:nowrap; text-align:center;"> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-4-1" style="white-space:nowrap; text-align:center;"> qualified existence restriction  </td><td class="td11" id="TBL-22-4-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="E" class="10x-x-45" src="cmsy10-45.png"> </img></span></td><td class="td11" id="TBL-22-4-3" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∃</span><span class="cmmi-10">R.C     </span></td><td class="td11" id="TBL-22-4-4" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{             I      I}
 a|∃b : (a,b) ∈ R ∧ b ∈ C" class="left" src="summary83x.png"/> </td><td class="td11" id="TBL-22-4-5" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∃</span>Treats.Doctor                      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-5-1" style="white-space:nowrap; text-align:center;">        full negation             </td><td class="td11" id="TBL-22-5-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="C" class="10x-x-43" src="cmsy10-43.png"> </img></span></td><td class="td11" id="TBL-22-5-3" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">¬</span><span class="cmmi-10">C      </span></td><td class="td11" id="TBL-22-5-4" style="white-space:nowrap; text-align:center;"> <span class="cmr-10">Δ</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">\ </span><span class="cmmi-10">C</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> </td><td class="td11" id="TBL-22-5-5" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">¬</span><img align="middle" alt=" (∃Treats.Doctor)" class="left" src="summary84x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-6-1" style="white-space:nowrap; text-align:center;"> <div class="multirow"><!-- rows=256 -->
number restrictions</div> </td><td class="td11" id="TBL-22-6-2" style="white-space:nowrap; text-align:center;"> <div class="multirow"><!-- rows=256 -->
<span class="cmsy-10"><img alt="N" class="10x-x-4e" src="cmsy10-4e.png"/></span></div> </td><td class="td11" id="TBL-22-6-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≥ k R )" class="left" src="summary85x.png"/> </td><td class="td11" id="TBL-22-6-4" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{    {          I}    }
 a|#  b : (a,b) ∈ R ≥ k" class="left" src="summary86x.png"/> </td><td class="td11" id="TBL-22-6-5" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">≥ </span><span class="cmr-10">5 </span>Treats                         </td>
</tr><tr id="TBL-22-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-7-1" style="white-space:nowrap; text-align:center;"></td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-8-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-9-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-22-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-10-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-22-10-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-22-10-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≤ k R )" class="left" src="summary87x.png"/> </td><td class="td11" id="TBL-22-10-4" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{    {           }    }
 a|#  b : (a,b) ∈ RI ≤ k" class="left" src="summary88x.png"/> </td><td class="td11" id="TBL-22-10-5" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">≤ </span><span class="cmr-10">5 </span>Treats                         </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-11-1" style="white-space:nowrap; text-align:center;"> <div class="multirow"><!-- rows=256 -->
qualified number restriction</div> </td><td class="td11" id="TBL-22-11-2" style="white-space:nowrap; text-align:center;"> <div class="multirow"><!-- rows=256 -->
<span class="cmsy-10"><img alt="Q" class="10x-x-51" src="cmsy10-51.png"/></span></div> </td><td class="td11" id="TBL-22-11-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≥ k R.C )" class="left" src="summary89x.png"/> </td><td class="td11" id="TBL-22-11-4" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{    {                   }    }
 a|#  b : (a,b) ∈ RI ∧b ∈ CI ≥ k" class="left" src="summary90x.png"/> </td><td class="td11" id="TBL-22-11-5" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">≥ </span><span class="cmr-10">5 </span>Treats.<img align="middle" alt="     (Doctor⊓ M ale)" class="left" src="summary91x.png"/> </td>
</tr><tr id="TBL-22-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-12-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-13-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-14-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-14-1" style="white-space:nowrap; text-align:center;">
</td></tr><tr class="cline"><td></td><td></td><td></td><td></td><td><hr/></td></tr><tr id="TBL-22-15-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-15-1" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-22-15-2" style="white-space:nowrap; text-align:center;"> </td><td class="td11" id="TBL-22-15-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≤ k R.C )" class="left" src="summary92x.png"/> </td><td class="td11" id="TBL-22-15-4" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{    {          I       I}    }
 a|#  b : (a,b) ∈ R ∧b ∈ C ≤ k" class="left" src="summary93x.png"/> </td><td class="td11" id="TBL-22-15-5" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">≤ </span><span class="cmr-10">5 </span>Treats.<img align="middle" alt="    (Doctor⊓ Female)" class="left" src="summary94x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-16-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-16-1" style="white-space:nowrap; text-align:center;">         inverse role              </td><td class="td11" id="TBL-22-16-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span></td><td class="td11" id="TBL-22-16-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">R</span><sup><span class="cmsy-7">-</span></sup> </td><td class="td11" id="TBL-22-16-4" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{              I}
 (b,a)|(a,b) ∈ R" class="left" src="summary95x.png"/> </td><td class="td11" id="TBL-22-16-5" style="white-space:nowrap; text-align:center;">                 Treats<sup><span class="cmsy-7">-</span></sup> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-17-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-17-1" style="white-space:nowrap; text-align:center;">         role closure             </td><td class="td11" id="TBL-22-17-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">reg  </span></td><td class="td11" id="TBL-22-17-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">R</span><sup><span class="cmsy-7">*</span></sup> </td><td class="td11" id="TBL-22-17-4" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="( I)
 R" class="left" src="summary96x.png"/><sup><span class="cmsy-7">*</span></sup> </td><td class="td11" id="TBL-22-17-5" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="   (Treats)" class="left" src="summary97x.png"/><sup><span class="cmsy-7">*</span></sup> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-22-18-" style="vertical-align:baseline;"><td class="td11" id="TBL-22-18-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<div class="newtheorem">
<!--l. 2773--><p class="noindent"><span class="head">
<a id="x1-68002r1"></a>
<span class="ecbx-1000">Example 9.1.</span> </span>What is the meaning of these axioms:
</p></div>
<!--l. 2775--><p class="indent">
<ul class="itemize1">
<li class="itemize">
<!--l. 2777--><p class="noindent">Disjunction:
                                                                                            
                                                                                            
<div class="math-display">
<img alt="∀hasChild.(Doctor ⊔Lawyer )
" class="math-display" src="summary98x.png"/></div>
<!--l. 2781--><p class="noindent">Formally:
<div class="math-display">
<img alt="{a |∀b : (a,b) ∈ hasChildI =⇒ b ∈ DoctorI ∨b ∈ LawyerI}
" class="math-display" src="summary99x.png"/></div>
<!--l. 2785--><p class="noindent">Natural language: all entities such that all their childs are a doctor or a lawyer.
     </p></p></p></li>
<li class="itemize">
<!--l. 2787--><p class="noindent">Qualified existencial restriction:
<div class="math-display">
<img alt="∃hasChild.Doctor
" class="math-display" src="summary100x.png"/></div>
<!--l. 2792--><p class="noindent">Formally:
<div class="math-display">
<img alt="{                                 }
  a|∃b : (a,b) ∈ hasChildI ∧ b ∈ DoctorI
" class="math-display" src="summary101x.png"/></div>
<!--l. 2796--><p class="noindent">Natural language: all entities that has a child who is a doctor.
                                                                                            
                                                                                            
     </p></p></p></li>
<li class="itemize">
<!--l. 2797--><p class="noindent">Full negation:
<div class="math-display">
<img alt="¬ (Doctor ⊔Lawyer )
" class="math-display" src="summary102x.png"/></div>
<!--l. 2802--><p class="noindent">Formally:
<div class="math-display">
<img alt="     (                )
ΔI \  DoctorI ∪ LawyerI
" class="math-display" src="summary103x.png"/></div>
<!--l. 2806--><p class="noindent">Natural language: all entities that not a doctor nor a lawyer.
     </p></p></p></li>
<li class="itemize">
<!--l. 2807--><p class="noindent">Number restrictions:
<div class="math-display">
<img alt="(≥ 2 hasChild)⊓ (≤ 1 sibling)
" class="math-display" src="summary104x.png"/></div>
<!--l. 2811--><p class="noindent">Formally:
<div class="math-display">
<img alt="{    {                  }       {                 }   }
 a|#  b : (a,b) ∈ hasChildI ≥ 2 ∧# c : (a,c) ∈ siblingsI ≤ 1
" class="math-display" src="summary105x.png"/></div>
<!--l. 2815--><p class="noindent">Natural language: all entities that have at least two childs and at most one sibling.
     </p></p></p></li>
<li class="itemize">
<!--l. 2817--><p class="noindent">Qualified number restrictions:
<div class="math-display">
<img alt="(≥ 2 hasChild.Doctor)
" class="math-display" src="summary106x.png"/></div>
<!--l. 2821--><p class="noindent">Formally:
<div class="math-display">
<img alt="{    {                 I           I}   }
 a|#  b : (a,b) ∈ hasChild ∧ b ∈ Doctor ≥ 2
" class="math-display" src="summary107x.png"/></div>
<!--l. 2825--><p class="noindent">Natural language: all entities that have at least two childs that are doctors.
     </p></p></p></li>
<li class="itemize">
<!--l. 2827--><p class="noindent">Inverse role:
<div class="math-display">
<img alt="∀hasChild- .Doctor
" class="math-display" src="summary108x.png"/></div>
<!--l. 2831--><p class="noindent">Formally:
<div class="math-display">
<img alt="{                                    }
 a|∀b : (b,a) ∈ hasChildI = ⇒ b ∈ DoctorI
" class="math-display" src="summary109x.png"/></div>
<!--l. 2835--><p class="noindent">Natural language: all entities that are childs of doctors.
     </p></p></p></li>
<li class="itemize">
<!--l. 2836--><p class="noindent">Reflexive-transitive role closure:
<div class="math-display">
<img alt="∃hasChild.Doctor
" class="math-display" src="summary110x.png"/></div>
<!--l. 2840--><p class="noindent">Formally:
<div class="math-display">
<img alt="{            (       I)*           I}
 a|∃b : (a,b) ∈ hasChild  ∧b ∈ Doctor
" class="math-display" src="summary111x.png"/></div>
<!--l. 2844--><p class="noindent">Natural language: all entities that are ascendent of some doctor.</p></p></p></li></ul>
<!--l. 2846--><p class="noindent">A Description Logics TBOX only includes terminological axioms of the following form:
     <ol class="enumerate1">
<li class="enumerate" id="x1-68004x1">
<!--l. 2849--><p class="noindent"><span class="ecbx-1000">Inclusion</span>:
         <ol class="enumerate2">
<li class="enumerate" id="x1-68006x1">
<!--l. 2851--><p class="noindent"><span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub> is satisfied by <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>if <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">⊆ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>.
         </p></li>
<li class="enumerate" id="x1-68008x2">
<!--l. 2852--><p class="noindent"><span class="cmmi-10">R</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑ </span><span class="cmmi-10">R</span><sub><span class="cmr-7">2</span></sub> is satisfied by <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>if <span class="cmmi-10">R</span><sub><span class="cmr-7">1</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">⊆ </span><span class="cmmi-10">R</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>.</p></li></ol>
</p></li>
<li class="enumerate" id="x1-68010x2">
<!--l. 2854--><p class="noindent"><span class="ecbx-1000">Equivalence</span>:
                                                                                            
                                                                                            
         <ol class="enumerate2">
<li class="enumerate" id="x1-68012x1">
<!--l. 2856--><p class="noindent"><span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub><span class="cmmi-10">,C</span><sub><span class="cmr-7">2</span></sub> <span class="cmsy-10">⊑ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub>.</p></li></ol>
</p></li></ol>
<div class="newtheorem">
<!--l. 2859--><p class="noindent"><span class="head">
<a id="x1-68013r2"></a>
<span class="ecbx-1000">Example 9.2.</span> </span>A TBOX example
<!--l. 2862--><p class="indent">   The following axioms define a TBOX:
<table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">Woman </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Person </span><span class="cmsy-10">⊓ </span><span class="cmmi-10">Female</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Man </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Person </span><span class="cmsy-10">⊓¬</span><span class="cmmi-10">Woman</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Mother </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Woman </span><span class="cmsy-10">⊓∃</span><span class="cmmi-10">hasChild.Person</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Father </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Man </span><span class="cmsy-10">⊓∃</span><span class="cmmi-10">hasChild.Person</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Parent </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Father </span><span class="cmsy-10">⊔ </span><span class="cmmi-10">Mother</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Grandmother </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Mother </span><span class="cmsy-10">⊓∃</span><span class="cmmi-10">hasChild.Parent</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">MotherWithManyChildren </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Mother</span><span class="cmsy-10">⊓≥ </span><span class="cmr-10">3</span><span class="cmmi-10"> hasChild</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">MotherWithoutDaughter </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Mother </span><span class="cmsy-10">⊓∀</span><span class="cmmi-10">hasChild.</span><span class="cmsy-10">¬</span><span class="cmmi-10">Woman</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Wife </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Woman </span><span class="cmsy-10">⊓∃</span><span class="cmmi-10">hasHusband.Man</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
</p></p></div>
<!--l. 2874--><p class="indent">
<!--l. 2876--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">9.3   </span> <a id="x1-690009.3"></a>ABOX</h4>
<!--l. 2878--><p class="noindent">The ABOX defines the instances in terms of the terminological axioms defined in the TBOX, by using concept
(<span class="cmmi-10">Student</span><img align="middle" alt="(Pere)" class="left" src="summary112x.png"/>) and role (<span class="cmmi-10">Teaches</span><img align="middle" alt="(Oscar,P ere)" class="left" src="summary113x.png"/>) assertions.
   <div class="newtheorem">
<!--l. 2881--><p class="noindent"><span class="head">
<a id="x1-69001r3"></a>
<span class="ecbx-1000">Example 9.3.</span> </span>A knowledge base (TBOX+ABOX)
<!--l. 2884--><p class="indent">   The TBOX assertions are the following:
   </p></p></div>
<!--l. 2885--><p class="indent">
<ul class="itemize1">
<li class="itemize">
<!--l. 2887--><p class="noindent">Inclusion assertions on concepts:
     <!--l. 2889--><p class="noindent">
<table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">Father </span><span class="cmsy-10">≡</span></td> <td class="align-even"><span class="cmmi-10">Human </span><span class="cmsy-10">⊓ </span><span class="cmmi-10">Male </span><span class="cmsy-10">⊓∃</span><span class="cmmi-10">hasChild</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">HappyFather </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">Father </span><span class="cmsy-10">⊓∀</span><span class="cmmi-10">hasChild.</span><img align="middle" alt="(Doctor⊔ Lawyer ⊔ HappyP erson )" class="left" src="summary114x.png"/></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">HappyAnc </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmsy-10">∀</span><span class="cmmi-10">descendant.HappyFather</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Teacher </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmsy-10">¬</span><span class="cmmi-10">Doctor </span><span class="cmsy-10">⊓¬</span><span class="cmmi-10">Lawyer</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
</p></p></li>
<li class="itemize">
<!--l. 2896--><p class="noindent">Inclusion assertions on roles:
                                                                                            
                                                                                            
     <table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">hasChild </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">descendant</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">hasFather </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">hasChild</span><sup><span class="cmsy-7">-</span></sup></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
</p></li></ul>
<!--l. 2902--><p class="noindent">The ABOX membership assertions are:
   <div class="math-display">
<img alt="T eacher(mary )
" class="math-display" src="summary115x.png"/></div>
<!--l. 2906--><p class="indent">
<div class="math-display">
<img alt="hasFather(mary,john)
" class="math-display" src="summary116x.png"/></div>
<!--l. 2909--><p class="indent">
<div class="math-display">
<img alt="HappyAnc  (john )
" class="math-display" src="summary117x.png"/></div>
<div class="newtheorem">
<!--l. 2913--><p class="noindent"><span class="head">
<a id="x1-69002r4"></a>
<span class="ecbx-1000">Example 9.4.</span> </span>The following UML diagram
                                                                                            
                                                                                            
<div class="center">
<!--l. 2915--><p class="noindent">
<!--l. 2916--><p class="noindent"><img alt="PIC" src="31_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_pegado9.png"/>
</p></p></div>
<!--l. 2919--><p class="indent">   can be represented as the TBOX:
<!--l. 2921--><p class="indent">
<table class="align-star">
<tr><td class="align-odd"><span class="cmsy-10">∃</span><span class="cmmi-10">hasFather </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">Person</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmsy-10">∃</span><span class="cmmi-10">hasFather</span><sup><span class="cmsy-7">-</span></sup><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">Person</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Person </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmsy-10">∃</span><span class="cmmi-10">hasFather</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
</p></p></p></div>
<!--l. 2926--><p class="indent">
<!--l. 2928--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">9.4   </span> <a id="x1-700009.4"></a>Models of a Description Logics Ontology</h4>
<div class="tcolorbox tcolorbox" id="tcolobox-5">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 2931--><p class="noindent"><span class="head">
<a id="x1-70001r3"></a>
<span class="ecbx-1000">Definition 9.3.</span> </span>A <span class="ecbx-1000">model </span>of a knowledge base <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"> </img></span><span class="cmr-10">= </span><img align="middle" alt="⟨T,A ⟩" class="left" src="summary118x.png"/> is an interpretation <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>that satisfies all
assertions in <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>and all assertions in <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"/></span>.
<!--l. 2936--><p class="noindent">If there is a model for <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span>, then it is <span class="ecbx-1000">satisfiable</span>.
<!--l. 2938--><p class="noindent"><span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"> </img></span><span class="ecbx-1000">logically implies </span>an assertion <span class="cmmi-10">α</span>, written <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span><img alt="|=" class="models" src="summary119x.png"/><span class="cmmi-10">α </span>if <span class="cmmi-10">α </span>is satisfied by all models of <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span>.
</p></p></p></div>
<!--l. 2941--><p class="noindent">
</p></div>
</div>
<!--l. 2944--><p class="noindent">Satisfiability looks for contrasictions in the asserted axioms. Without negations, everything is satisfiable, and
TBOX axioms are just used to infer knowledge for the asserted elements. This is the case of RDFS, and in
case of an error, the knowledge base will simply infer wrong knowledge, but no error nor alert will be
rased.
                                                                                            
                                                                                            
<!--l. 2950--><p class="indent">   Including negation, we can identify mistakes in the ABOX, since such interpretations will not be a model for that
ontology.
   <div class="newtheorem">
<!--l. 2952--><p class="noindent"><span class="head">
<a id="x1-70002r5"></a>
<span class="ecbx-1000">Example 9.5.</span> </span>Is the following interpretation a model? Can you think of an interpretation that is a model?
<!--l. 2956--><p class="indent">   The TBOX is:
<table class="align-star">
<tr><td class="align-odd"><span class="cmsy-10">∃</span><span class="cmmi-10">Teaches </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">Teacher</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmsy-10">∃</span><span class="cmmi-10">Teaches</span><sup><span class="cmsy-7">-</span></sup><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">Course</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Teacher </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmsy-10">¬</span><span class="cmmi-10">Course</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 2962--><p class="indent">   And the ABOX is:
   <div class="math-display">
<img alt="Teaches(x,x ).
" class="math-display" src="summary120x.png"/></div>
<!--l. 2966--><p class="indent">   It is not a model, because
   <div class="math-display">
<img alt="            ∃Teaches⊑T eacher          Teacher⊑¬Course
Teaches(x,x)      |=       Teacher(x)      |=       ¬Course (x)
" class="math-display" src="summary121x.png"/></div>
<!--l. 2970--><p class="indent">   and
                                                                                            
                                                                                            
   <div class="math-display">
<img alt="           ∃Teaches- ⊑Course
T eaches(x)      |=       Course (x),
" class="math-display" src="summary122x.png"/></div>
<!--l. 2974--><p class="indent">   and both expressions cannot evaluate to true at the same time.
<!--l. 2976--><p class="indent">   To make a model, we can change the ABOX to be
   <div class="math-display">
<img alt="Teaches(x,y),
" class="math-display" src="summary123x.png"/></div>
<!--l. 2980--><p class="indent">   in which case all assertions from the TBOX and the ABOX can be satisfied.
   </p></p></p></p></p></p></p></p></div>
<!--l. 2981--><p class="indent">
<div class="newtheorem">
<!--l. 2983--><p class="noindent"><span class="head">
<a id="x1-70003r6"></a>
<span class="ecbx-1000">Example 9.6.</span> </span>Description Logics Reasoning
<!--l. 2986--><p class="indent">   Consider the following TBOX and make all possible inferences:
<!--l. 2988--><p class="indent">
<table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">Researcher </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmsy-10">¬</span><span class="cmmi-10">Professor</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Researcher </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmsy-10">¬</span><span class="cmmi-10">Lecturer</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmsy-10">∃</span><span class="cmmi-10">TeachesTo</span><sup><span class="cmsy-7">-</span></sup><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">Student</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Student </span><span class="cmsy-10">⊓¬</span><span class="cmmi-10">Undergrad </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">GraduateStudent</span></td> <td class="align-label"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmsy-10">∃</span><span class="cmmi-10">TeachesTo.Undergrad </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmmi-10">Professor </span><span class="cmsy-10">⊔ </span><span class="cmmi-10">Lecturer</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 2996--><p class="indent">   The TBOX inferences are:
<table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">Researcher </span><span class="cmsy-10">⊑</span></td> <td class="align-even"><span class="cmsy-10">∃</span><span class="cmmi-10">TeachesTo.GraduateStudent</span></td> <td class="align-label"></td> <td class="align-label"></td></tr></table>
<!--l. 3001--><p class="indent">   Do the same with this ABOX:
<table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">TeachesTo</span><img align="middle" alt="(dupond,pierre)" class="left" src="summary124x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmsy-10">¬</span><span class="cmmi-10">GraduateStudent</span><img align="middle" alt="(pierre)" class="left" src="summary125x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmsy-10">¬</span><span class="cmmi-10">Professor</span><img align="middle" alt="(dupond)" class="left" src="summary126x.png"/></td> <td class="align-even"></td> <td class="align-label"></td></tr></table>
<!--l. 3007--><p class="indent">   The ontology inferences are:
                                                                                            
                                                                                            
<table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">Undergrad</span><img align="middle" alt="(pierre)" class="left" src="summary127x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">Lecturer</span><img align="middle" alt="(dupond)" class="left" src="summary128x.png"/></td> <td class="align-even"></td> <td class="align-label"></td></tr></table>
</p></p></p></p></p></p></div>
<!--l. 3013--><p class="indent">
<!--l. 3015--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">9.4.1   </span> <a id="x1-710009.4.1"></a>TBOX Reasoning</h5>
<ul class="itemize1">
<li class="itemize">
<!--l. 3017--><p class="noindent"><span class="ecbx-1000">Concept Satisfiability</span>: a concept <span class="cmmi-10">C </span>is satisfiable with respect to the TBOX <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>if there is a model <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>of
     <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>such that <span class="cmmi-10">C</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> is not empty, i.e., <span class="cmmi-10">T</span><img alt="/|=/" class="mathpalette" src="summary129x.png"/><span class="cmmi-10">C </span><span class="cmsy-10">≡⊥</span>.
     </p></li>
<li class="itemize">
<!--l. 3021--><p class="noindent"><span class="ecbx-1000">Subsumption</span>: a concept <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub>  is subsumed by another concept <span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub>  with respect to the TBOX <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>if, for
     every model <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>of <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>, we have <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">⊆ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>, i.e., <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"/></span><img alt="|=" class="models" src="summary130x.png"/><span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub>.
     </p></li>
<li class="itemize">
<!--l. 3025--><p class="noindent"><span class="ecbx-1000">Equivalence</span>: <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> and <span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub> are equivalent with respect to <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>if, for every model <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>of <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>we have <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> <span class="cmr-10">= </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>,
     i.e., <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"/></span><img alt="|=" class="models" src="summary131x.png"/><span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">≡ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub>.
     </p></li>
<li class="itemize">
<!--l. 3028--><p class="noindent"><span class="ecbx-1000">Disjointness</span>: <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> and <span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub> are disjoint with respect to <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>if, for every model <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>of <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>, we have <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup><span class="cmsy-10">∩</span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> <span class="cmr-10">= </span><span class="cmsy-10">∅</span>,
     i.e., <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"/></span><img alt="|=" class="models" src="summary132x.png"/><span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊓ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub> <span class="cmsy-10">≡⊥</span>.
     </p></li>
<li class="itemize">
<!--l. 3032--><p class="noindent"><span class="ecbx-1000">Functionality implication</span>: a functionality assertion, <img align="middle" alt="(funct R )" class="left" src="summary133x.png"/>, is logically implied by <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span>if, for every
     model <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>of <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"> </img></span><span class="cmmi-10">,</span>we have that <img align="middle" alt="(o,o1)" class="left" src="summary134x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">R</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> and <img align="middle" alt="(o,o2)" class="left" src="summary135x.png"/> <span class="cmsy-10">∈ </span><span class="cmmi-10">R</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup> implies <span class="cmmi-10">o</span><sub><span class="cmr-7">1</span></sub> <span class="cmr-10">= </span><span class="cmmi-10">o</span><sub><span class="cmr-7">2</span></sub>, i.e., <span class="cmsy-10"><img alt="T" class="10x-x-54" src="cmsy10-54.png"/></span><img alt="|=" class="models" src="summary136x.png"/><img align="middle" alt="(f unct R)" class="left" src="summary137x.png"/>.</p></li></ul>
<!--l. 3039--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">9.4.2   </span> <a id="x1-720009.4.2"></a>Reasoning complexity</h5>
<!--l. 3041--><p class="noindent">In the next table, the complexity for concept satisfiability for each of the logic families we have seen is
shown:
                                                                                            
                                                                                            
<div class="center">
<!--l. 3043--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-23"><colgroup id="TBL-23-1g"><col id="TBL-23-1"/></colgroup><colgroup id="TBL-23-2g"><col id="TBL-23-2"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-23-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-1-1" style="white-space:nowrap; text-align:center;">          Family                </td><td class="td11" id="TBL-23-1-2" style="white-space:nowrap; text-align:center;">    Complexity       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-23-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-2-1" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"/></img></span><span class="cmmi-10">,</span><span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="N" class="10x-x-4e" src="cmsy10-4e.png"/></img></img></span> </td><td class="td11" id="TBL-23-2-2" style="white-space:nowrap; text-align:center;">      PTIME         </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-23-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-3-1" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="U" class="10x-x-55" src="cmsy10-55.png"/></img></img></span><span class="cmmi-10">,</span><span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="U" class="10x-x-55" src="cmsy10-55.png"><img alt="N" class="10x-x-4e" src="cmsy10-4e.png"/></img></img></img></span> </td><td class="td11" id="TBL-23-3-2" style="white-space:nowrap; text-align:center;">    NP-complete      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-23-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-4-1" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="E" class="10x-x-45" src="cmsy10-45.png"/></img></img></span> </td><td class="td11" id="TBL-23-4-2" style="white-space:nowrap; text-align:center;">   coNP-complete    </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-23-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-5-1" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="C" class="10x-x-43" src="cmsy10-43.png"/></img></img></span><span class="cmmi-10">,</span><span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="C" class="10x-x-43" src="cmsy10-43.png"><img alt="N" class="10x-x-4e" src="cmsy10-4e.png"/></img></img></img></span><span class="cmmi-10">,</span><span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="C" class="10x-x-43" src="cmsy10-43.png"><img alt="I" class="10x-x-49" src="cmsy10-49.png"/></img></img></img></span><span class="cmmi-10">,</span><span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"><img alt="L" class="10x-x-4c" src="cmsy10-4c.png"><img alt="C" class="10x-x-43" src="cmsy10-43.png"><img alt="Q" class="10x-x-51" src="cmsy10-51.png"><img alt="I" class="10x-x-49" src="cmsy10-49.png"/></img></img></img></img></span> </td><td class="td11" id="TBL-23-5-2" style="white-space:nowrap; text-align:center;"> PSPACE-complete  </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td></tr><tr id="TBL-23-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-23-6-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 3065--><p class="indent">   It can be observed that there are two sources of complexity:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3067--><p class="noindent">The union <img align="middle" alt="(U )" class="left" src="summary138x.png"/> is of type NP.
     </p></li>
<li class="itemize">
<!--l. 3068--><p class="noindent">The existential quantification <img align="middle" alt="(E)" class="left" src="summary139x.png"/> is of type coNP.</p></li></ul>
<!--l. 3071--><p class="noindent">When they are combined, the complexity jumps to PSPACE.
<!--l. 3073--><p class="indent">   Note that number restrictions <img align="middle" alt="(N )" class="left" src="summary140x.png"/> do not add complexity.
<!--l. 3076--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">9.4.3   </span> <a id="x1-730009.4.3"></a>Ontology Reasoning</h5>
<!--l. 3078--><p class="noindent">The problem of <span class="ecbx-1000">ontology satisfiability </span>consists of verifying whether an ontology is satisfiable or not, i.e., whether the
ontology <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"> </img></span>admits at least one model.
<!--l. 3082--><p class="indent">   The problem of <span class="ecbx-1000">concept instance checking </span>consists of verifying whether an individual <span class="cmmi-10">c </span>is an instance of a
concept <span class="cmmi-10">C </span>in <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span>, i.e., whether <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span><img alt="|=" class="models" src="summary141x.png"/><span class="cmmi-10">C</span><img align="middle" alt="(c)" class="left" src="summary142x.png"/> or not.
<!--l. 3086--><p class="indent">   The problem of <span class="ecbx-1000">role instance checking </span>consists of verifying whther a pair <img align="middle" alt="(c1,c2)" class="left" src="summary143x.png"/> of individuals is an instance of a
role <span class="cmmi-10">R </span>in <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span>, i.e., whether <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span><img alt="|=" class="models" src="summary144x.png"/><span class="cmmi-10">R</span><img align="middle" alt="(c1,c2)" class="left" src="summary145x.png"/> or not.
<!--l. 3091--><p class="indent">   The problem of <span class="ecbx-1000">query answering </span>consists of finding the certain answers:
   <div class="tcolorbox tcolorbox" id="tcolobox-6">
<div class="tcolorbox-title">
</div>
<div class="tcolorbox-content"><div class="newtheorem">
<!--l. 3095--><p class="noindent"><span class="head">
<a id="x1-73001r4"></a>
<span class="ecbx-1000">Definition 9.4.</span> </span>The <span class="ecbx-1000">certain answers </span>to query <span class="cmmi-10">q</span><img align="middle" alt="(x)" class="left" src="summary146x.png"/> over <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"> </img></span><span class="cmr-10">= </span><img align="middle" alt="⟨T,A⟩" class="left" src="summary147x.png"/>, denoted <span class="cmmi-10">cert</span><img align="middle" alt="(q,O )" class="left" src="summary148x.png"/> are the
tuples <span class="cmmi-10">c </span>of constants of <span class="cmsy-10"><img alt="A" class="10x-x-41" src="cmsy10-41.png"> </img></span>such that <span class="cmmi-10">c </span><span class="cmsy-10">∈ </span><span class="cmmi-10">q</span><sup><span class="cmsy-7"><img alt="I" class="7x-x-49" src="cmsy7-49.png"/></span></sup>, for every model <span class="cmsy-10"><img alt="I" class="10x-x-49" src="cmsy10-49.png"> </img></span>of <span class="cmsy-10"><img alt="O" class="10x-x-4f" src="cmsy10-4f.png"/></span>.
</p></div>
<!--l. 3100--><p class="noindent">
</p></div>
</div>
<!--l. 3103--><p class="indent">   We need to bear in mind the <span class="ecbx-1000">open-world assumption</span>: something evaluates to false only if it contradicts other
information in the ontology.
   <div class="newtheorem">
<!--l. 3106--><p class="noindent"><span class="head">
<a id="x1-73002r7"></a>
<span class="ecbx-1000">Example 9.7.</span> </span>Open-world assumption illustrative example.
<!--l. 3109--><p class="indent">   Consider the following ABOX:
                                                                                            
                                                                                            
<table class="align-star">
<tr><td class="align-odd"><span class="cmmi-10">hasSon</span><img align="middle" alt="(Iokaste,Oedipus)" class="left" src="summary149x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">hasSon</span><img align="middle" alt="(Iokaste,P olyneikes)" class="left" src="summary150x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">hasSon</span><img align="middle" alt="(Oedipus,Polyneikes)" class="left" src="summary151x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">hasSon</span><img align="middle" alt="(Polyneikes,T hersandros)" class="left" src="summary152x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmmi-10">patricide</span><img align="middle" alt="(Oedipus)" class="left" src="summary153x.png"/></td> <td class="align-even"></td> <td class="align-label">
</td></tr><tr><td class="align-odd"><span class="cmsy-10">¬</span><span class="cmmi-10">patricide</span><img align="middle" alt="(T hersandros)" class="left" src="summary154x.png"/></td> <td class="align-even"></td> <td class="align-label"></td></tr></table>
<!--l. 3118--><p class="indent">   This is visually shown as:
<div class="center">
<!--l. 3119--><p class="noindent">
<!--l. 3120--><p class="noindent"><img alt="PIC" src="32_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_iokaste.png"/>
</p></p></div>
<!--l. 3123--><p class="indent">   Consider the query:
   <div class="math-display">
<img alt="Query ≡ ∃hasSon.(patricide ⊓∃hasSon.¬patricide)
" class="math-display" src="summary155x.png"/></div>
<!--l. 3127--><p class="indent">   Does
   <div class="math-display">
<img alt="ABOX   |= Query (Iokaste)?
" class="math-display" src="summary156x.png"/></div>
<!--l. 3132--><p class="indent">   Yes!
                                                                                            
                                                                                            
<!--l. 3134--><p class="indent">   Since there is no information of whether <span class="cmmi-10">patricide</span><img align="middle" alt="(P olyneikes)" class="left" src="summary157x.png"/> is true or not, we need to evaluate all
possibilities.
<!--l. 3137--><p class="indent">   If <span class="cmmi-10">patricide</span><img align="middle" alt="(P olyneikes)" class="left" src="summary158x.png"/> is true, then <span class="cmmi-10">hasSon</span><img align="middle" alt="(Iokaste,P olyneikes)" class="left" src="summary159x.png"/><span class="cmsy-10">∧</span><span class="cmmi-10">patricide</span><img align="middle" alt="(P olyneikes)" class="left" src="summary160x.png"/><span class="cmsy-10">∧</span><span class="cmmi-10">hasSon</span><img align="middle" alt="(P olyneikes,Thersandros)" class="left" src="summary161x.png"/><span class="cmsy-10">∧¬</span><span class="cmmi-10">patricide</span><img align="middle" alt="                     (Thersandros)" class="left" src="summary162x.png"/><span class="cmmi-10">.</span>
<!--l. 3139--><p class="indent">   If <span class="cmmi-10">patricide</span><img align="middle" alt="(P olyneikes)" class="left" src="summary163x.png"/> is false, then <span class="cmmi-10">hasSon</span><img align="middle" alt="(Iokaste,Oedipus)" class="left" src="summary164x.png"/><span class="cmsy-10">∧</span><span class="cmmi-10">patricide</span><img align="middle" alt="(Oedipus)" class="left" src="summary165x.png"/><span class="cmsy-10">∧</span><span class="cmmi-10">hasSon</span><img align="middle" alt="(Oedipus,Polyneikes)" class="left" src="summary166x.png"/><span class="cmsy-10">∧¬</span><span class="cmmi-10">patricide</span><img align="middle" alt="             (Thersandros)" class="left" src="summary167x.png"/><span class="cmmi-10">.</span>
</p></p></p></p></p></p></p></p></p></div>
<!--l. 3140--><p class="indent">
<!--l. 3142--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">9.4.4   </span> <a id="x1-740009.4.4"></a>Modeling with Description Logics</h5>
<!--l. 3144--><p class="noindent">It is hard to build good ontologies using description logics, because the names of the classes are
irrelevant, classes are overlapping by default and the domain and range definitions are axioms, not
constraints. In addition, we need to cope with the open world assumption and the non-unique name
assumption, i.e., the same concept might be instantiated with two different names or IDs in the knowledge
base<span class="footnote-mark"><a href="summary10.html#fn5x0"><sup class="textsuperscript">5</sup></a></span><a id="x1-74001f5"></a>  .
   <h3 class="sectionHead"><span class="titlemark">10   </span> <a id="x1-7500010"></a>Ontology Web Language (OWL)</h3>
<!--l. 3153--><p class="noindent">OWL is a W3C recommendation, based on OIL and DAML, and using RDF and XML as the underlying representation.
There were three languages in OWL 1.0: Lite, DL and Full; later, OWL 2.0 eliminated OWL Lite and added three
profiles, RL, QL and EL.
<!--l. 3158--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">10.1   </span> <a id="x1-7600010.1"></a>OWL Axioms</h4>
<div class="center">
<!--l. 3159--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-24"><colgroup id="TBL-24-1g"><col id="TBL-24-1"/></colgroup><colgroup id="TBL-24-2g"><col id="TBL-24-2"/></colgroup><colgroup id="TBL-24-3g"><col id="TBL-24-3"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-1-1" style="white-space:nowrap; text-align:center;">       OWL axiom          </td><td class="td11" id="TBL-24-1-2" style="white-space:nowrap; text-align:center;">   DL syntax    </td><td class="td11" id="TBL-24-1-3" style="white-space:nowrap; text-align:center;">          Example               </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-2-1" style="white-space:nowrap; text-align:center;">       subClassOf            </td><td class="td11" id="TBL-24-2-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub> </td><td class="td11" id="TBL-24-2-3" style="white-space:nowrap; text-align:center;">   Human<span class="cmsy-10">⊑</span>Animal<span class="cmsy-10">⊓</span>Biped     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-3-1" style="white-space:nowrap; text-align:center;">      equivalentClass         </td><td class="td11" id="TBL-24-3-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">≡ </span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub> </td><td class="td11" id="TBL-24-3-3" style="white-space:nowrap; text-align:center;">     Man<span class="cmsy-10">≡</span>Human<span class="cmsy-10">⊓</span>Male        </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-4-1" style="white-space:nowrap; text-align:center;">       disjointWith           </td><td class="td11" id="TBL-24-4-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑¬</span><span class="cmmi-10">C</span><sub><span class="cmr-7">2</span></sub> </td><td class="td11" id="TBL-24-4-3" style="white-space:nowrap; text-align:center;">       Man<span class="cmsy-10">⊑¬</span>Female           </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-5-1" style="white-space:nowrap; text-align:center;">     sameIndividualAs       </td><td class="td11" id="TBL-24-5-2" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{a }
 1" class="left" src="summary168x.png"/><span class="cmsy-10">≡</span><img align="middle" alt="{a }
  2" class="left" src="summary169x.png"/> </td><td class="td11" id="TBL-24-5-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{presBush}" class="left" src="summary170x.png"/><span class="cmsy-10">≡</span><img align="middle" alt="{G.W.Bush }" class="left" src="summary171x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-6-1" style="white-space:nowrap; text-align:center;">      differentFrom          </td><td class="td11" id="TBL-24-6-2" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{a1}" class="left" src="summary172x.png"/><span class="cmsy-10">⊑¬</span><img align="middle" alt="{a2}" class="left" src="summary173x.png"/> </td><td class="td11" id="TBL-24-6-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{john}" class="left" src="summary174x.png"/><span class="cmsy-10">⊑¬</span><img align="middle" alt="{peter}" class="left" src="summary175x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-7-1" style="white-space:nowrap; text-align:center;">      subPropertyOf         </td><td class="td11" id="TBL-24-7-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">P</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑ </span><span class="cmmi-10">P</span><sub><span class="cmr-7">2</span></sub> </td><td class="td11" id="TBL-24-7-3" style="white-space:nowrap; text-align:center;">    hasDaughter<span class="cmsy-10">⊑</span>hasChild      </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-8-1" style="white-space:nowrap; text-align:center;">    equivalentProperty       </td><td class="td11" id="TBL-24-8-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">P</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">≡ </span><span class="cmmi-10">P</span><sub><span class="cmr-7">2</span></sub> </td><td class="td11" id="TBL-24-8-3" style="white-space:nowrap; text-align:center;">      hasCost<span class="cmsy-10">≡</span>hasPrice         </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-9-1" style="white-space:nowrap; text-align:center;">        inverseOf             </td><td class="td11" id="TBL-24-9-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">P</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">≡ </span><span class="cmmi-10">P</span><sub><span class="cmr-7">2</span></sub><sup><span class="cmsy-7">-</span></sup> </td><td class="td11" id="TBL-24-9-3" style="white-space:nowrap; text-align:center;">    hasChild<span class="cmsy-10">≡</span>hasParent<sup><span class="cmsy-7">-</span></sup> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-10-1" style="white-space:nowrap; text-align:center;">    transitiveProperty       </td><td class="td11" id="TBL-24-10-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">P</span><sup><span class="cmr-7">+</span></sup> <span class="cmsy-10">⊑ </span><span class="cmmi-10">P     </span></td><td class="td11" id="TBL-24-10-3" style="white-space:nowrap; text-align:center;">     ancestor<sup><span class="cmr-7">+</span></sup> <span class="cmsy-10">⊑</span>ancestor       </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-11-1" style="white-space:nowrap; text-align:center;">    functionalProperty       </td><td class="td11" id="TBL-24-11-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">T </span><span class="cmsy-10">⊑</span><img align="middle" alt="(≤ 1P )" class="left" src="summary176x.png"/> </td><td class="td11" id="TBL-24-11-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">Person </span><span class="cmsy-10">⊑</span><img align="middle" alt="(≤ 1 hasFather)" class="left" src="summary177x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-12-1" style="white-space:nowrap; text-align:center;"> inverseFunctionalProperty  </td><td class="td11" id="TBL-24-12-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">T </span><span class="cmsy-10">⊑</span><img align="middle" alt="(≤ 1P- )" class="left" src="summary178x.png"/> </td><td class="td11" id="TBL-24-12-3" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">Citizen </span><span class="cmsy-10">⊑</span><img align="middle" alt="(≤  1 hasSSN - )" class="left" src="summary179x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-24-13-" style="vertical-align:baseline;"><td class="td11" id="TBL-24-13-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 3214--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">10.2   </span> <a id="x1-7700010.2"></a>OWL Constructs</h4>
<div class="center">
<!--l. 3215--><p class="noindent">
<div class="tabular"> <table class="tabular" id="TBL-25"><colgroup id="TBL-25-1g"><col id="TBL-25-1"/></colgroup><colgroup id="TBL-25-2g"><col id="TBL-25-2"/></colgroup><colgroup id="TBL-25-3g"><col id="TBL-25-3"/></colgroup><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-1-1" style="white-space:nowrap; text-align:center;"> OWL construct  </td><td class="td11" id="TBL-25-1-2" style="white-space:nowrap; text-align:center;">    DL syntax      </td><td class="td11" id="TBL-25-1-3" style="white-space:nowrap; text-align:center;">     Example         </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-2-1" style="white-space:nowrap; text-align:center;">  intersectionOf   </td><td class="td11" id="TBL-25-2-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊓ </span><span class="cmmi-10">... </span><span class="cmsy-10">⊓ </span><span class="cmmi-10">C</span><sub><span class="cmmi-7">n</span></sub> </td><td class="td11" id="TBL-25-2-3" style="white-space:nowrap; text-align:center;">   Human<span class="cmsy-10">⊓</span>Male     </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-3-1" style="white-space:nowrap; text-align:center;">     unionOf       </td><td class="td11" id="TBL-25-3-2" style="white-space:nowrap; text-align:center;"> <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊔ </span><span class="cmmi-10">... </span><span class="cmsy-10">⊔ </span><span class="cmmi-10">C</span><sub><span class="cmmi-7">n</span></sub> </td><td class="td11" id="TBL-25-3-3" style="white-space:nowrap; text-align:center;">   Doctor<span class="cmsy-10">⊔</span>Lawyer    </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-4-1" style="white-space:nowrap; text-align:center;">  complementOf   </td><td class="td11" id="TBL-25-4-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">¬</span><span class="cmmi-10">C         </span></td><td class="td11" id="TBL-25-4-3" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">¬</span>Male          </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-5-1" style="white-space:nowrap; text-align:center;">      oneOf         </td><td class="td11" id="TBL-25-5-2" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{a1}" class="left" src="summary180x.png"/><span class="cmsy-10">⊔ </span><span class="cmmi-10">... </span><span class="cmsy-10">⊔</span><img align="middle" alt="{an}" class="left" src="summary181x.png"/> </td><td class="td11" id="TBL-25-5-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="{john }" class="left" src="summary182x.png"/><span class="cmsy-10">⊔</span><img align="middle" alt="{mary }" class="left" src="summary183x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-6-1" style="white-space:nowrap; text-align:center;">  allValuesFrom   </td><td class="td11" id="TBL-25-6-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∀</span><span class="cmmi-10">P.C        </span></td><td class="td11" id="TBL-25-6-3" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∀</span><span class="cmmi-10">hasChild.Doctor  </span></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-7-1" style="white-space:nowrap; text-align:center;"> someValuesFrom  </td><td class="td11" id="TBL-25-7-2" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∃</span><span class="cmmi-10">P.C        </span></td><td class="td11" id="TBL-25-7-3" style="white-space:nowrap; text-align:center;"> <span class="cmsy-10">∃</span><span class="cmmi-10">hasChild.Lawyer  </span></td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-8-1" style="white-space:nowrap; text-align:center;">  maxCardinality  </td><td class="td11" id="TBL-25-8-2" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≤ nP )" class="left" src="summary184x.png"/> </td><td class="td11" id="TBL-25-8-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≤ 1 hasChild)" class="left" src="summary185x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-9-1" style="white-space:nowrap; text-align:center;">  minCardinality   </td><td class="td11" id="TBL-25-9-2" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≥ nP )" class="left" src="summary186x.png"/> </td><td class="td11" id="TBL-25-9-3" style="white-space:nowrap; text-align:center;"> <img align="middle" alt="(≥ 2 hasChild)" class="left" src="summary187x.png"/> </td>
</tr><tr class="hline"><td><hr/></td><td><hr/></td><td><hr/></td></tr><tr id="TBL-25-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-25-10-1" style="white-space:nowrap; text-align:center;"> </td></tr></table></div>
</p></div>
<!--l. 3258--><p class="noindent">Constructs such as owl:someValuesFrom, owl:allValuesFrom, owl:minCardinality, owl:maxCardinality are expressed
using blank nodes, together with owl:Restriction by means of reification.
   <div class="newtheorem">
<!--l. 3261--><p class="noindent"><span class="head">
<a id="x1-77001r1"></a>
<span class="ecbx-1000">Example 10.1.</span> </span>Defining :Department <span class="cmsy-10">⊑∀</span>:Leads.:Professor
   <!--l. 3264-->
<div class="lstlisting" id="listing-16"><span class="label"><a id="x1-77002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Restriction</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">onProperty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Leads</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">allValuesFrom</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Professor</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Department</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span></div>
<!--l. 3271--><p class="indent">   Here:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3273--><p class="noindent">rdfs:subClassOf owl:Restriction indicate that _:a is a complex constraint
     </p></li>
<li class="itemize">
<!--l. 3274--><p class="noindent">owl:onProperty indicates the constrained property (:Leads in this case)
     </p></li>
<li class="itemize">
<!--l. 3276--><p class="noindent">owl:allValuesFrom denotes the qualified constraint or cardinality</p></li></ul>
</p></p></div>
<!--l. 3278--><p class="indent">
<div class="newtheorem">
<!--l. 3280--><p class="noindent"><span class="head">
<a id="x1-77006r2"></a>
<span class="ecbx-1000">Example 10.2.</span> </span>Defining :student <span class="cmsy-10">⊑≥ </span><span class="cmr-10">3</span>:RegisteredTo and :student <span class="cmsy-10">⊑≤ </span><span class="cmr-10">6</span>:RegisteredTo
   <!--l. 3283-->
<div class="lstlisting" id="listing-17"><span class="label"><a id="x1-77007r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Restriction</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77008r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">onProperty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">RegisteredTo</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77009r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">minCardinality</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">3</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77010r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">b</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Restriction</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77011r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">b</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">onProperty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">RegisteredTo</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77012r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">b</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">maxCardinality</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">6</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77013r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Student</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77014r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Student</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">b</span></span></div>
</p></div>
<!--l. 3293--><p class="indent">
<div class="newtheorem">
<!--l. 3295--><p class="noindent"><span class="head">
<a id="x1-77015r3"></a>
<span class="ecbx-1000">Example 10.3.</span> </span>Defining <span class="cmmi-10">C</span><sub><span class="cmr-7">1</span></sub> <span class="cmsy-10">⊑∃</span><span class="cmmi-10">P.C</span>
<!--l. 3298-->
<div class="lstlisting" id="listing-18"><span class="label"><a id="x1-77016r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Restriction</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77017r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">onProperty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">P</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77018r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">someValuesFrom</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">C</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77019r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">C1</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span></div>
</p></div>
<!--l. 3304--><p class="indent">
<div class="newtheorem">
<!--l. 3306--><p class="noindent"><span class="head">
<a id="x1-77020r4"></a>
<span class="ecbx-1000">Example 10.4.</span> </span>Defining <span class="cmsy-10">∃ </span><span class="cmr-10">: </span><span class="cmmi-10">TeachesTo. </span><span class="cmr-10">: </span><span class="cmmi-10">Undergrad </span><span class="cmsy-10">⊑</span><span class="cmr-10">: </span><span class="cmmi-10">Professor</span><span class="cmsy-10">⊔ </span><span class="cmr-10">: </span><span class="cmmi-10">Lecturer</span>
<!--l. 3309-->
<div class="lstlisting" id="listing-19"><span class="label"><a id="x1-77021r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Restriction</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77022r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">onProperty</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">TeachesTo</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77023r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">someValuesFrom</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">Undergrad</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77024r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">b</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">unionOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">(:</span></span><span style="color:#000000"><span class="ectt-0800">Professor</span></span><span style="color:#000000"><span class="ectt-0800">,:</span></span><span style="color:#000000"><span class="ectt-0800">Lecturer</span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-77025r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">a</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdfs</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">subClassOf</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">_</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">b</span></span></div>
</p></div>
<!--l. 3316--><p class="indent">
<!--l. 3318--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">10.3   </span> <a id="x1-7800010.3"></a>OWL Implementation</h4>
<!--l. 3320--><p class="noindent">OWL uses RDF syntax, i.e., URIs and literals that conform valid triplets. It reuses some URIs from RDFS, but the
whole RDFS is not embedded in OWL. In addition, it adds new properties and classes based on description logics and
defined at the OWL namespace.
<!--l. 3325--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">10.4   </span> <a id="x1-7900010.4"></a>OWL 2.0 Profiles</h4>
<ul class="itemize1">
<li class="itemize">
<!--l. 3327--><p class="noindent">OWL 2 EL: based in EL++, suitable for knowledge bases with large numebr of properties and classes.
     The reasoning is polynomial with respect to the size of the TBOX.
     </p></li>
<li class="itemize">
<!--l. 3330--><p class="noindent">OWL 2 QL: based on DL-Lite, captures ER and UML expressive power. The reasoning is reducible to
     LOGSPACE.
     </p></li>
<li class="itemize">
<!--l. 3332--><p class="noindent">OWL 2 RL: based on description logic programs, provides scalable reasoning without sacrificing much
     expressivity. The reasoning is polynomial with respect to the size of the ontology.</p></li></ul>
<!--l. 3337--><p class="noindent">
<h3 class="sectionHead"><span class="titlemark">11   </span> <a id="x1-8000011"></a>Graph-Based Virtual Data Integration</h3>
<!--l. 3339--><p class="noindent"><span class="ecbx-1000">Data Integration </span>is an area of study within data management aiming at facilitating transparent acces to a variety of
heterogeneous data sources.
<!--l. 3343--><p class="indent">   There are two main ways to perform data integration:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3345--><p class="noindent">Physical  data  integration:  in  physical  data  integration,  the  data  is  integrated  by  explicit  and  real
     modification and movement of the data, storing the transformed data in an integrated database.
     </p></li>
<li class="itemize">
<!--l. 3348--><p class="noindent">Virtual data integration: in this case, the approach is to encapsulate the physical data with views, with
     these being those that are integrated and queried. Therefore, in virtual data integration, data remains at
     the origin, and it is provided to the system transparently by means of views.</p></li></ul>
<!--l. 3354--><p class="noindent">Virtual Data Integration is suitable when data sources are not under our control, and the owners require a federation, when
we do not want to move the data from where it resides, when data freshness is crucial (ETLs run from time to time and
the period between updates is called the <span class="ecbx-1000">update window</span>), and when we want to systematically trace all the data
available within a company or organization (<span class="ecbx-1000">data provenance</span>).
<!--l. 3362--><p class="indent">   There is consensus that graph-based solutions are the way to go for data integration and governance, because
graph-based data models are richer than any other data model and can express any construct, with knowledge graphs
preferred over property graphs because they facilitate linking TBOX/ABOX with little effort. In addition, they allow to
represent all data integration constructs with the same formalism: target schema + source schema +
mappings.
<!--l. 3370--><p class="indent">   There are two main approaches to achieve data integration:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3372--><p class="noindent">Ontology-based data access: this is a monolithic approach, in which the TBOX is directly related to the
     sources via mappings.
     </p></li>
<li class="itemize">
<!--l. 3374--><p class="noindent">Ontology-mediated queries: this approach relies on the concept of <span class="ecbx-1000">wrapper</span>, which is a view presenting
     the source data. Thus, it allows to select a subset of the data source to be exposed to the whole integration
     system, allowing for security and modularity, as well as pay-as-you-go data integration, i.e., building the
     integrated schema incrementally as new data sources arrive.</p></li></ul>
<!--l. 3382--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">11.1   </span> <a id="x1-8100011.1"></a>Local-As-View (LAV) Integration - Ontology-Mediated Queries (OMQ)</h4>
<!--l. 3384--><p class="noindent">OMQ us a family of systems performing graph-based data integration with LAV (and conceptually GAV is also
possible). It is based on the well-known <span class="ecbx-1000">wrapper-mediator architecture.</span>
<!--l. 3388--><p class="indent">   To make the querying rewriting feasible, they adopt several measures:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3390--><p class="noindent">Exact mappings (closed-world assumption).
     </p></li>
<li class="itemize">
<!--l. 3391--><p class="noindent">Very basic reasoning capabilities: only taxonomies and domain/range inference.</p></li></ul>
<!--l. 3395--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">11.1.1   </span> <a id="x1-8200011.1.1"></a>Big Data Integration Ontology</h5>
<!--l. 3397--><p class="noindent">The BDIO revisits the Data Integration framework and construcs an ontology as follows:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3400--><p class="noindent">It defines the <span class="ecbx-1000">global level</span>, <span class="cmmi-10">G</span>, which is the integrated view of the data.
     </p></li>
<li class="itemize">
<!--l. 3402--><p class="noindent">It defines the <span class="ecbx-1000">source levels</span>, <span class="cmmi-10">S</span>, which are views (wrappers) on the data sources.
     </p></li>
<li class="itemize">
<!--l. 3404--><p class="noindent">And it defines the <span class="ecbx-1000">mappings</span>, <span class="cmmi-10">M</span>, which are the LAV mappings between <span class="cmmi-10">G </span>and <span class="cmmi-10">S</span>.</p></li></ul>
<!--l. 3407--><p class="noindent">A <span class="ecbx-1000">wrapper </span>represents a view on the source, and we can think of it as a named query over the source (a
view).
<!--l. 3410--><p class="indent">   Some typical assumptions made by wrappers are:
     <ul class="itemize1">
<li class="itemize">
<!--l. 3412--><p class="noindent">They expose the source data in tabular format (1NF).
     </p></li>
<li class="itemize">
<!--l. 3413--><p class="noindent">A data source may generate several wrappers.
     </p></li>
<li class="itemize">
<!--l. 3414--><p class="noindent">Typically, new versions of data are considered new wrappers.</p></li></ul>
<div class="newtheorem">
<!--l. 3416--><p class="noindent"><span class="head">
<a id="x1-82001r1"></a>
<span class="ecbx-1000">Example 11.1.</span> </span>A LAV Integration
<!--l. 3419--><p class="indent">   First, we define the global level, <span class="cmmi-10">G</span>:
<div class="center">
<!--l. 3420--><p class="noindent">
<!--l. 3421--><p class="noindent"><img alt="PIC" src="33_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_lav_0.png"/>
</p></p></div>
<!--l. 3424--><p class="indent">   Now, we need to expose the sources by means of wrappers. For this, we automatically bootstrap the attributes
projected by the wrappers.
<!--l. 3427--><p class="indent">   For instance, let’s say our data comes from three sources, Q1, Q2 and Q3:
   <!--l. 3430-->
<div class="lstlisting" id="listing-20"><span class="label"><a id="x1-82002r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">Q1</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">ID</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">and</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">compute</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">the</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">lag</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">ratio</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82003r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">db</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">getCollection</span></span><span style="color:#000000"><span class="ectt-0800">(’</span></span><span style="color:#000000"><span class="ectt-0800">vod</span></span><span style="color:#000000"><span class="ectt-0800">’)</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span style="color:#000000"><span class="ectt-0800">aggregate</span></span><span style="color:#000000"><span class="ectt-0800">([</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82004r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">$project</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{"</span></span><span style="color:#000000"><span class="ectt-0800">VoDMonitorId</span></span><span style="color:#000000"><span class="ectt-0800">":</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">true</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82005r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">lagRatio</span></span><span style="color:#000000"><span class="ectt-0800">":</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span style="color:#000000"><span class="ectt-0800">$divide</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">["</span></span><span style="color:#000000"><span class="ectt-0800">$waitTime</span></span><span style="color:#000000"><span class="ectt-0800">",</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">$watchTime</span></span><span style="color:#000000"><span class="ectt-0800">"]}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82006r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82007r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82008r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">)</span></span><span style="color:#000000"><span class="ectt-0800">]</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82009r8"></a><span class="ecrm-0500">8</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82010r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800">Q2</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">All</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">attributes</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">for</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">tweets</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">in</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">English</span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82011r10"></a><span class="ecrm-0500">10</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82012r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800">Q3</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">association</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">target</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">app</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">-&gt;</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">monitor</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">feedback</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">gathering</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">tool</span></span></div>
<!--l. 3444--><p class="indent">   We end up with the following:
<div class="center">
<!--l. 3445--><p class="noindent">
<!--l. 3446--><p class="noindent"><img alt="PIC" src="34_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_lav_1.png"/>
</p></p></div>
<!--l. 3449--><p class="indent">   Finally, we need to define the LAV mappings for the wrappers. A LAV mapping for a wrapper Q is defined as
<span class="cmmi-10">M </span><span class="cmr-10">= </span><img align="middle" alt="⟨G,S ⟩" class="left" src="summary188x.png"/> where <span class="cmmi-10">G </span>is a named graph and <span class="cmmi-10">S </span>is a set of triples of the form:
<div class="center">
<!--l. 3452--><p class="noindent">
<!--l. 3453--><p class="noindent">&lt;x, owl:sameAs, y&gt;
</p></p></div>
<!--l. 3456--><p class="indent">   where &lt;x, rdf:type, S:Attribute&gt; and &lt;y, rdf:type, G:Feature&gt;.
<!--l. 3458--><p class="indent">   In our example, we can define the LAV mapping for the wrappers for source Q1:
   <!--l. 3461-->
<div class="lstlisting" id="listing-21"><span class="label"><a id="x1-82013r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">--</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">First</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">we</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">define</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">the</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">named</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">graph</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82014r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800">Q1</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">provides</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82015r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">InfoMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">lagRatio</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82016r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">VoDMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">generatesQoS</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">InfoMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82017r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">VoDMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idMonitor</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82018r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82019r7"></a><span class="ecrm-0500">7</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82020r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800">--</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">Now</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">we</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">define</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">the</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">same</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">as</span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">triples</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82021r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800">q1</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">lagRatio</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">sameAs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">lagRatio</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82022r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800">q1</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">VoDMonitorId</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">sameAs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idMonitor</span></span></div>
<!--l. 3474--><p class="indent">   For source Q2:
   <!--l. 3476-->
<div class="lstlisting" id="listing-22"><span class="label"><a id="x1-82023r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">Q2</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">provides</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82024r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">FeedbackGatheringTool</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">generatesOpinion</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">duv</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">UserFeedback</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82025r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">FeedbackGatheringTool</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idFGTool</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82026r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">duv</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">UserFeedback</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dct</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">description</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82027r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82028r6"></a><span class="ecrm-0500">6</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82029r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800">q2</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">feedbackGatheringId</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">sameAs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idFGTool</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82030r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800">q2</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">tweet</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">sameAs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">dct</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">description</span></span></div>
<!--l. 3487--><p class="indent">   And for source Q3:
   <!--l. 3489-->
<div class="lstlisting" id="listing-23"><span class="label"><a id="x1-82031r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">Q3</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">S</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">provides</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">{</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82032r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">SoftwareApplication</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">VoDMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82033r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">SoftwareApplication</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFGTool</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">FeedbackGatheringTool</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82034r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">SoftwareApplication</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idSoftApp</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82035r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">VoDMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82036r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">FeedbackGatheringTool</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idFGTool</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82037r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">}</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82038r8"></a><span class="ecrm-0500">8</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82039r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800">q3</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">MonitorId</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">sameAs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idMonitor</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82040r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800">q3</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">TargetApp</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">sameAs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idSoftApp</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-82041r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800">q3</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">FeedbackId</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">owl</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">sameAs</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idFGTool</span></span></div>
<!--l. 3503--><p class="indent">   And we end up with the following integrated view of the data:
<div class="center">
<!--l. 3504--><p class="noindent">
<!--l. 3505--><p class="noindent"><img alt="PIC" src="35_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Semantic_Data_Mng_LectureNotes_source_lav_2.png"/>
</p></p></div>
</p></p></p></p></p></p></p></p></p></p></p></div>
<!--l. 3507--><p class="indent">
<!--l. 3509--><p class="noindent">
<h4 class="subsectionHead"><span class="titlemark">11.2   </span> <a id="x1-8300011.2"></a>Query Answering - Rewriting Algorithm</h4>
<!--l. 3511--><p class="noindent">Any SPARQL query on the global graph must be rewritten as a query in terms of the wrappers, which provide the way
to access the actual data.
<!--l. 3515--><p class="indent">   For example, assume the following SPARQL query:
   <!--l. 3517-->
<div class="lstlisting" id="listing-24"><span class="label"><a id="x1-83001r1"></a><span class="ecrm-0500">1</span></span><span style="color:#000000"><span class="ectt-0800">SELECT</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800">,</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">t</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">WHERE</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83002r2"></a><span class="ecrm-0500">2</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">t</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">lagRatio</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83003r3"></a><span class="ecrm-0500">3</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">t</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83004r4"></a><span class="ecrm-0500">4</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">InfoMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83005r5"></a><span class="ecrm-0500">5</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">generatedQoS</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">x</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83006r6"></a><span class="ecrm-0500">6</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">VoDMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83007r7"></a><span class="ecrm-0500">7</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">z</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasMonitor</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">y</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83008r8"></a><span class="ecrm-0500">8</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">z</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sc</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">SoftwareApp</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83009r9"></a><span class="ecrm-0500">9</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">z</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">G</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">hasFeature</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83010r10"></a><span class="ecrm-0500">10</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">rdf</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">type</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">sup</span></span><span style="color:#000000"><span class="ectt-0800">:</span></span><span style="color:#000000"><span class="ectt-0800">idSoftwareApp</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">.</span></span><span class="ectt-0800"> </span><br/>
<span class="label"><a id="x1-83011r11"></a><span class="ecrm-0500">11</span></span><span style="color:#000000"><span class="ectt-0800"> </span><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">FILTER</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">?</span></span><span style="color:#000000"><span class="ectt-0800">w</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">=</span></span><span style="color:#000000"><span class="ectt-0800"> </span></span><span style="color:#000000"><span class="ectt-0800">"</span></span><span style="color:#000000"><span class="ectt-0800">SUPERSEDE</span></span><span style="color:#000000"><span class="ectt-0800">"</span></span></div>
<!--l. 3531--><p class="indent">   We start from terminal features. In this case, sup:lagRatio which maps to q1:lagRatio:
   <div class="math-display">
<img alt="Πt(ρq1:lagRatio→t(Q1 )),
" class="math-display" src="summary189x.png"/></div>
<!--l. 3536--><p class="indent">   then, we go up the ontology, reaching sup:InfoMonitor. The query does not change at this point because
this is schema information covered by Q1. We continue going up, until sup:VoDMonitor, and the query
still remains the same. Now, we reach sc:SoftwareApplication, which is not covered by Q1, but by Q3.
Therefore, we need to join them somehow. Q1 and Q3 share sup:idMonitor, so we join them using this
attribute:
   <div class="math-display">
<img alt="Πt (ρq1:lagRatio→t (σq1:VoDMonitorId=q3:MonitorId(Q1 × Q3))),
" class="math-display" src="summary190x.png"/></div>
<!--l. 3545--><p class="indent">   we continue reading the query, reaching sup:idSoftwareApp, which is another feature that needs to be added to the
query:
   <div class="math-display">
<img alt="Πw,t(ρq1:lagRatio→tρq3:targetApp→w (σq1:VoDMonitorId=q3:MonitorId(Q1 × Q3))),
" class="math-display" src="summary191x.png"/></div>
<!--l. 3550--><p class="indent">   finally, we have to apply the filter
   <div class="math-display">
<img alt="σ              (Π   (ρ          ρ            (σ                       (Q1 × Q3)))).
 w=”SUPERSEDE ”  w,t  q1:lagRatio→t q3:targetApp→w   q1:VoDMonitorId=q3:MonitorId
" class="math-display" src="summary192x.png"/></div>
<!--l. 3556--><p class="noindent">
<h5 class="subsubsectionHead"><span class="titlemark">11.2.1   </span> <a id="x1-8400011.2.1"></a>Computational Complexity</h5>
<!--l. 3558--><p class="noindent">This query rewriting algorithm is linear in the size of the subgraph of <span class="cmmi-10">G </span>to navigate, linear in the size of the wrappers
mappings and exponential in the number of wrappers that may join. The good thing is that evidence shows that
typically BigData sources have few join points and therefore the exponential complexity is affordable in real
cases.
<!--l. 3565--><p class="indent">
<h3 class="likesectionHead"><a id="x1-8500011.2.1"></a>References</h3>
<!--l. 1--><p class="noindent">
<div class="thebibliography">
<p class="bibitem"><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a id="XRomero2023"></a>Óscar Romero and Anna Queralt. Semantic data management. Lecture Notes.
</p>
</div>
</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></hr></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></body></html>
