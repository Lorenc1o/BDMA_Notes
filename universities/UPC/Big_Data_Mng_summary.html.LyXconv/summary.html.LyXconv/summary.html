<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>BDM-MIRI - Big Data Management</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="summary.tex"> 
<link rel="stylesheet" type="text/css" href="summary.css"> 
</head><body 
>
   <div class="maketitle">
                                                                                            
                                                                                            
                                                                                            
                                                                                            

<h2 class="titleHead">BDM-MIRI - Big Data Management</h2>
 <div class="author" ><span 
class="ecrm-1200">Jose Antonio Lorencio Abril</span></div><br />
<div class="date" ><span 
class="ecrm-1200">Spring 2023</span></div>
   </div>
<div class="center" 
>
<!--l. 88--><p class="noindent" >
<!--l. 89--><p class="noindent" ><img 
src="0_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_upc-logo.png" alt="PIC"  
width="36" height="36" >
</div>
                                                                                            <div class="flushright" 
>
<!--l. 92--><p class="noindent" >
 Professor: Alberto Abelló
</div>
                                                                                            <div class="flushright" 
>
<!--l. 96--><p class="noindent" >
 Student e-mail: jose.antonio.lorencio@estudiantat..upc.edu
</div>
<!--l. 100--><p class="indent" >
                                                                                            
                                                                                            
<!--l. 107--><p class="noindent" >This
is
a
summary
of
the
course
<span 
class="ecti-1000">Big</span>
<span 
class="ecti-1000">Data</span>
<span 
class="ecti-1000">Management</span>
taught
at
the
Universitat
Politècnica
de
Catalunya
by
Professor
Alberto
Abelló
in
the
academic
year
22/23.
Most
of
the
content
of
this
document
is
adapted
from
the
course
notes
by
Abelló
and
Nadal,
<span class="cite">[<a 
href="#XAbello2022">1</a>]</span>,
so
I
won&#8217;t
be
citing
it
all
the
time.
Other
references
will
                                                                                            
                                                                                            
be
provided
when
used.
<!--l. 109--><p class="indent" >
                                                                                            
                                                                                            
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   &#x00A0;<span class="sectionToc" >1 <a 
href="#x1-40001" id="QQ2-1-4">Introduction to Big Data</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.1 <a 
href="#x1-50001.1" id="QQ2-1-5">Recognise the relevance of data driven decision making</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.2 <a 
href="#x1-60001.2" id="QQ2-1-6">Identify the three high level categories of analytical tools</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.3 <a 
href="#x1-70001.3" id="QQ2-1-7">Identify the two main sources of Big Data</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4 <a 
href="#x1-80001.4" id="QQ2-1-8">Give a definition of Big Data</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.5 <a 
href="#x1-90001.5" id="QQ2-1-9">Compare traditional data warehousing against Big Data management</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.6 <a 
href="#x1-100001.6" id="QQ2-1-12">Distinguish descriptive, predictive and prescriptive analysis</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.7 <a 
href="#x1-110001.7" id="QQ2-1-13">Explain the novelty of Cloud Computing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.8 <a 
href="#x1-120001.8" id="QQ2-1-14">Justify the benefits of Cloud Computing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.9 <a 
href="#x1-130001.9" id="QQ2-1-15">Explain the link between Big Data and Cloud Computing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.10 <a 
href="#x1-140001.10" id="QQ2-1-16">Distinguish the main four service levels in Cloud Computing</a></span>
<br />   &#x00A0;<span class="sectionToc" >2 <a 
href="#x1-150002" id="QQ2-1-17">Big Data Design</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x1-160002.1" id="QQ2-1-18">Define the impedance mismatch</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2 <a 
href="#x1-170002.2" id="QQ2-1-19">Identify applications handling different kinds of data</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.3 <a 
href="#x1-180002.3" id="QQ2-1-20">Name four different kinds of NOSQL systems</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.4 <a 
href="#x1-190002.4" id="QQ2-1-21">Explain three consequences of schema variability</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.5 <a 
href="#x1-200002.5" id="QQ2-1-22">Explain the consequences of physical independence</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.6 <a 
href="#x1-210002.6" id="QQ2-1-23">Explain the two dimensions to classify NOSQL systems according
to how they manage the schema</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.7 <a 
href="#x1-220002.7" id="QQ2-1-24">Explain the three elements of the RUM conjecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.8 <a 
href="#x1-230002.8" id="QQ2-1-25">Justify the need of polyglot persistence</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.9 <a 
href="#x1-240002.9" id="QQ2-1-26">Decide whether two NOSQL designs have more or less explicit/fix schema</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.10 <a 
href="#x1-250002.10" id="QQ2-1-27">Given a relatively small UML conceptual diagram, translate it into
a logical representation of data considering flexible schema representation</a></span>
<br />   &#x00A0;<span class="sectionToc" >3 <a 
href="#x1-260003" id="QQ2-1-28">Distributed Data Management</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.1 <a 
href="#x1-270003.1" id="QQ2-1-29">Give a definition of Distributed System</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.2 <a 
href="#x1-280003.2" id="QQ2-1-30">Enumerate the six challenges of a Distributed System</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.3 <a 
href="#x1-290003.3" id="QQ2-1-31">Give a definition of Distributed Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.4 <a 
href="#x1-300003.4" id="QQ2-1-32">Explain the different transparency layers in DDBMS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.5 <a 
href="#x1-310003.5" id="QQ2-1-33">Identify the requirements that distribution imposes on the ANSI/SPARC
architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6 <a 
href="#x1-320003.6" id="QQ2-1-36">Draw a classical reference functional architecture for DDBMS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.7 <a 
href="#x1-330003.7" id="QQ2-1-39">Enumerate the eight main features of Cloud Databases</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.8 <a 
href="#x1-340003.8" id="QQ2-1-40">Explain the difficulties of Cloud Database providers to have multiple tenants</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.9 <a 
href="#x1-350003.9" id="QQ2-1-41">Enumerate the four main problems tenants/users need to tackle in Cloud Databases</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.10 <a 
href="#x1-360003.10" id="QQ2-1-42">Distinguish the cost of sequential and random access</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.11 <a 
href="#x1-370003.11" id="QQ2-1-43">Explain the difference between the cost of sequential and random access</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.12 <a 
href="#x1-380003.12" id="QQ2-1-44">Distinguish vertical and horizontal fragmentation</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.13 <a 
href="#x1-390003.13" id="QQ2-1-45">Recognize the complexity and benefits of data allocation</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.14 <a 
href="#x1-400003.14" id="QQ2-1-46">Explain the benefits of replication</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.15 <a 
href="#x1-410003.15" id="QQ2-1-47">Discuss the alternatives of a distributed catalog</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.16 <a 
href="#x1-420003.16" id="QQ2-1-48">Decide when a fragmentation strategy is correct</a></span>
<br />   &#x00A0;<span class="sectionToc" >4 <a 
href="#x1-430004" id="QQ2-1-49">Distributed Data Processing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.1 <a 
href="#x1-440004.1" id="QQ2-1-50">Explain the CAP theorem</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.2 <a 
href="#x1-450004.2" id="QQ2-1-51">Identify the 3 configuration alternatives given by the CAP theorem</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.3 <a 
href="#x1-460004.3" id="QQ2-1-52">Explain the 4 synchronization protocols we can have</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.4 <a 
href="#x1-470004.4" id="QQ2-1-54">Explain what eventual consistency means</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.5 <a 
href="#x1-490004.5" id="QQ2-1-56">Enumerate the phases of distributed query processing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.6 <a 
href="#x1-500004.6" id="QQ2-1-57">Explain the difference between data shipping and query shipping</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.7 <a 
href="#x1-510004.7" id="QQ2-1-58">Explain the meaning of &#8217;<span 
class="ecti-1000">reconstruction</span>&#8217; and &#8217;<span 
class="ecti-1000">reduction</span>&#8217; in syntactic optimization</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.8 <a 
href="#x1-520004.8" id="QQ2-1-59">Explain the purpose of the &#8217;<span 
class="ecti-1000">exchange</span>&#8217; operator in physical optimization</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.9 <a 
href="#x1-530004.9" id="QQ2-1-60">Enumerate the 4 different cost factors in distributed query processing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.10 <a 
href="#x1-540004.10" id="QQ2-1-61">Distinguish between response time and query time</a></span>
                                                                                            
                                                                                            
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.11 <a 
href="#x1-550004.11" id="QQ2-1-62">Explain the different kinds of parallelism</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.12 <a 
href="#x1-560004.12" id="QQ2-1-63">Identify the impact of fragmentation in intra-operator parallelism</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.13 <a 
href="#x1-570004.13" id="QQ2-1-64">Explain the impact of tree topologies (i.e. linear and bushy) in
inter-operator parallelism</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.14 <a 
href="#x1-580004.14" id="QQ2-1-65">Explain the limits of scalability</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.15 <a 
href="#x1-590004.15" id="QQ2-1-66">Given the overall number of machines in the cluster, identify the
consistency problems that arise depending on the configuration of the number
of required replicas read and written to confirm the corresponding operations</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.16 <a 
href="#x1-600004.16" id="QQ2-1-67">Given a parallel system and a workload, find the number of machines
maximizing throughput</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.17 <a 
href="#x1-610004.17" id="QQ2-1-68">Estimate the cost of a distributed query</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.18 <a 
href="#x1-620004.18" id="QQ2-1-69">Given a query and a database design, recognize the difficulties and
opportunities behind distributed query processing</a></span>
<br />   &#x00A0;<span class="sectionToc" >5 <a 
href="#x1-630005" id="QQ2-1-70">Hadoop Distributed File System (HDFS)</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.1 <a 
href="#x1-640005.1" id="QQ2-1-71">Recognize the need of persistent storage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2 <a 
href="#x1-650005.2" id="QQ2-1-72">Enumerate the design goals of GFS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.3 <a 
href="#x1-660005.3" id="QQ2-1-73">Explain the structural components of HDFS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.4 <a 
href="#x1-670005.4" id="QQ2-1-75">Name three file formats in HDFS and explain their differences</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.5 <a 
href="#x1-680005.5" id="QQ2-1-78">Recognize the importance of choosing the file format depending on the workload</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.6 <a 
href="#x1-690005.6" id="QQ2-1-79">Explain the actions of the coordinator node in front of chunkserver failure</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.7 <a 
href="#x1-700005.7" id="QQ2-1-80">Explain a mechanism to avoid overloading the master node in HDFS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.8 <a 
href="#x1-710005.8" id="QQ2-1-81">Explain how data is partitioned and replicated in HDFS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.9 <a 
href="#x1-720005.9" id="QQ2-1-82">Transaction management</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.10 <a 
href="#x1-730005.10" id="QQ2-1-83">Recognize the relevance of sequential read</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.11 <a 
href="#x1-740005.11" id="QQ2-1-85">Choose the format for an HDFS file based on heuristics</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.12 <a 
href="#x1-750005.12" id="QQ2-1-86">Estimate the data retrieved by scan, projection and selection operations
in SequenceFile, Avro and Parquet</a></span>
<br />   &#x00A0;<span class="sectionToc" >6 <a 
href="#x1-760006" id="QQ2-1-87">HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.1 <a 
href="#x1-770006.1" id="QQ2-1-88">Give the definition of the BigTable data model</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2 <a 
href="#x1-780006.2" id="QQ2-1-89">Explain what a map structure is</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.3 <a 
href="#x1-790006.3" id="QQ2-1-90">Explain the difference between a Key-Value and a Wide-Column store</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.4 <a 
href="#x1-800006.4" id="QQ2-1-91">Enumerate the main schema elements of HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.5 <a 
href="#x1-810006.5" id="QQ2-1-92">Explain the main operations available of HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.6 <a 
href="#x1-820006.6" id="QQ2-1-93">Enumerate the main functional components of HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.7 <a 
href="#x1-830006.7" id="QQ2-1-94">Explain the role of the different functional components in HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.8 <a 
href="#x1-840006.8" id="QQ2-1-95">Explain the tree structure of data in HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.9 <a 
href="#x1-850006.9" id="QQ2-1-97">Explain the 3 basic algorithms of HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.10 <a 
href="#x1-860006.10" id="QQ2-1-98">Explain the main components and behavior of an LSM-tree</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.11 <a 
href="#x1-870006.11" id="QQ2-1-99">Compare a distributed tree against a hash structure of data</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.12 <a 
href="#x1-880006.12" id="QQ2-1-100">Justify the need of dynamic hashing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.13 <a 
href="#x1-910006.13" id="QQ2-1-103">Explain the structure of the HBase catalog</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.14 <a 
href="#x1-920006.14" id="QQ2-1-104">Explain the mistake compensation mechanism of the cache in HBase client</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.15 <a 
href="#x1-930006.15" id="QQ2-1-105">Enumerate the ACID guarantees provided by HBase</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.16 <a 
href="#x1-940006.16" id="QQ2-1-106">Explain the execution flow of an HBase query both at global and local levels</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.17 <a 
href="#x1-950006.17" id="QQ2-1-107">Given few queries, define the best logical structure of a table considering
its physical implications in terms of performance</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.18 <a 
href="#x1-960006.18" id="QQ2-1-108">Given the data in two leafs of a Log-Structured Merge-tree (LSM-tree),
merge them</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.19 <a 
href="#x1-970006.19" id="QQ2-1-109">Given the current structure of a Linear Hash, modify it according
to insertions potentially adding buckets</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.20 <a 
href="#x1-980006.20" id="QQ2-1-110">Given the current structure of a Consistent Hash, modify it in case
of adding a bucket</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.21 <a 
href="#x1-990006.21" id="QQ2-1-111">Calculate the number of round trips needed in case of mistake
compensation of the tree metadata</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.22 <a 
href="#x1-1000006.22" id="QQ2-1-112">Use HBase shell to create a table and access it</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.23 <a 
href="#x1-1010006.23" id="QQ2-1-113">Use HBase API to create a table and access it</a></span>
                                                                                            
                                                                                            
<br />   &#x00A0;<span class="sectionToc" >7 <a 
href="#x1-1020007" id="QQ2-1-114">Document Stores: MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.1 <a 
href="#x1-1030007.1" id="QQ2-1-115">Explain the main difference between key-value and document stores</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.2 <a 
href="#x1-1040007.2" id="QQ2-1-116">Explain the main resemblances and differences between XML and JSON documents</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.3 <a 
href="#x1-1050007.3" id="QQ2-1-117">Explain the design principle of documents</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.4 <a 
href="#x1-1060007.4" id="QQ2-1-118">Name 3 consequences of the design principle of a document store</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.5 <a 
href="#x1-1070007.5" id="QQ2-1-119">Explain the difference between relational foreign keys and document references</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.6 <a 
href="#x1-1080007.6" id="QQ2-1-120">Exemplify 6 alternatives in deciding the structure of a document</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.7 <a 
href="#x1-1090007.7" id="QQ2-1-121">Explain the difference between JSON and BJSON</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.8 <a 
href="#x1-1100007.8" id="QQ2-1-122">Name the main functional components of MongoDB architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.9 <a 
href="#x1-1110007.9" id="QQ2-1-123">Explain the role of <span 
class="ecti-1000">&#8217;mongos&#8217; </span>in query processing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.10 <a 
href="#x1-1120007.10" id="QQ2-1-124">Explain what a replica set is in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.11 <a 
href="#x1-1130007.11" id="QQ2-1-125">Name the three storage engines in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.12 <a 
href="#x1-1140007.12" id="QQ2-1-126">Explain what shard and chunk are in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.13 <a 
href="#x1-1150007.13" id="QQ2-1-127">Explain the two horizontal fragmentation mechanisms in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.14 <a 
href="#x1-1160007.14" id="QQ2-1-128">Explain how the catalog works in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.15 <a 
href="#x1-1170007.15" id="QQ2-1-129">Identify the characteristics of the replica synchronization management
in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.16 <a 
href="#x1-1180007.16" id="QQ2-1-130">Explain how primary copy failure is managed in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.17 <a 
href="#x1-1190007.17" id="QQ2-1-131">Name the three query mechanisms of MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.18 <a 
href="#x1-1200007.18" id="QQ2-1-132">Explain the query optimization mechanism of MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.19 <a 
href="#x1-1210007.19" id="QQ2-1-133">Given two alternative structures of a document, explain the performance
impact of the choice in a given setting</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.20 <a 
href="#x1-1220007.20" id="QQ2-1-134">Simulate splitting and migration of chunks in MongoDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.21 <a 
href="#x1-1230007.21" id="QQ2-1-135">Configure the number of replicas needed for confirmation on both
reading and writing in a given scenario</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.22 <a 
href="#x1-1240007.22" id="QQ2-1-136">Perform some queries on MongoDB through the shell and aggregation framework</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.23 <a 
href="#x1-1250007.23" id="QQ2-1-137">Compare the access costs given different document designs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.24 <a 
href="#x1-1260007.24" id="QQ2-1-138">Compare the access costs with different indexing strategies (i.e.
hash and range based)</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >7.25 <a 
href="#x1-1270007.25" id="QQ2-1-139">Compare the access costs with different sharding distributions (i.e.
balanced and unbalanced)</a></span>
<br />   &#x00A0;<span class="sectionToc" >8 <a 
href="#x1-1280008" id="QQ2-1-140">MapReduce I</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.1 <a 
href="#x1-1290008.1" id="QQ2-1-141">Enumerate several use cases of MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.2 <a 
href="#x1-1300008.2" id="QQ2-1-142">Explain 6 benefits of using MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.3 <a 
href="#x1-1310008.3" id="QQ2-1-143">Describe what the MapReduce is in the context of a DDBMS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.4 <a 
href="#x1-1320008.4" id="QQ2-1-144">Recognize the signature of Map and Reduce functions</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.5 <a 
href="#x1-1330008.5" id="QQ2-1-145">Explain the phases of a MapReduce operation</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.6 <a 
href="#x1-1340008.6" id="QQ2-1-146">Justify to which extent MapReduce is generic</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.7 <a 
href="#x1-1350008.7" id="QQ2-1-147">Simulate the execution of a simple MapReduce algorithm from the
user (agnostic of implementation details) perspective</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.8 <a 
href="#x1-1360008.8" id="QQ2-1-148">Identify the usefulness of MapReduce in a given use case</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.9 <a 
href="#x1-1370008.9" id="QQ2-1-149">Define the key in the output of the map for a simple problem</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >8.10 <a 
href="#x1-1380008.10" id="QQ2-1-150">Provide the pseudo-code of map and reduce functions for a simple problem</a></span>
<br />   &#x00A0;<span class="sectionToc" >9 <a 
href="#x1-1390009" id="QQ2-1-151">MapReduce II</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.1 <a 
href="#x1-1400009.1" id="QQ2-1-152">Enumerate the different kind of processes in Hadoop MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.2 <a 
href="#x1-1410009.2" id="QQ2-1-153">Draw the hierarchy of Hadoop MapReduce objects</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.3 <a 
href="#x1-1420009.3" id="QQ2-1-154">Explain the information kept in the Hadoop MapReduce coordinator node</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.4 <a 
href="#x1-1430009.4" id="QQ2-1-155">Explain how to decide the number of mappers and reducers</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.5 <a 
href="#x1-1440009.5" id="QQ2-1-156">Explain the fault tolerance mechanisms in Hadoop MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.6 <a 
href="#x1-1470009.6" id="QQ2-1-159">Identify query shipping and data shipping in MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.7 <a 
href="#x1-1480009.7" id="QQ2-1-160">Explain the effect of using the combine function in MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.8 <a 
href="#x1-1490009.8" id="QQ2-1-161">Identify the synchronization barriers of MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.9 <a 
href="#x1-1500009.9" id="QQ2-1-162">Explain the main problems and limitations of Hadoop MapReduce</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.10 <a 
href="#x1-1510009.10" id="QQ2-1-163">Apply the different steps of a MapReduce execution at the implementation level</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >9.11 <a 
href="#x1-1520009.11" id="QQ2-1-164">Decide on the use of the combine function</a></span>
<br />   &#x00A0;<span class="sectionToc" >10 <a 
href="#x1-15300010" id="QQ2-1-165">Spark I</a></span>
                                                                                            
                                                                                            
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >10.1 <a 
href="#x1-15400010.1" id="QQ2-1-166">Name the main Spark contributions and characteristics</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >10.2 <a 
href="#x1-15500010.2" id="QQ2-1-167">Compare MapReduce and Spark</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >10.3 <a 
href="#x1-15600010.3" id="QQ2-1-168">Define a dataframe</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >10.4 <a 
href="#x1-15700010.4" id="QQ2-1-169">Distinguish dataframe from relation and matrix</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >10.5 <a 
href="#x1-15800010.5" id="QQ2-1-170">Distinguish Spark and Pandas dataframe</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >10.6 <a 
href="#x1-15900010.6" id="QQ2-1-171">Enumerate some abstraction on top of Spark</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >10.7 <a 
href="#x1-16000010.7" id="QQ2-1-172">Provide the Spark pseudo-code for a simple problem using dataframes</a></span>
<br />   &#x00A0;<span class="sectionToc" >11 <a 
href="#x1-16100011" id="QQ2-1-173">Spark II</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.1 <a 
href="#x1-16200011.1" id="QQ2-1-174">Define RDD</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.2 <a 
href="#x1-16300011.2" id="QQ2-1-175">Distinguish between Base RDD and Pair RDD</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.3 <a 
href="#x1-16400011.3" id="QQ2-1-176">Distinguish between transformations and actions</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.4 <a 
href="#x1-16500011.4" id="QQ2-1-177">Explain available transformations</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.5 <a 
href="#x1-16600011.5" id="QQ2-1-178">Explain available actions</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.6 <a 
href="#x1-16700011.6" id="QQ2-1-179">Name the main Spark runtime components</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.7 <a 
href="#x1-16800011.7" id="QQ2-1-180">Explain how to manage parallelism in Spark</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.8 <a 
href="#x1-16900011.8" id="QQ2-1-181">Explain how recoverability works in Spark</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.9 <a 
href="#x1-17000011.9" id="QQ2-1-182">Distinguish between narrow and wide dependencies</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.10 <a 
href="#x1-17100011.10" id="QQ2-1-183">Name the two mechanisms to share variables</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >11.11 <a 
href="#x1-17200011.11" id="QQ2-1-184">Provide the Spark pseudo-code for a simple problem using RDDs</a></span>
<br />   &#x00A0;<span class="sectionToc" >12 <a 
href="#x1-17300012" id="QQ2-1-185">Stream Data Management</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.1 <a 
href="#x1-17400012.1" id="QQ2-1-186">Define a data stream</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.2 <a 
href="#x1-17500012.2" id="QQ2-1-187">Distinguish the two kinds of stream management systems</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.3 <a 
href="#x1-17600012.3" id="QQ2-1-188">Recognize the importance of stream management</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.4 <a 
href="#x1-17700012.4" id="QQ2-1-189">Enumerate the most relevant chracteristics of streams</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.5 <a 
href="#x1-17800012.5" id="QQ2-1-190">Explain to which extent a DBMS can manage streams</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.6 <a 
href="#x1-17900012.6" id="QQ2-1-191">Name 10 differences between DBMS and SPE</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.7 <a 
href="#x1-18000012.7" id="QQ2-1-192">Characterize the kinds of queries in an SPE</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.8 <a 
href="#x1-18100012.8" id="QQ2-1-193">Explain the two parameters of a sliding window</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.9 <a 
href="#x1-18200012.9" id="QQ2-1-195">Explain the three stream architectural patterns</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.10 <a 
href="#x1-18300012.10" id="QQ2-1-196">Explain the goals of Spark streaming architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.11 <a 
href="#x1-18400012.11" id="QQ2-1-197">Draw the architecture of Spark streaming</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.12 <a 
href="#x1-18500012.12" id="QQ2-1-198">Identify the need of a stream ingestion pattern</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.13 <a 
href="#x1-18600012.13" id="QQ2-1-199">Identify the need of a near-real time processing pattern</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.14 <a 
href="#x1-18700012.14" id="QQ2-1-200">Identify the kind of message exchange pattern</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.15 <a 
href="#x1-18800012.15" id="QQ2-1-201">Simulate the mesh-join algorithm</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.16 <a 
href="#x1-18900012.16" id="QQ2-1-202">Estimate the cost of the mesh-join algorithm</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >12.17 <a 
href="#x1-19000012.17" id="QQ2-1-203">Use windowing transformations in Spark streaming</a></span>
<br />   &#x00A0;<span class="sectionToc" >13 <a 
href="#x1-19100013" id="QQ2-1-204">Data Stream Analysis</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.1 <a 
href="#x1-19200013.1" id="QQ2-1-205">Explain the difference between generic one-pass algorithms and stream processing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.2 <a 
href="#x1-19300013.2" id="QQ2-1-206">Name the two challenges of stream processing</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.3 <a 
href="#x1-19400013.3" id="QQ2-1-207">Name two solutions to limited processing capacity</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.4 <a 
href="#x1-19500013.4" id="QQ2-1-208">Name three solutions to limited memory capacity</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.5 <a 
href="#x1-19600013.5" id="QQ2-1-209">Decide the probability of keeping a new element or removing an
old one from memory to keep equi-probability on load shedding</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.6 <a 
href="#x1-19700013.6" id="QQ2-1-210">Decide the parameters of the hash function to get a representative
result on load shedding</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.7 <a 
href="#x1-19800013.7" id="QQ2-1-211">Decide the optimum number of hash functions in a Bloom filter</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.8 <a 
href="#x1-19900013.8" id="QQ2-1-212">Approximate the probability of false positives in a Bloom filter</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.9 <a 
href="#x1-20000013.9" id="QQ2-1-213">Calculate the weighted average of an attribute considering and
exponentially decaying function</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >13.10 <a 
href="#x1-20100013.10" id="QQ2-1-214">Decide if heavy hitters will show false positives</a></span>
<br />   &#x00A0;<span class="sectionToc" >14 <a 
href="#x1-20200014" id="QQ2-1-215">Big Data Architectures</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.1 <a 
href="#x1-20300014.1" id="QQ2-1-216">Explain the problem of a spaguetti architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.2 <a 
href="#x1-20400014.2" id="QQ2-1-217">Explain the need of the Lambda Architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.3 <a 
href="#x1-20500014.3" id="QQ2-1-218">Explain the difference between Kappa and Lambda Architectures</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.4 <a 
href="#x1-20600014.4" id="QQ2-1-219">Justify the need of a Data Lake</a></span>
                                                                                            
                                                                                            
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.5 <a 
href="#x1-20700014.5" id="QQ2-1-220">Identify the difficulties of a Data Lake</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.6 <a 
href="#x1-20800014.6" id="QQ2-1-221">Explain the need of each component in the Bolster Architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.7 <a 
href="#x1-20900014.7" id="QQ2-1-222">Map the components of the Bolster Architecture to the RDBMS Architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >14.8 <a 
href="#x1-21000014.8" id="QQ2-1-223">Given a use case, define its software architecture</a></span>
<br />   &#x00A0;<span class="sectionToc" >15 <a 
href="#x1-21100015" id="QQ2-1-224">In-Memory Columnar Databases (New Relational Architecture)</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.1 <a 
href="#x1-21200015.1" id="QQ2-1-225">Justify the viability of in-memory databases</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.2 <a 
href="#x1-21300015.2" id="QQ2-1-226">Explain the principles of NUMA architecture</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.3 <a 
href="#x1-21400015.3" id="QQ2-1-227">Enumerate 3 techniques to optimize cache usage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.4 <a 
href="#x1-21500015.4" id="QQ2-1-228">Give 4 arguments supporting columnar storage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.5 <a 
href="#x1-21600015.5" id="QQ2-1-229">Explain 3 classical optimization techniques in RDBMS related to column storage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.6 <a 
href="#x1-21700015.6" id="QQ2-1-230">Sketch the functional architecture of SanssouciuDB</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.7 <a 
href="#x1-21800015.7" id="QQ2-1-231">Explain 4 optimizations implemented in SanssouciuDB to improve data access</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.8 <a 
href="#x1-21900015.8" id="QQ2-1-232">Explain how to choose the best layout</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.9 <a 
href="#x1-22000015.9" id="QQ2-1-233">Identify the difference between column-stores and NOSQL related to transactions</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.10 <a 
href="#x1-22100015.10" id="QQ2-1-234">Explain 3 difficulties of pipelining in column-stores</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.11 <a 
href="#x1-22200015.11" id="QQ2-1-235">Explain 3 problems to implement parallelism in in-memory column-stores</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.12 <a 
href="#x1-22300015.12" id="QQ2-1-236">Explain 5 query optimization techniques specific to columnar storage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.13 <a 
href="#x1-22400015.13" id="QQ2-1-237">Given a data setting, justify the choice of either row or column storage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >15.14 <a 
href="#x1-22500015.14" id="QQ2-1-238">Given the data in a column, use run-length encoding with dictionary
to compress it</a></span>
   </div>
<!--l. 113--><p class="indent" >
                                                                                            
                                                                                            
   <h3 class="likesectionHead"><a 
 id="x1-2000"></a>List of Figures</h3>
   <div class="tableofcontents"><span class="lofToc" >1&#x00A0;<a 
href="#x1-9001r1">Business Intelligence Cycle.</a></span><br /><span class="lofToc" >2&#x00A0;<a 
href="#x1-9002r2">Big Data Cycle.</a></span><br /><span class="lofToc" >3&#x00A0;<a 
href="#x1-31001r3">Extended ANSI/SPARC
architecture.</a></span><br /><span class="lofToc" >4&#x00A0;<a 
href="#x1-31002r4">Extended ANSI/SPARC architecture with distribution.</a></span><br /><span class="lofToc" >5&#x00A0;<a 
href="#x1-32001r5">Functional
architecture of a centralized DBMS.</a></span><br /><span class="lofToc" >6&#x00A0;<a 
href="#x1-32012r6">Functional architecture of a DDBMS.</a></span><br /><span class="lofToc" >7&#x00A0;<a 
href="#x1-46001r7">Replica
synchronization  alternatives.  Source:  [2].</a></span><br /><span class="lofToc" >8&#x00A0;<a 
href="#x1-66001r8">HDFS  Architecture.  Source:
HDFS-Architecture.</a></span><br /><span class="lofToc" >9&#x00A0;<a 
href="#x1-73001r9">Memory caching diagram. Source: Hazelcast Glossary
of Terms.</a></span><br /><span class="lofToc" >10&#x00A0;<a 
href="#x1-181001r10">Window parameters visualization.</a></span><br />
   </div>
<!--l. 117--><p class="noindent" >
   <h3 class="likesectionHead"><a 
 id="x1-3000"></a>List of Tables</h3>
   <div class="tableofcontents"><span class="lotToc" >1&#x00A0;<a 
href="#x1-67001r1">Pros and cons of each data format of HDFS.</a></span><br /><span class="lotToc" >2&#x00A0;<a 
href="#x1-67002r2">Comparison of data formats
of HDFS.</a></span><br /><span class="lotToc" >3&#x00A0;<a 
href="#x1-84001r3">A StoreFile.</a></span><br />
   </div>
<!--l. 119--><p class="indent" >
<!--l. 119--><p class="noindent" ><span 
class="ecbx-1440">List of Algorithms</span>
<!--l. 121--><p class="indent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-40001"></a>Introduction to Big Data</h3>
<!--l. 125--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-50001.1"></a>Recognise the relevance of data driven decision making</h4>
<!--l. 127--><p class="noindent" ><span 
class="ecbx-1000">Data driven decision making </span>is the strategy of using data to make decisions, in order to improve the chances of
obtaining a positive outcome. It has been gaining importance in the past years, mainly because the data
generation rate is increasing rapidly, allowing greater analyses for those who are able to leverage all this
data.
<!--l. 133--><p class="indent" >   The ability to collect, store, combine and analyze relevant data enables companies to gain a competitive advantage
over their competitors which are not able to take on these task.
<!--l. 137--><p class="indent" >   In a nutshell, it is the confluence of three major socio-economic and technological trends that makes data driven
innovation a new phenomenon:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 140--><p class="noindent" >The exponential growth in data generated and collected.
     </li>
     <li class="itemize">
     <!--l. 141--><p class="noindent" >The widespread use of data analytitcs, including start-ups and small and medium entreprises.
     </li>
     <li class="itemize">
     <!--l. 143--><p class="noindent" >The emergence of a paradigm shift in knowledge.</li></ul>
<!--l. 146--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-60001.2"></a>Identify the three high level categories of analytical tools</h4>
<!--l. 148--><p class="noindent" ><span 
class="ecbx-1000">Business Intelligence (BI) </span>is the concept of using dashboard to represent the status and evolution of companies,
using data from the different applications used by the production systems of the company, which needs to be processed
with ETL (Extract, Transform, Load) pipelines into a Data Warehouse. This data is then modelled into data cubes,
that are queried with OLAP (OnLine Analytic Processing) purposes. The analytical tools that this setup allows are
three:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-6002x1">
     <!--l. 156--><p class="noindent" >Static generation of reports.
     </li>
<li 
  class="enumerate" id="x1-6004x2">
     <!--l. 157--><p class="noindent" >Dynamic (dis)aggregation and navigation by means of OLAP operations.
     </li>
<li 
  class="enumerate" id="x1-6006x3">
     <!--l. 158--><p class="noindent" >Inference of hidden patterns or trends with data mining tools.</li></ol>
                                                                                            
                                                                                            
<!--l. 161--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-70001.3"></a>Identify the two main sources of Big Data</h4>
<!--l. 163--><p class="noindent" >The two main sources of Big Data are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 165--><p class="noindent" >The <span 
class="ecbx-1000">Internet</span>, which shifted from a passive role, where static hand-crafted contents were provided by
     some gurus, to a dynamic role, where contents can be easily generated by anybody in the world, specially
     through social networks.
     </li>
     <li class="itemize">
     <!--l. 169--><p class="noindent" >The <span 
class="ecbx-1000">improvement of automation and digitalization </span>on the side of industries, which allows to monitor
     many relevant aspects of the company&#8217;s scope, giving rise to the concept of Internet of Things (IoT), and
     generating a continuous flow of information.</li></ul>
<!--l. 175--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-80001.4"></a>Give a definition of Big Data</h4>
<!--l. 177--><p class="noindent" ><span 
class="ecbx-1000">Big Data </span>is a natural evolution of Business Intelligence, and inherits its ultimate goal of transforming raw data into
valuable knowledge, and it can be characterized in terms of the <span 
class="ecbx-1000">five V&#8217;s</span>:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 182--><p class="noindent" ><span 
class="ecbx-1000">Volume</span>: there are large amount of digital information produced and stored in new systems.
     </li>
     <li class="itemize">
     <!--l. 184--><p class="noindent" ><span 
class="ecbx-1000">Velocity</span>: the pace at which data is generated, ingested and processed is very fast, giving rise to the
     concept of data stream (and two related challenges: <span 
class="ecti-1000">data stream ingestion </span>and <span 
class="ecti-1000">data stream processing</span>).
     </li>
     <li class="itemize">
     <!--l. 188--><p class="noindent" ><span 
class="ecbx-1000">Variety</span>: there are multiple, heterogeneous data formats and schemas, which need to be dealt with. Special
     attention is needed for semi-structured and unstructured external data. The <span 
class="ecti-1000">data variety challenge </span>is
     considered as the most crucial challenge in data driven organizations.
     </li>
     <li class="itemize">
     <!--l. 193--><p class="noindent" ><span 
class="ecbx-1000">Variability</span>: the incoming data can have an evolving nature, which the system needs to be able to cope
     with.
     </li>
     <li class="itemize">
     <!--l. 195--><p class="noindent" ><span 
class="ecbx-1000">Veracity</span>: the veracity of the data is related to its quality, and it makes it compulsory to develop <span 
class="ecti-1000">Data</span>
     <span 
class="ecti-1000">Governance </span>practices, to effectively manage data assets.</li></ul>
<!--l. 200--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.5   </span> <a 
 id="x1-90001.5"></a>Compare traditional data warehousing against Big Data management</h4>
<!--l. 202--><p class="noindent" >In traditional business intelligence, data from different sources inside the company is ETL-processed into the data
warehouse, which can then be analyzed using the three types of analyses we&#8217;ve seen (Reports, OLAP, DM), in order to
extract useful information that ultimately affects the strategy of the company. This is summarized in Figure <a 
href="#x1-9001r1">1<!--tex4ht:ref: fig:Business-Intelligence-Cycle. --></a>. As
highlighted in the figure, the data warehousing process encompasses the ETL processes and the Data Warehouse design
and maintenance.
<!--l. 211--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-9001r1"></a>
                                                                                            
                                                                                            
<!--l. 213--><p class="noindent" ><img 
src="1_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_BI_Cycle.png" alt="PIC"  
width="43" height="43" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">Business Intelligence Cycle.</span></div><!--tex4ht:label?: x1-9001r1 -->
                                                                                            
                                                                                            
<!--l. 216--><p class="indent" >   </div><hr class="endfigure">
<!--l. 218--><p class="indent" >   In the context of big data, the focus is shifted, from analyzing data from just inside sources, to data from all types of
heterogeneous sources. In this setup, instead of doing an ETL process, the data is collected, through the process of
ingestion, and stored into a Data Lake (from which analysts would extract data and perform all necessary
transformations a posteriori) or a Polystore (which is a DBMS built on top of different other technologies, to be able to
cope with heterogeneous data). Whatever the storing decision, Big Data Analytics are then done on this data,
differenciating:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 228--><p class="noindent" >Small analytics: querying and reporting the data and OLAP processing.
     </li>
     <li class="itemize">
     <!--l. 229--><p class="noindent" >Big Analytics: performing data mining on the data.</li></ul>
<!--l. 231--><p class="noindent" >This process is depicted in Figure <a 
href="#x1-9002r2">2<!--tex4ht:ref: fig:Big-Data-Cycle. --></a>. In this diagram, we see that the <span 
class="ecbx-1000">Big Data Management </span>consists of the task of
ingestion, together with the design and maintenance of the Data Lake / Polystore.
<!--l. 236--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-9002r2"></a>
                                                                                            
                                                                                            
<!--l. 238--><p class="noindent" ><img 
src="2_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_BigData_Cycle.png" alt="PIC"  
width="43" height="43" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2: </span><span  
class="content">Big Data Cycle.</span></div><!--tex4ht:label?: x1-9002r2 -->
                                                                                            
                                                                                            
<!--l. 241--><p class="indent" >   </div><hr class="endfigure">
<!--l. 243--><p class="indent" >   Thus, the differences are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 245--><p class="noindent" >Data  Warehousing  does  the  ETL  process  over  the  data  produced  by  the  company,  while  Big  Data
     Management does the process of ingestion, by which data from internal and external sources is collected.
     </li>
     <li class="itemize">
     <!--l. 248--><p class="noindent" >Data Warehousing uses a Data Warehouse to store the ETLed data and the analyses need to be designed
     with the structure of this stored data. In contrast, in Big Data Management, the storing facility can cope
     with the data as is, so the analyses have a wider scope, but they need to correctly treat the data for each
     analysis conducted.
     </li>
     <li class="itemize">
     <!--l. 253--><p class="noindent" >Thus, as can be inferred from the previous paragraphs, Big Data Management provides a more flexible
     setup than Data Warehousing, at the expense of needing to perform ad-hoc transformation for each
     analysis, which can lead to repetition and a decrease in performance. Nonetheless, this decrease is not really
     a drawback, because some big data analytics tasks cannot be undertaken without this added flexibility.</li></ul>
   <h4 class="subsectionHead"><span class="titlemark">1.6   </span> <a 
 id="x1-100001.6"></a>Distinguish descriptive, predictive and prescriptive analysis</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 263--><p class="noindent" ><span 
class="ecbx-1000">Descriptive analysis</span>: uses basic statistics to describe the data. In a DW environment, OLAP tools are
     used for this purpose, in an interactively manner, modifying the analysis point of vire to facilitate the
     understanding and gain knowledge about the stored data. Basically, understand past data (what happened,
     when happened, why it happened).
     </li>
     <li class="itemize">
     <!--l. 268--><p class="noindent" ><span 
class="ecbx-1000">Predictive analysis</span>: uses a set of statistical techniques to analyze historical facts, with the aim of making
     predictions about future events. Basically, compare incoming data to our knowledge of past data, in order
     to make predictions about the future (what will happen).
     </li>
     <li class="itemize">
     <!--l. 273--><p class="noindent" ><span 
class="ecbx-1000">Prescriptive analysis</span>: takes as input the predictions of previous analyses to suggest actions, decisions
     and describe the possible implications of each of them. Basically, use predictions obtained via predictive
     analysis to take action and make decisions, as well as to estimate the impact of these decisions in the
     future (how we should respond to this situation).</li></ul>
<!--l. 281--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.7   </span> <a 
 id="x1-110001.7"></a>Explain the novelty of Cloud Computing</h4>
<!--l. 283--><p class="noindent" >The novelty of cloud computing is the same as when electricity shifted from being generated by each company to be
centrally generated, benefiting from scale economies and improving the efficiency of the electricity generation. In the
case of Cloud Computing, the shift is from companies having their own hardware and software, to an environment in
which these resources are offered by a third company, which leverages again the economies of scale and the possibility to
allocate resources when needed, increasing the overall efficiency of the tech industries and reducing the costs of each
company, as they now don&#8217;t need to buy expensive pieces of hardware and software, maintain them,
etc.
                                                                                            
                                                                                            
<!--l. 294--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.8   </span> <a 
 id="x1-120001.8"></a>Justify the benefits of Cloud Computing</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 296--><p class="noindent" >It eliminates upfront investment, as it is not needed to buy hardware anymore.
     </li>
     <li class="itemize">
     <!--l. 298--><p class="noindent" >You pay for what you use, so costs are reduced because efficient allocation is a complex task to overcome.
     </li>
     <li class="itemize">
     <!--l. 300--><p class="noindent" >The main benefit comes from the aforementioned economy of scale, that allows to reduce costs and improve
     efficiency. A machine hosted in-house is most of the time underused, because companies don&#8217;t usually
     require it being 100% operational all the time. However, when the machine is available for thousand or
     millions of customers, it will almost always be required to be working.
     </li>
     <li class="itemize">
     <!--l. 306--><p class="noindent" >Customers can adapt their costs to their needs at any time.
     </li>
     <li class="itemize">
     <!--l. 307--><p class="noindent" >There is no need to manage, maintain and upgrade hardware anymore.</li></ul>
<!--l. 310--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.9   </span> <a 
 id="x1-130001.9"></a>Explain the link between Big Data and Cloud Computing</h4>
<!--l. 312--><p class="noindent" >Cloud computing and big data are closely related, and in many ways, cloud computing has enabled the growth and
adoption of big data technologies.
<!--l. 315--><p class="indent" >   One of the main advantages of cloud computing is its ability to provide flexible and scalable computing resources on
demand. This is especially important for big data, which requires significant computing power to process and analyze
large volumes of data. Cloud computing allows organizations to easily spin up large-scale computing clusters
and storage systems to handle big data workloads, without the need to invest in expensive on-premises
infrastructure.
<!--l. 323--><p class="indent" >   In addition to providing scalable computing resources, cloud computing also offers a wide range of data storage and
processing services that can be used for big data workloads. Cloud providers offer a variety of data storage
services, such as object storage, file storage, and database services, that can be used to store and manage
large volumes of data. Cloud providers also offer big data processing services, such as Apache Hadoop,
Apache Spark, and machine learning tools, which can be used to analyze and extract insights from big
data.
<!--l. 332--><p class="indent" >   Cloud computing also provides the ability to easily integrate and share data between different systems and
applications, both within an organization and with external partners. This is important for big data, which often
requires data from multiple sources to be combined and analyzed to gain insights.
<!--l. 338--><p class="indent" >   Overall, cloud computing has played a key role in enabling the growth and adoption of big data technologies, by
providing flexible and scalable computing resources, a wide range of data storage and processing services, and the
ability to easily integrate and share data between different systems and applications.
<!--l. 344--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.10   </span> <a 
 id="x1-140001.10"></a>Distinguish the main four service levels in Cloud Computing</h4>
<!--l. 346--><p class="noindent" >The main four service levels are:
                                                                                            
                                                                                            
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 348--><p class="noindent" ><span 
class="ecbx-1000">Infrastructure as a Service (IaaS)</span>: provides virtualized computing resources, such as virtual machines,
     storage, and networking, which can be provisioned and managed through an API or web console.
     </li>
     <li class="itemize">
     <!--l. 351--><p class="noindent" ><span 
class="ecbx-1000">Platform as a Service (PaaS)</span>: provides a platform for building and deploying applications, including
     development tools, runtime environments, and middleware, which can be accessed through an API or web
     console.
     </li>
     <li class="itemize">
     <!--l. 354--><p class="noindent" ><span 
class="ecbx-1000">Software as a Service (SaaS)</span>: provides access to software applications over the internet, which are
     hosted and managed by a third-party provider, and can be accessed through a web browser or API.
     </li>
     <li class="itemize">
     <!--l. 358--><p class="noindent" ><span 
class="ecbx-1000">Business as a Service (BaaS)</span>: This is a type of cloud computing service that provides businesses
     with access to a range of software tools and services, such as customer relationship management (CRM)
     systems, enterprise resource planning (ERP) software, and human resources management tools. BaaS
     allows businesses to outsource the management and maintenance of these systems to a third-party provider,
     freeing up resources and allowing the business to focus on their core operations. BaaS can be a cost-effective
     way for businesses to access enterprise-level software tools without the need to invest in on-premises
     infrastructure and maintenance. This is, a whole business process is outsourced, for example using PayPal
     as a paying platform frees the company from this process.</li></ul>
<!--l. 371--><p class="noindent" >But there are more services offered by Cloud Computing:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 373--><p class="noindent" ><span 
class="ecbx-1000">Database as a Service (DBaaS)</span>: specific platform services providing data management functionalities.
     </li>
     <li class="itemize">
     <!--l. 375--><p class="noindent" ><span 
class="ecbx-1000">Container as a Service (CaaS)</span>: allows applications to be packaged into containers, which can be run
     consistently across different environments, such as development, testing, and production.
     </li>
     <li class="itemize">
     <!--l. 378--><p class="noindent" ><span 
class="ecbx-1000">Function as a Service (FaaS)</span>: creates small stand-alone pieces of software that can be easily combined
     to create business flows in interaction with other pieces from potentially other service providers.
     </li>
     <li class="itemize">
     <!--l. 381--><p class="noindent" ><span 
class="ecbx-1000">Serverless computing</span>: allows developers to build and run applications without managing servers, by
     providing an event-driven computing model, in which code is executed in response to specific triggers.
     </li>
     <li class="itemize">
     <!--l. 385--><p class="noindent" ><span 
class="ecbx-1000">Data analytics and storage</span>: provides tools for storing and analyzing large volumes of data, such as
     data warehouses, data lakes, and analytics tools, which can be accessed through APIs or web consoles.
     </li>
     <li class="itemize">
     <!--l. 388--><p class="noindent" ><span 
class="ecbx-1000">Machine learning and artificial intelligence</span>: Provides tools and services for building, training, and
     deploying machine learning models, such as pre-trained models, APIs for image recognition and natural
     language processing, and tools for custom model development.</li></ul>
                                                                                            
                                                                                            
<!--l. 393--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-150002"></a>Big Data Design</h3>
<!--l. 397--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-160002.1"></a>Define the impedance mismatch</h4>
<!--l. 399--><p class="noindent" >Impedance mismatch often arises when data is passed between different layers of an application, such as between the
front-end user interface and the back-end database, or between different applications that need to exchange data. The
data structures used in each layer or system may be different, which can cause issues with data mapping, performance,
and scalability.
<!--l. 406--><p class="indent" >   For example, if a front-end application requires data that is stored in a relational database, the application
may need to perform complex queries to retrieve and transform the data into a format that can be used
by the user interface. This can lead to performance issues and increased complexity in the application
code. Similarly, if different applications or services use different data formats or structures, it can be
difficult to exchange data between them, which can lead to integration issues and increased development
time.
<!--l. 415--><p class="indent" >   To address impedance mismatch, software developers often use techniques such as object-relational mapping (ORM)
to map data between different layers of an application, or use standard data formats such as JSON or XML to enable
data exchange between different systems. These techniques can help to simplify data mapping, improve performance,
and increase the scalability of the system.
<!--l. 422--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2   </span> <a 
 id="x1-170002.2"></a>Identify applications handling different kinds of data</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 424--><p class="noindent" ><span 
class="ecbx-1000">Relational data (OLTP)</span>: Relational databases are commonly used for online transaction processing
     (OLTP) applications, such as e-commerce websites, banking applications, and inventory management
     systems. Examples of applications that use relational databases include Oracle, MySQL, PostgreSQL, and
     Microsoft SQL Server.
     </li>
     <li class="itemize">
     <!--l. 429--><p class="noindent" ><span 
class="ecbx-1000">Multidimensional data (OLAP)</span>: Multidimensional databases are commonly used for online analytical
     processing  (OLAP)  applications,  such  as  data  warehousing,  business  intelligence,  and  data  mining.
     Examples of applications that use multidimensional databases include Microsoft Analysis Services, IBM
     Cognos, and Oracle Essbase.
     </li>
     <li class="itemize">
     <!--l. 434--><p class="noindent" ><span 
class="ecbx-1000">Key-value  data</span>:  Key-value  databases  are  commonly  used  for  high-performance,  highly  scalable
     applications, such as caching, session storage, and user profiles. Examples of applications that use key-value
     databases include Redis, Amazon DynamoDB, and Apache Cassandra.
     </li>
     <li class="itemize">
     <!--l. 438--><p class="noindent" ><span 
class="ecbx-1000">Column-family  data</span>:  Column-family  databases  are  commonly  used  for  applications  that  require
     fast  reads  and  writes  on  a  large-scale,  such  as  content  management  systems,  social  networks,  and
     recommendation engines. Examples of applications that use column-family databases include Apache
     HBase, Apache Cassandra, and ScyllaDB.
     </li>
     <li class="itemize">
                                                                                            
                                                                                            
     <!--l. 443--><p class="noindent" ><span 
class="ecbx-1000">Graph data</span>: Graph databases are commonly used for applications that involve complex relationships
     between  data,  such  as  social  networks,  fraud  detection,  and  recommendation  engines.  Examples  of
     applications that use graph databases include Neo4j, OrientDB, and Amazon Neptune.
     </li>
     <li class="itemize">
     <!--l. 447--><p class="noindent" ><span 
class="ecbx-1000">Document data</span>: Document databases are commonly used for applications that require flexible, dynamic
     data structures, such as content management systems, e-commerce platforms, and mobile applications.
     Examples  of  applications  that  use  document  databases  include  MongoDB,  Couchbase,  and  Amazon
     DocumentDB.</li></ul>
<!--l. 453--><p class="noindent" >Note that many applications use multiple types of data models, depending on the nature of the data and the
requirements of the application. For example, a social network might use a graph database to store social
connections, a column-family database to store user data, and a key-value database to cache frequently accessed
data.
<!--l. 459--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.3   </span> <a 
 id="x1-180002.3"></a>Name four different kinds of NOSQL systems</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 461--><p class="noindent" ><span 
class="ecbx-1000">Key-Value</span>: stores data as a collection of key-value pairs. Each key is associated with a value, and values
     can be retrieved and updated by their corresponding keys. Key-value databases are simple and highly
     scalable, making them well-suited for applications that require high performance and low latency.
     </li>
     <li class="itemize">
     <!--l. 466--><p class="noindent" ><span 
class="ecbx-1000">Wide-column (Column-family)</span>: stores data as a collection of columns grouped into column families.
     Each column family is a group of related columns, and each column consists of a name, a value, and
     a timestamp. Column-family databases are optimized for storing large amounts of data with fast writes
     and queries, making them well-suited for applications that require high write and query throughput. Such
     grouping of columns directly translates into a vertical partition of the table, and entails the consequent
     loss of schema flexibility.
     </li>
     <li class="itemize">
     <!--l. 474--><p class="noindent" ><span 
class="ecbx-1000">Graph</span>: stores data as nodes and edges, representing complex relationships between data. Nodes represent
     entities,  such  as  people,  places,  or  things,  and  edges  represent  relationships  between  entities.  Graph
     databases are optimized for querying and analyzing relationships between data, making them well-suited
     for applications that require complex querying.
     </li>
     <li class="itemize">
     <!--l. 480--><p class="noindent" ><span 
class="ecbx-1000">Document</span>: stores data as documents, which can be thought of as semi-structured data with a flexible
     schema.  Each  document  consists  of  key-value  pairs,  and  documents  can  be  grouped  into  collections.
     Document stores are optimized for storing and querying unstructured and semi-structured data, making
     them well-suited for applications that require flexibility in data modeling.</li></ul>
<!--l. 488--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.4   </span> <a 
 id="x1-190002.4"></a>Explain three consequences of schema variability</h4>
                                                                                            
                                                                                            
<!--l. 490--><p class="noindent" >Schema variability refers to the dynamic and flexible nature of data models in NoSQL databases. Unlike relational
databases, NoSQL databases allow for the schema to be flexible and adaptable, which means that the data
structure can evolve over time without requiring changes to the database schema. This allows for greater
agility in data modeling, as it makes it easier to add or remove fields or change the data structure as
needed.
<!--l. 498--><p class="indent" >   Its three main consequences are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 500--><p class="noindent" ><span 
class="ecbx-1000">Gain in flexibility</span>: allowing schema variability makes the system more flexible to cope with changes in
     the data.
     </li>
     <li class="itemize">
     <!--l. 502--><p class="noindent" ><span 
class="ecbx-1000">Reduced data semantics and consistency</span>: With a flexible schema, it is possible to store data that
     does not conform to a predefined structure. This can lead to inconsistencies in data quality and make it
     more difficult to enforce data constraints, such as data types or referential integrity.
     </li>
     <li class="itemize">
     <!--l. 507--><p class="noindent" ><span 
class="ecbx-1000">Data independence principle is lost</span>: allowing schema variability can be seen as a departure from
     the traditional concept of data independence, which is a key principle of the relational data model. Data
     independence refers to the ability to change the physical storage or logical structure of the data without
     affecting the application programs that use the data. In a relational database, the data is organized into
     tables with fixed schema, which allows for greater data independence.
     <!--l. 515--><p class="noindent" >However, in NoSQL databases, schema variability is often seen as a necessary trade-off for achieving
     greater flexibility and scalability. By allowing for a more flexible data model, NoSQL databases can better
     accommodate changes to the data structure over time, without requiring changes to the database schema
     or application code. This can help improve agility and reduce development time.
     <!--l. 522--><p class="noindent" >That being said, NoSQL databases still adhere to the fundamental principles of data independence in
     many ways. For example, they still provide a layer of abstraction between the application and the physical
     storage of the data, which helps to insulate the application from changes to the underlying data storage.
     Additionally, many NoSQL databases provide APIs that allow for flexible querying and manipulation of
     data, which helps to maintain a level of data independence.</li></ul>
<!--l. 530--><p class="noindent" >Some more consequences:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 532--><p class="noindent" >Increased data complexity: As the data model becomes more flexible, the data can become more complex
     and difficult to manage. This can lead to increased development and maintenance costs, as well as potential
     performance issues.
     </li>
     <li class="itemize">
     <!--l. 536--><p class="noindent" >Increased development and maintenance costs: As the schema becomes more flexible, the complexity of
     the data model can increase, which can result in higher development and maintenance costs.
     </li>
     <li class="itemize">
     <!--l. 539--><p class="noindent" >Reduced performance: With a more complex data model, queries can become more complex, which can
     result in slower query performance. Additionally, since the schema is not fixed, indexing and optimization
     become more difficult, which can further impact performance.</li></ul>
                                                                                            
                                                                                            
<!--l. 545--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.5   </span> <a 
 id="x1-200002.5"></a>Explain the consequences of physical independence</h4>
<!--l. 547--><p class="noindent" >Physical independence is a key principle of the relational data model, which refers to the ability to change the physical
storage of the data without affecting the logical structure of the data or the application programs that use
the data. This means that the application should be able to access and manipulate the data without
being aware of the underlying physical storage details, such as the storage medium or the location of the
data.
<!--l. 555--><p class="indent" >   The consequences of physical independence include:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 557--><p class="noindent" >Reduced maintenance costs: With physical independence, it is easier to change the physical storage of
     the data without affecting the application. This can help reduce maintenance costs, as it allows for more
     flexibility in how the data is stored and accessed over time.
     </li>
     <li class="itemize">
     <!--l. 561--><p class="noindent" >Improved scalability: Physical independence can help improve scalability, as it allows for the data to be
     distributed across multiple physical storage locations or devices, which can help to improve performance
     and reduce the impact of failures.
     </li>
     <li class="itemize">
     <!--l. 565--><p class="noindent" >Greater portability: With physical independence, the application is not tied to a specific physical storage
     medium or location, which can help improve portability across different hardware or software platforms.
     </li>
     <li class="itemize">
     <!--l. 569--><p class="noindent" >Improved performance: Physical independence can help improve performance, as it allows for the data to
     be stored and accessed in the most efficient way possible, without being limited by the constraints of a
     specific physical storage medium or location.</li></ul>
<!--l. 574--><p class="noindent" >Nonetheless, physical independence enhance the problem of the impedance mismatch, because if data is needed in a
different form from how it is stored, it has to be transformed, introducing a computing overhead. If we store
the data as needed for the application, this problem is reduced, but the physical independence can be
lost.
<!--l. 581--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.6   </span> <a 
 id="x1-210002.6"></a>Explain the two dimensions to classify NOSQL systems according to how they manage the
schema</h4>
<!--l. 583--><p class="noindent" >The schema can be explicit/implicit:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 585--><p class="noindent" ><span 
class="ecbx-1000">Implicit schema</span>: schema that is not explicitly defined or documented. Instead, the schema is inferred
     or derived from the data itself, usually through analysis or observation. This can be useful in situations
     where the data is very dynamic or unstructured, and where the structure of the data is not known in
     advance.
     </li>
     <li class="itemize">
     <!--l. 590--><p class="noindent" ><span 
class="ecbx-1000">Explicit schema</span>: schema that is explicitly defined and documented, usually using a schema language or
     a data modeling tool. The schema specifies the types of data that can be stored, the relationships between
     different types of data, and any constraints or rules that govern the data.</li></ul>
<!--l. 596--><p class="noindent" >And it can be fixed/variable:
                                                                                            
                                                                                            
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 598--><p class="noindent" ><span 
class="ecbx-1000">Fixed schema</span>: schema that is static and unchanging, meaning that the structure and organization of
     the data is predefined and cannot be modified. This is common in relational databases, where the schema
     is usually defined in advance and remains fixed over time.
     </li>
     <li class="itemize">
     <!--l. 602--><p class="noindent" ><span 
class="ecbx-1000">Variable schema</span>: schema that is dynamic and flexible, meaning that the structure and organization of
     the data can change over time. This is common in NoSQL databases, where the schema may be more fluid
     and adaptable to changing data requirements.</li></ul>
<!--l. 607--><p class="noindent" >Note that this is not a strict classification, but rather two dimension ranges in which a certain schema can
lie.
<!--l. 610--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.7   </span> <a 
 id="x1-220002.7"></a>Explain the three elements of the RUM conjecture</h4>
<!--l. 612--><p class="noindent" >The RUM conjecture suggests that in any database system, the overall performance can be characterized by a trade-off
between the amount of memory used, the number of reads performed, and the number of updates performed.
Specifically, the conjecture states that there is a fundamental asymmetry between reads and updates, and that the
performance of the system is strongly influenced by the balance between these two operations. In general, the more
reads a system performs, the more memory it requires, while the more updates it performs, the more it impacts the
system&#8217;s overall performance.
<!--l. 622--><p class="indent" >   The RAM conjecture has three main elements:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 624--><p class="noindent" >Reads: refer to the process of retrieving data from a database. In general, read-heavy workloads require
     more memory to achieve good performance.
     </li>
     <li class="itemize">
     <!--l. 627--><p class="noindent" >Updates: refer to the process of modifying data in a database. In general, update-heavy workloads require
     more processing power and can negatively impact overall performance.
     </li>
     <li class="itemize">
     <!--l. 630--><p class="noindent" >Memory: refers to the amount of memory available to a system. In general, increasing memory can improve
     read-heavy workloads, but may not be as effective for update-heavy workloads.</li></ul>
<!--l. 634--><p class="noindent" >The RUM conjecture is often used to guide the design and optimization of database systems, as it provides a useful
framework for understanding the trade-offs between different system parameters and performance metrics. By
understanding the RUM trade-offs, database designers can make informed decisions about how to allocate resources,
optimize queries, and balance the workload of the system.
<!--l. 641--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.8   </span> <a 
 id="x1-230002.8"></a>Justify the need of polyglot persistence</h4>
<!--l. 643--><p class="noindent" >A <span 
class="ecbx-1000">polyglot system </span>is a system that uses multiple technologies, languages, and tools to solve a problem. In the context
of data management, a polyglot system is one that uses multiple data storage technologies to store and manage data.
For example, a polyglot system might use a combination of relational databases, NoSQL databases, and search engines
to store different types of data.
<!--l. 650--><p class="indent" >   <span 
class="ecbx-1000">Polyglot persistence </span>is the practice of using multiple storage technologies to store different types of data within a
single application. The idea is to choose the right tool for the job, and to use each technology to its fullest potential. For
example, a polyglot system might use a NoSQL database to store unstructured data, a relational database to store
structured data, and a search engine to provide full-text search capabilities.
                                                                                            
                                                                                            
<!--l. 658--><p class="indent" >   There are several reasons why polyglot persistence is important:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 660--><p class="noindent" ><span 
class="ecbx-1000">Flexibility</span>: Polyglot systems are more flexible than monolithic systems that use a single technology to
     store all data. With a polyglot system, you can choose the right tool for the job, and you can adapt to
     changing requirements and data formats.
     </li>
     <li class="itemize">
     <!--l. 664--><p class="noindent" ><span 
class="ecbx-1000">Performance</span>: Different data storage technologies are optimized for different types of data and workloads.
     By using the right tool for the job, you can improve performance and scalability.
     </li>
     <li class="itemize">
     <!--l. 667--><p class="noindent" ><span 
class="ecbx-1000">Resilience</span>: Using multiple data storage technologies can improve the resilience of your system. If one
     database  fails,  the  other  databases  can  continue  to  operate,  ensuring  that  your  application  remains
     available and responsive.
     </li>
     <li class="itemize">
     <!--l. 671--><p class="noindent" ><span 
class="ecbx-1000">Future-proofing</span>: By using multiple data storage technologies, you can future-proof your system against
     changing data formats and requirements. As new data types and storage technologies emerge, you can
     add them to your system without having to completely overhaul your architecture.</li></ul>
<!--l. 677--><p class="noindent" >In summary, polyglot persistence is a powerful approach to data management that allows you to use multiple storage
technologies to store and manage different types of data within a single application. By adopting a polyglot approach,
you can improve flexibility, performance, resilience, and future-proofing.
<!--l. 683--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.9   </span> <a 
 id="x1-240002.9"></a>Decide whether two NOSQL designs have more or less explicit/fix schema</h4>
<!--l. 685--><p class="noindent" >There are several factors that can be used to assess the flexibility and explicitness of a schema:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-24002x1">
     <!--l. 688--><p class="noindent" >Number of tables/collections: A schema with a large number of tables or collections is typically more
     explicit and less flexible than a schema with fewer tables or collections. This is because a large number of
     tables or collections often implies a more rigid structure, whereas a smaller number of tables or collections
     can allow for more flexibility.
     </li>
<li 
  class="enumerate" id="x1-24004x2">
     <!--l. 693--><p class="noindent" >Number of columns/fields: A schema with a large number of columns or fields is typically more explicit
     and less flexible than a schema with fewer columns or fields. This is because a large number of columns
     or fields often implies a more rigid structure, whereas a smaller number of columns or fields can allow for
     more flexibility.
     </li>
<li 
  class="enumerate" id="x1-24006x3">
     <!--l. 698--><p class="noindent" >Data types: A schema that uses a large number of data types is typically more explicit and less flexible
     than a schema that uses fewer data types. This is because a large number of data types often implies a
     more rigid structure, whereas a smaller number of data types can allow for more flexibility.
                                                                                            
                                                                                            
     </li>
<li 
  class="enumerate" id="x1-24008x4">
     <!--l. 703--><p class="noindent" >Use of constraints: A schema that uses a large number of constraints (such as foreign keys or unique
     constraints) is typically more explicit and less flexible than a schema that uses fewer constraints. This is
     because constraints often imply a more rigid structure, whereas a schema with fewer constraints can allow
     for more flexibility.
     </li>
<li 
  class="enumerate" id="x1-24010x5">
     <!--l. 708--><p class="noindent" >Use of inheritance: A schema that uses inheritance (such as table or collection inheritance) is typically
     more flexible and less explicit than a schema that does not use inheritance. This is because inheritance
     allows for more flexibility in the structure of the data, whereas a schema that does not use inheritance is
     typically more explicit in its structure.</li></ol>
<!--l. 715--><p class="noindent" >Overall, a more explicit schema is one that has a more rigid structure, with more tables, fields, data types, and constraints,
whereas a more flexible schema is one that has fewer tables, fields, data types, and constraints, and may use inheritance
to provide more flexibility.
<!--l. 720--><p class="indent" >   Some examples can be:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 722--><p class="noindent" >Fixed/Explicit: An example of a fixed/explicit schema in XML format might look like this:
     <!--l. 725-->
     <div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-24011r1"></a><span 
class="ecrm-0500">1</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">shopping_cart</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24012r2"></a><span 
class="ecrm-0500">2</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">customers</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24013r3"></a><span 
class="ecrm-0500">3</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">customer</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24014r4"></a><span 
class="ecrm-0500">4</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">name</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">John</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">Smith</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">name</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24015r5"></a><span 
class="ecrm-0500">5</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">email</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">john@example</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">com</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">email</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24016r6"></a><span 
class="ecrm-0500">6</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">customer</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24017r7"></a><span 
class="ecrm-0500">7</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">customers</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24018r8"></a><span 
class="ecrm-0500">8</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">orders</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24019r9"></a><span 
class="ecrm-0500">9</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">order</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24020r10"></a><span 
class="ecrm-0500">10</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">order_date</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;2023-02-17&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">order_date</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24021r11"></a><span 
class="ecrm-0500">11</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">total_price</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;100.00&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">total_price</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24022r12"></a><span 
class="ecrm-0500">12</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">order</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24023r13"></a><span 
class="ecrm-0500">13</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">orders</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24024r14"></a><span 
class="ecrm-0500">14</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">products</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24025r15"></a><span 
class="ecrm-0500">15</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">product</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24026r16"></a><span 
class="ecrm-0500">16</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">name</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">Widget</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">name</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24027r17"></a><span 
class="ecrm-0500">17</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">description</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">A</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">small</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">useful</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">tool</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">description</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24028r18"></a><span 
class="ecrm-0500">18</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">price</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;10.00&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">price</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24029r19"></a><span 
class="ecrm-0500">19</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">product</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24030r20"></a><span 
class="ecrm-0500">20</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">products</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24031r21"></a><span 
class="ecrm-0500">21</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">shopping_cart</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span></div>
     
     <!--l. 750--><p class="noindent" >In this example, the schema is fixed because there are specific tables (customers, orders, and products) and
     specific fields for each table (such as name and email for customers, and order_date and total_price for orders).
     There is no room for variation in the structure of the schema.
     </li>
     <li class="itemize">
     <!--l. 755--><p class="noindent" >Fixed/Implicit: An example of a fixed/implicit schema in XML format might look like this:
     <!--l. 758-->
     <div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-24032r1"></a><span 
class="ecrm-0500">1</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">blog</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24033r2"></a><span 
class="ecrm-0500">2</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">posts</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24034r3"></a><span 
class="ecrm-0500">3</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">post</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24035r4"></a><span 
class="ecrm-0500">4</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">title</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">My</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">First</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">Blog</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">Post</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">title</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24036r5"></a><span 
class="ecrm-0500">5</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">content</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">This</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">is</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">my</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">first</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">blog</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">post</span></span><span style="color:#000000"><span 
class="ectt-0800">.&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">content</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24037r6"></a><span 
class="ecrm-0500">6</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">post</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24038r7"></a><span 
class="ecrm-0500">7</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">posts</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24039r8"></a><span 
class="ecrm-0500">8</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">blog</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span></div>
     
     <!--l. 770--><p class="noindent" >In this example, the schema is fixed because there is a specific table (posts) and specific fields for
     that table (such as title and content). However, there is no fixed field for metadata such as tags or
     categories.
     </li>
     <li class="itemize">
     <!--l. 773--><p class="noindent" >Flexible/Explicit: An example of a flexible/explicit schema in XML format might look like this:
     <!--l. 776-->
     <div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-24040r1"></a><span 
class="ecrm-0500">1</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">scientific_data</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24041r2"></a><span 
class="ecrm-0500">2</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">experiments</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24042r3"></a><span 
class="ecrm-0500">3</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">experiment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24043r4"></a><span 
class="ecrm-0500">4</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">date</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;2023-02-17&#x003C;/</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">date</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24044r5"></a><span 
class="ecrm-0500">5</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">sample_size</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;100&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">sample_size</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24045r6"></a><span 
class="ecrm-0500">6</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">measurement_units</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">mg</span></span><span style="color:#000000"><span 
class="ectt-0800">/</span></span><span style="color:#000000"><span 
class="ectt-0800">L</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">measurement_units</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24046r7"></a><span 
class="ecrm-0500">7</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">experiment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24047r8"></a><span 
class="ecrm-0500">8</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">experiment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24048r9"></a><span 
class="ecrm-0500">9</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">date</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;2023-02-16&#x003C;/</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">date</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24049r10"></a><span 
class="ecrm-0500">10</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">sample_size</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;50&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">sample_size</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24050r11"></a><span 
class="ecrm-0500">11</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">measurement_units</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">g</span></span><span style="color:#000000"><span 
class="ectt-0800">/</span></span><span style="color:#000000"><span 
class="ectt-0800">L</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">measurement_units</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24051r12"></a><span 
class="ecrm-0500">12</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">experiment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24052r13"></a><span 
class="ecrm-0500">13</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">experiments</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24053r14"></a><span 
class="ecrm-0500">14</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">observations</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24054r15"></a><span 
class="ecrm-0500">15</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">observation</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24055r16"></a><span 
class="ecrm-0500">16</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">value</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;10.00&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">value</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24056r17"></a><span 
class="ecrm-0500">17</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">observation</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24057r18"></a><span 
class="ecrm-0500">18</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">observation</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24058r19"></a><span 
class="ecrm-0500">19</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">value</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;20.00&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">value</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24059r20"></a><span 
class="ecrm-0500">20</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">observation</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24060r21"></a><span 
class="ecrm-0500">21</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">observations</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24061r22"></a><span 
class="ecrm-0500">22</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">scientific_data</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span></div>
     
     <!--l. 802--><p class="noindent" >In this example, the schema is flexible because there can be any number of experiments and observations, and
     there are no fixed fields for metadata. However, each table (experiments and observations) and each field (such as
     date and sample_size) is explicitly defined in the schema.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 807--><p class="noindent" >Flexible/Implicit: An example of a flexible/implicit schema in XML format might look like this:
     <!--l. 810-->
     <div class="lstlisting" id="listing-4"><span class="label"><a 
 id="x1-24062r1"></a><span 
class="ecrm-0500">1</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">social_media</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24063r2"></a><span 
class="ecrm-0500">2</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">posts</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24064r3"></a><span 
class="ecrm-0500">3</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">post</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24065r4"></a><span 
class="ecrm-0500">4</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">text</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">Hello</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">world</span></span><span style="color:#000000"><span 
class="ectt-0800">!&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">text</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24066r5"></a><span 
class="ecrm-0500">5</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">post</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24067r6"></a><span 
class="ecrm-0500">6</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">posts</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24068r7"></a><span 
class="ecrm-0500">7</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">comments</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24069r8"></a><span 
class="ecrm-0500">8</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">comment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24070r9"></a><span 
class="ecrm-0500">9</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">text</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">Great</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">post</span></span><span style="color:#000000"><span 
class="ectt-0800">!&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">text</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24071r10"></a><span 
class="ecrm-0500">10</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">comment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24072r11"></a><span 
class="ecrm-0500">11</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">comment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24073r12"></a><span 
class="ecrm-0500">12</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-0800">text</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-0800">Thanks</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">for</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">sharing</span></span><span style="color:#000000"><span 
class="ectt-0800">.&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">text</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24074r13"></a><span 
class="ecrm-0500">13</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">comment</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24075r14"></a><span 
class="ecrm-0500">14</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">comments</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-24076r15"></a><span 
class="ecrm-0500">15</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003C;/</span></span><span style="color:#000000"><span 
class="ectt-0800">social_media</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x003E;</span></span></div>
     
     <!--l. 829--><p class="noindent" >In this example, the schema is flexible because there can be any number of posts and comments, and there are no
     fixed fields for any table. The structure of the schema is also implicit because there is no fixed structure for the
     data.</li></ul>
<!--l. 836--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.10   </span> <a 
 id="x1-250002.10"></a>Given a relatively small UML conceptual diagram, translate it into a logical representation of data
considering flexible schema representation</h4>
<!--l. 838--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-260003"></a>Distributed Data Management</h3>
<!--l. 842--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.1   </span> <a 
 id="x1-270003.1"></a>Give a definition of Distributed System</h4>
<!--l. 844--><p class="noindent" >A distributed system is a system whose components, located at networked computers, communicate and coordinate
their actions only by passing messages.
<!--l. 848--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-280003.2"></a>Enumerate the six challenges of a Distributed System</h4>
<!--l. 850--><p class="noindent" >The challenges of a distributed system are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 852--><p class="noindent" ><span 
class="ecbx-1000">Scalability</span>: the system must be able to continuously evolve to support a grouwing amount of tasks. This can be
     achieve by:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 855--><p class="noindent" >Scale up: upgrading or improving the components.
         </li>
         <li class="itemize">
         <!--l. 856--><p class="noindent" >Scale out: adding new components.</li></ul>
     <!--l. 858--><p class="noindent" >Scale out mitigates bottlenecks, but extra communication is needed between a growing number of components.
     This can be partially solved using direct communication between peers. Load-balancing is also crucial and, ideally,
     should happen automatically.
     </li>
     <li class="itemize">
     <!--l. 862--><p class="noindent" ><span 
class="ecbx-1000">Performance/efficiency</span>: the system must guarantee an optimal performance and efficient processing. This is
     usually measured in terms of latency, response time and throughput. Parallelizing reduces response time,
     but uses more resources to do it, negatively affecting throughput unless resources are increased to
     compensate.
     <!--l. 868--><p class="noindent" >This effect can be mitigated optimizing network usage or using distributed indexes.
     </li>
     <li class="itemize">
     <!--l. 870--><p class="noindent" ><span 
class="ecbx-1000">Reliability and availability</span>: the system must perform tasks consistently and without failure: it must be
     <span 
class="ecbx-1000">reliable</span>. It also must keep performing tasks even if some of its components fail: it must be <span 
class="ecbx-1000">available</span>. The
     availability is not always possible, and some functionalities might be affected, but at least a partial service could
     be provided when a component fails.
     <!--l. 877--><p class="noindent" >To increase failure tolerance, <span 
class="ecbx-1000">heartbeat mechanisms </span>can be used to monitor the status of the components,
     together with <span 
class="ecbx-1000">automatic recovery mechanisms</span>.
     <!--l. 881--><p class="noindent" >It is also important to keep the consistency of data shared by different components, since this requires
     synchronization. This can be mitigated by <span 
class="ecbx-1000">asynchronous synchronization mechanisms </span>and <span 
class="ecbx-1000">flexible routing</span>
     <span 
class="ecbx-1000">of network messages</span>.
     </li>
     <li class="itemize">
     <!--l. 885--><p class="noindent" ><span 
class="ecbx-1000">Concurrency</span>: the system should provide the required control mechanisms to avoid interferences and deadlocks
     in the presence of concurrent requests. <span 
class="ecbx-1000">Consensus protocols </span>can help solving conflicts and enabling the system
     to keep working without further consequences.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 890--><p class="noindent" ><span 
class="ecbx-1000">Transparency</span>: users of the system should not be aware of all the aforementioned complexities. Ideally, they
     should be able to work as if the system was not distributed.</li></ul>
<!--l. 895--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a 
 id="x1-290003.3"></a>Give a definition of Distributed Database</h4>
<!--l. 897--><p class="noindent" >A <span 
class="ecbx-1000">Distributed Database (DDB) </span>is an integrated collection of databases that is physically distributed across sites in
a computer network and a <span 
class="ecbx-1000">Distributed Database Management System (DDBMS) </span>is the software
system that manages a distributed database such that the distribution aspects are transparent to the
users.
<!--l. 903--><p class="indent" >   There are some terms worth detailing:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 905--><p class="noindent" ><span 
class="ecbx-1000">Integrated</span>: files in the database should be somehow structured, and an access interface common to all
     of them should be provided so that the physical location of data does not matter.
     </li>
     <li class="itemize">
     <!--l. 908--><p class="noindent" ><span 
class="ecbx-1000">Physically distributed across sites in a computer network</span>: data may be distributed over large
     geographical areas but it could also be the case where distributed data is, indeed, in the very same room.
     The required characteristic is that the communication between nodes is done through a computer network
     instead of simply sharing memory or disk.
     </li>
     <li class="itemize">
     <!--l. 914--><p class="noindent" ><span 
class="ecbx-1000">Distribution  aspects  are  transparent  to  the  users</span>:  transparency  refers  to  separation  of  the
     higher-level view of the system from lower-level implementation issues. Thus, the system must provide
     mechanisms to hide the implementation details.</li></ul>
<!--l. 920--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.4   </span> <a 
 id="x1-300003.4"></a>Explain the different transparency layers in DDBMS</h4>
<!--l. 922--><p class="noindent" >In a DDBMS <span 
class="ecbx-1000">distribution transparency </span>must be ensured, i.e., the system must guarantee data, network,
fragmentation and replication transparency:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 926--><p class="noindent" ><span 
class="ecbx-1000">Data independence</span>: data definition occurs at two different levels:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 929--><p class="noindent" >Logical data independence: refers to indifference of user applications to changes in the logical structure
         of the database.
         </li>
         <li class="itemize">
         <!--l. 931--><p class="noindent" >Physical data independence: hides the storage details to the user.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 933--><p class="noindent" ><span 
class="ecbx-1000">Network transparency</span>: the user should be protected from the operation details of the network, even hiding its
     existence whenever possible. There are two subclasses:
                                                                                            
                                                                                            
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 937--><p class="noindent" >Location transparency: any task performed should be independent of both the location and system
         where the operation must be performed.
         </li>
         <li class="itemize">
         <!--l. 939--><p class="noindent" >Naming transparency: each object must have a unique name in the database, irrespectively of its
         storage site.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 942--><p class="noindent" ><span 
class="ecbx-1000">Replication transparency</span>: refers to whether synchronizing replicas is left to the user or automatically
     performed by the system. Ideally, all these issues should be transparent to users, and they should act as if a single
     copy of data were available.
     </li>
     <li class="itemize">
     <!--l. 946--><p class="noindent" ><span 
class="ecbx-1000">Fragmentation transparency</span>: when data is fragmented, queries need to be translated from the global query
     into fragmented queries, handling each fragment. This translation should be performed by the DDBMS,
     transparently to the user.</li></ul>
<!--l. 951--><p class="noindent" >Note that all these transparency levels are incremental.
<!--l. 953--><p class="indent" >   Note also that full transparency makes the management of distributed data very difficult, so it is widely accepted
that data independence and network transparency are a must, but replication and/or fragmentation transparency might
be relaxed to boost performance.
<!--l. 959--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.5   </span> <a 
 id="x1-310003.5"></a>Identify the requirements that distribution imposes on the ANSI/SPARC architecture</h4>
<!--l. 961--><p class="noindent" >The <span 
class="ecbx-1000">Extended ANSI/SPARC architecture</span>was designed to provide a comprehensive framework for organizing and
managing complex database systems. The extended architecture includes the same three levels as the original
ANSI/SPARC architecture, but it adds a fourth level, called the user level.
<!--l. 967--><p class="indent" >   The four levels of the extended ANSI/SPARC architecture are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 969--><p class="noindent" >User Level: The user level is the highest level and includes the end users or applications that access the
     database system. The user level provides a simplified view of the data that is available in the system, and
     it defines the interactions between the user and the system.
     </li>
     <li class="itemize">
     <!--l. 973--><p class="noindent" >External Level: The external level is the next level down and includes the external schemas that define
     the view of the data that is presented to the end users or applications. Each external schema is specific
     to a particular user or group of users and provides a simplified view of the data that is relevant to their
     needs.
     </li>
     <li class="itemize">
     <!--l. 978--><p class="noindent" >Conceptual Level: The conceptual level is the third level and includes the global conceptual schema that
     describes the overall logical structure of the database system. The global conceptual schema provides a
     unified view of the data in the system and defines the relationships between different data elements.
     </li>
     <li class="itemize">
                                                                                            
                                                                                            
     <!--l. 983--><p class="noindent" >Internal Level: The internal level is the lowest level and includes the physical schema that defines the
     storage structures and access methods used to store and retrieve the data. The internal schema is specific
     to the particular database management system and hardware platform that is being used.</li></ul>
<!--l. 989--><p class="noindent" >This is summarized in Figure <a 
href="#x1-31001r3">3<!--tex4ht:ref: fig:Extended-ANSI/SPARC-architecture --></a>.
<!--l. 991--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-31001r3"></a>
                                                                                            
                                                                                            
<!--l. 993--><p class="noindent" ><img 
src="3_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_ansisparc.png" alt="PIC"  
width="43" height="43" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;3: </span><span  
class="content">Extended ANSI/SPARC architecture.</span></div><!--tex4ht:label?: x1-31001r3 -->
                                                                                            
                                                                                            
<!--l. 996--><p class="indent" >   </div><hr class="endfigure">
<!--l. 998--><p class="indent" >   This architecture does not consider distributed, so it need to be consequently adapted to provide distribution
trasnparency. To this end, a global conceptual schema is needed to define a single logical database. But the database is
composed of several nodes, each of which must now define a local conceptual schema and an internal schema. These
adaptations are depicted in Figure <a 
href="#x1-31002r4">4<!--tex4ht:ref: fig:Extended-ANSI/SPARC-architecture-1 --></a>.
<!--l. 1005--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-31002r4"></a>
                                                                                            
                                                                                            
<!--l. 1007--><p class="noindent" ><img 
src="4_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_ansisparc2.png" alt="PIC"  
width="43" height="43" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4: </span><span  
class="content">Extended ANSI/SPARC architecture with distribution.</span></div><!--tex4ht:label?: x1-31002r4 -->
                                                                                            
                                                                                            
<!--l. 1010--><p class="indent" >   </div><hr class="endfigure">
<!--l. 1012--><p class="indent" >   In both architectures, mappings between each layer are stored in the global catalog, but in the distributed
architecture there two mappings which are particularly important, namely the <span 
class="ecbx-1000">fragmentation schema </span>and the
<span 
class="ecbx-1000">allocation schema</span>.
   <h4 class="subsectionHead"><span class="titlemark">3.6   </span> <a 
 id="x1-320003.6"></a>Draw a classical reference functional architecture for DDBMS</h4>
<!--l. 1019--><p class="noindent" >The functional architecture of a centralized DBMS is depicted in Figure <a 
href="#x1-32001r5">5<!--tex4ht:ref: fig:Functional-architecture-of --></a>. The <span 
class="ecbx-1000">query manager </span>is a component of a
database management system (DBMS) that is responsible for handling user queries and managing the overall query
processing. It is composed of several sub-components:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1025--><p class="noindent" >The <span 
class="ecbx-1000">view manager </span>is responsible for managing the views defined in the system. Views are virtual tables
     that are derived from the base tables in the database and are used to simplify the user&#8217;s interaction with
     the database. The view manager translates user queries that reference views into queries that reference
     the base tables, allowing the user to interact with the database at a higher level of abstraction.
     </li>
     <li class="itemize">
     <!--l. 1031--><p class="noindent" >The <span 
class="ecbx-1000">security manager </span>is responsible for enforcing security policies and access controls in the system. It
     ensures that only authorized users are allowed to access the database and that they only have access to
     the data that they are authorized to see. The security manager also enforces constraints and ensures that
     the data in the database is consistent and valid.
     </li>
     <li class="itemize">
     <!--l. 1037--><p class="noindent" >The <span 
class="ecbx-1000">constraint checker </span>is responsible for verifying that the data in the database conforms to the integrity
     constraints defined in the schema. It checks for violations of primary key, foreign key, and other constraints,
     and ensures that the data in the database is consistent and valid.
     </li>
     <li class="itemize">
     <!--l. 1042--><p class="noindent" >The <span 
class="ecbx-1000">query optimizer </span>is responsible for optimizing user queries to improve performance. It analyzes the
     query and determines the most efficient way to execute it, taking into account factors such as the available
     indexes, the size of the tables involved, and the cost of different query execution plans. The query optimizer
     generates an optimal query execution plan that minimizes the time required to process the query.</li></ul>
<!--l. 1050--><p class="noindent" >Once these steps are done, the <span 
class="ecbx-1000">execution manager </span>launches the different operators in the access plan in order, building
up the results appropriately.
<!--l. 1054--><p class="indent" >   The <span 
class="ecbx-1000">scheduler </span>deals with the problem of keeping the databases in a consistent state, even when concurrent accesses
occur, preserving isolation (I from ACID).
<!--l. 1058--><p class="indent" >   The <span 
class="ecbx-1000">recovery manager </span>is responsible for preserving the consistency (C), atomicity (A) and durability (D)
properties.
<!--l. 1061--><p class="indent" >   The <span 
class="ecbx-1000">buffer manager </span>is responsible for bringing data to main memory from disk, and vice-versa, communicating
with the operating system.
<!--l. 1065--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-32001r5"></a>
                                                                                            
                                                                                            
<!--l. 1066--><p class="noindent" ><img 
src="5_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_pegado1.png" alt="PIC"  
width="50" height="50" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;5: </span><span  
class="content">Functional architecture of a centralized DBMS.</span></div><!--tex4ht:label?: x1-32001r5 -->
                                                                                            
                                                                                            
<!--l. 1067--><p class="indent" >   </div><hr class="endfigure">
<!--l. 1069--><p class="indent" >   This architecture is not sufficient to deal with distributed data. The functional architecture of a distributed DBMS
(DDBMS) is depicted in Figure <a 
href="#x1-32012r6">6<!--tex4ht:ref: fig:Functional-architecture-of-1 --></a>. As we can see, there are now two stages:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-32003x1">
     <!--l. 1074--><p class="noindent" >Modules cooperate at the global level, transforming the data flow and mapping it to the lower layers, dealing with
     a single view of the database and the distribution transparency:
         <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-32005x1">
         <!--l. 1078--><p class="noindent" >The <span 
class="ecbx-1000">global query manager </span>contains the view manager, security manager, constraint checker and
         query ooptimizer, which behave as in the centralized case, except for the optimizer, which now
         considers data location and consults the global schema to determine which node does what.
         </li>
<li 
  class="enumerate" id="x1-32007x2">
         <!--l. 1083--><p class="noindent" >The  <span 
class="ecbx-1000">global  execution  manager </span>inserts  communication  primitives  in  the  execution  plan  and
         coordinates the execution of the pieces of the query in the different components to build up the final
         results from all the query pieces executed distributedly.
         </li>
<li 
  class="enumerate" id="x1-32009x3">
         <!--l. 1087--><p class="noindent" >The <span 
class="ecbx-1000">global scheduler </span>receives the global execution plan and distributes trasks between the available
         sites, guaranteeing isolation between different users.</li></ol>
     </li>
<li 
  class="enumerate" id="x1-32011x2">
     <!--l. 1091--><p class="noindent" >Modules cooperate at the local level, with a very similar behavior to that of the centralized DBMS.</li></ol>
<!--l. 1094--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-32012r6"></a><img 
src="6_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_pegado2.png" alt="PIC"  
width="50" height="50" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;6: </span><span  
class="content">Functional architecture of a DDBMS.</span></div><!--tex4ht:label?: x1-32012r6 -->
<!--l. 1098--><p class="indent" >   </div><hr class="endfigure">
   <h4 class="subsectionHead"><span class="titlemark">3.7   </span> <a 
 id="x1-330003.7"></a>Enumerate the eight main features of Cloud Databases</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1103--><p class="noindent" >Ability to scale horizontally.
     </li>
     <li class="itemize">
     <!--l. 1104--><p class="noindent" >Efficient fragmentation techniques.
     </li>
     <li class="itemize">
     <!--l. 1105--><p class="noindent" >Use as efficiently as possible distributed memory and indexing mechanisms to parallelize execution. Spped
     up relies on massive replication and parallelism (which in turn improve reliability and availability).
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 1108--><p class="noindent" >Cloud Databases relax the strong consistency asked by ACID transactions and define the weaker concept
     of eventual consistency.
     </li>
     <li class="itemize">
     <!--l. 1110--><p class="noindent" >A simplistic call level interface or protocol is provided to manage data, which is easy to learn and use, but
     puts the optimization burden on the side of the developers. This also compromises some transparency. The
     schemaless nature of these systems complicates even more the creation of a declarative query language
     like SQL.
     </li>
     <li class="itemize">
     <!--l. 1115--><p class="noindent" >The setting up of hardware and software must be quick and cheap.
     </li>
     <li class="itemize">
     <!--l. 1116--><p class="noindent" >The concept of <span 
class="ecbx-1000">multi-tenancy </span>appears: the same hardware/software is shared by many tenants. This
     requires mechanisms to manage the sharing and actually benefitting from it.
     </li>
     <li class="itemize">
     <!--l. 1119--><p class="noindent" >Rigid pre-defined schemas are not appropriate for these databases. Instead, there is a need towards gaining
     flexibility.</li></ul>
<!--l. 1124--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.8   </span> <a 
 id="x1-340003.8"></a>Explain the difficulties of Cloud Database providers to have multiple tenants</h4>
<!--l. 1126--><p class="noindent" >The difficulty can be summarized as the need to deal with the potential high number of tenants, and
the unpredictability of their workloads&#8217; characteristics. Popularity of tenants can change very rapidly,
fact that impacts the Cloud services hosting their products. Also, the activities that they perform can
change.
<!--l. 1132--><p class="indent" >   Thus, the provider has to implement mechanisms to be able to deal with this variety and variability in the
workloads.
<!--l. 1135--><p class="indent" >   Also, the system should tolerate failures and offer self-healing mechanisms, if possible.
<!--l. 1138--><p class="indent" >   Finally, the software should easily allow to scale out to guarantee the required latencies. Adding or upgrading new
machines should happen progressively, so that service suspension is not necessary at all.
<!--l. 1143--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.9   </span> <a 
 id="x1-350003.9"></a>Enumerate the four main problems tenants/users need to tackle in Cloud Databases</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1145--><p class="noindent" ><span 
class="ecbx-1000">Data design</span>: provides the means to decide on how to fragment the data, where to place each fragment,
     and how many times they will be stored (replication).
     </li>
     <li class="itemize">
     <!--l. 1148--><p class="noindent" ><span 
class="ecbx-1000">Catalog  management</span>:  requires  the  same  considerations  as  the  design  of  the  database  regarding
     fragmentation, locality and replication, but with regard to metadata instead of data. The difference in
     this case is that some of the decisions are already made on designing the tool and few degrees of freedom
     are left for administrators and developers.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 1153--><p class="noindent" ><span 
class="ecbx-1000">Transaction management</span>: it is specially hard and expensive in distributed environments. Distributed
     recovery and concurrency control mechanisms exist, but there is a need to find a trade-off between the
     security they guarantee and the performance impact they have.
     <!--l. 1159--><p class="noindent" >Specially relevant in this case is the management of replicas, which are expensive to update, but reduce
     query latency and improve availability.
     </li>
     <li class="itemize">
     <!--l. 1161--><p class="noindent" ><span 
class="ecbx-1000">Query processing</span>: it must be as efficient as possible. Parallelism should benefit from data distribution,
     without incurring in much communication overhead, which can be reduced by replicating data.</li></ul>
<!--l. 1166--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.10   </span> <a 
 id="x1-360003.10"></a>Distinguish the cost of sequential and random access</h4>
<!--l. 1169--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.11   </span> <a 
 id="x1-370003.11"></a>Explain the difference between the cost of sequential and random access</h4>
<!--l. 1171--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.12   </span> <a 
 id="x1-380003.12"></a>Distinguish vertical and horizontal fragmentation</h4>
<!--l. 1173--><p class="noindent" ><span 
class="ecbx-1000">Data fragmentation </span>deals with the problem of breaking datasets into smaller pieces, decreasing the working
unit in the distributed system. It has been useful to reflect the fact that applications and users might be
interested in accessing different subsets of the data. Different subsets are naturally needed at different nodes
and it makes sense to allocate fragments where they are more likely to be needed for use. This is <span 
class="ecbx-1000">data</span>
<span 
class="ecbx-1000">locality</span>.
<!--l. 1181--><p class="indent" >   There are two main fragmentation approaches:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1183--><p class="noindent" ><span 
class="ecbx-1000">Horizontal fragmentation</span>: a selection predicate is used to create different fragments and, according to
     an attribute value, place each row in the corresponding fragment.
     <!--l. 1187--><p class="noindent" >A  distributed  system  benefits  from  horizontal  fragmentation  when  it  needs  to  mirror  geographically
     distributed data to facilitate recovery and parallelism, to reduce the depth of indexes and to reduce
     contention.
     <!--l. 1191--><p class="noindent" >Fragmentation can go from one extreme (no fragmentation) to the other (placing each row in a different
     fragment). We need to know which predicates are of interest in our database. As a general rule: <span 
class="ecti-1000">the 20%</span>
     <span 
class="ecti-1000">most active users produce 80% of the total accesses</span>. We should focus on these users to determine which
     predicates to consider in our analysis.
     <!--l. 1198--><p class="noindent" >Finally, we need to guarantee the correctness:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1200--><p class="noindent" >Completeness: the fragmentation predicates must guarantee every row is assigned to, at least, one
         fragment.
         </li>
         <li class="itemize">
         <!--l. 1202--><p class="noindent" >Disjointness: the fragmentation preficates must be mutually exclusive (<span 
class="ecbx-1000">minimality property</span>).
                                                                                            
                                                                                            
         </li>
         <li class="itemize">
         <!--l. 1204--><p class="noindent" >Reconstruction: the union of all the fragments must constitute the original dataset.</li></ul>
     <!--l. 1207--><p class="noindent" >We have only considered single relations for this analysis, but it is also possible to consider related datasets and
     fragment them together, this is called <span 
class="ecbx-1000">derived horizontal fragmentation</span>. Let <span 
class="cmmi-10">R,S </span>be two relations such that
     <span 
class="cmmi-10">R </span>possess a foreign key to <span 
class="cmmi-10">S </span>and are related by means of a relationship <span 
class="cmmi-10">r</span>. In this case, <span 
class="cmmi-10">S </span>is the <span 
class="ecbx-1000">owner </span>and <span 
class="cmmi-10">R </span>is
     the <span 
class="ecbx-1000">member</span>. Suppose also that <span 
class="cmmi-10">S </span>is fragmented in <span 
class="cmmi-10">n </span>fragments <span 
class="cmmi-10">S</span><sub><span 
class="cmmi-7">i</span></sub><span 
class="cmmi-10">,i </span><span 
class="cmr-10">= 1</span><span 
class="cmmi-10">,...,n</span>, and we want to
     fragment <span 
class="cmmi-10">R </span>regarding <span 
class="cmmi-10">S </span>using the relationship <span 
class="cmmi-10">r</span>. The derived horizontal fragmentation is defined
     as
<div class="math-display" >
<img 
src="summary0x.png" alt="Ri = R &#x22C9; Si, i = 1,...,n,
" class="math-display" ></div>
     <!--l. 1219--><p class="noindent" >where <span 
class="msbm-10">&#x22C9; </span>is the left-semijoin<span class="footnote-mark"><a 
href="summary2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-38001f1"></a>  
     and the joining attributes are those in <span 
class="cmmi-10">r</span>.
     <!--l. 1222--><p class="noindent" >If <span 
class="cmmi-10">R </span>and <span 
class="cmmi-10">S </span>are related by more than one relationship, we should apply the following criteria to decide which one
     to use:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1225--><p class="noindent" >The fragmentation more used by users/applications.
         </li>
         <li class="itemize">
         <!--l. 1226--><p class="noindent" >The fragmentation that maximizes the parallel execution of the queries.</li></ul>
     <!--l. 1228--><p class="noindent" >In order to consider a derived horizontal fragmentaiton to be complete and disjoint, two additional constraints
     must hold on top of those stated before:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1232--><p class="noindent" >Completeness: the relationship used to semijoin both datasets must enforce the referential integrity
         constraint.
         </li>
         <li class="itemize">
         <!--l. 1234--><p class="noindent" >Disjointness: the join attribute must be the owner&#8217;s key.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 1236--><p class="noindent" ><span 
class="ecbx-1000">Vertical fragmentation</span>: partitions the datasets in smaller subsets by projecting some attributes in each
     fragment.
     <!--l. 1239--><p class="noindent" >Vertical fragmentation has been traditionally overlooked in practice, because it worsened insertions and update
     timems of transactional systems in many times. However, with the arrival of read-only workloads, this kind of
     fragmentation arose as a powerful alternative to decrease the number of attributes to be read from a
     dataset.
     <!--l. 1245--><p class="noindent" >In general, it improves the ratio of useful data read and it also reduces contention and facilitates recovery and
     parallelism.
                                                                                            
                                                                                            
     <!--l. 1248--><p class="noindent" >As disadvantages, note that it increases the number of indexes, worsens update and insertion time and increases
     the space used by data, because the primery key is replicated at each fragment.
     <!--l. 1252--><p class="noindent" >Deciding how to group attributes is not obvious at all. The information required is:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1255--><p class="noindent" >Data characteristics: set of attributes and value distribution for all attributes.
         </li>
         <li class="itemize">
         <!--l. 1257--><p class="noindent" >Workload: frequency of each query, access plan and estimated cost of each query and selectivity of
         each predicate.</li></ul>
     <!--l. 1260--><p class="noindent" >A good heuristic is the following:
         <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-38003x1">
         <!--l. 1262--><p class="noindent" >Determine primary partitions (subsets of attributes always accessed together).
         </li>
<li 
  class="enumerate" id="x1-38005x2">
         <!--l. 1264--><p class="noindent" >Generate a disjoint and covering combination of primary partitions, which would potentially be stored
         together.
         </li>
<li 
  class="enumerate" id="x1-38007x3">
         <!--l. 1266--><p class="noindent" >Evaluate the cost of all combinations generated in the previous phase.</li></ol>
     </li></ul>
<!--l. 1270--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.13   </span> <a 
 id="x1-390003.13"></a>Recognize the complexity and benefits of data allocation</h4>
<!--l. 1272--><p class="noindent" >Once the data is fragmented, we must decide where to place each segment, trying to optimize some criteria:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1275--><p class="noindent" ><span 
class="ecbx-1000">Minimal cost</span>: function resulting of computing the cost of storing each fragment <span 
class="cmmi-10">F</span><sub><span 
class="cmmi-7">i</span></sub> at a certain node
     <span 
class="cmmi-10">N</span><sub><span 
class="cmmi-7">i</span></sub>, the cost of querying <span 
class="cmmi-10">F</span><sub><span 
class="cmmi-7">i</span></sub> at <span 
class="cmmi-10">N</span><sub><span 
class="cmmi-7">i</span></sub> and the cost of updating each fragment <span 
class="cmmi-10">F</span><sub><span 
class="cmmi-7">i</span></sub> at all places where it is
     replicated, and the cost od communication.
     </li>
     <li class="itemize">
     <!--l. 1279--><p class="noindent" ><span 
class="ecbx-1000">Maximal performance</span>: the aim is to minimize the response time or maximize the overall throughput.</li></ul>
<!--l. 1282--><p class="noindent" >This problem is NP-hard and the optimal solution depends on many factors.
<!--l. 1284--><p class="indent" >   In a dynamic environment the workload and access patterns may change and all these statistics should always be
available in order to find the optimal solution. Thus, the problem is simplified with certain assumptions and simplified
cost models are built so that any optimization algorithm can be adopted to approximate the optimal
solution.
<!--l. 1290--><p class="indent" >   There are several benefits to data allocation, including:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1292--><p class="noindent" >Improved performance: By distributing the data across multiple nodes, the workload can be distributed
     among the nodes, reducing the load on any single node and improving overall performance.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 1295--><p class="noindent" >Increased availability: With data replicated across multiple nodes, the failure of any single node does not
     result in a loss of data or loss of access to the data.
     </li>
     <li class="itemize">
     <!--l. 1298--><p class="noindent" >Scalability: Distributed data allocation allows for scaling the system by adding more nodes to the system,
     as needed.
     </li>
     <li class="itemize">
     <!--l. 1300--><p class="noindent" >Reduced network traffic: By keeping data local to the nodes where it is most frequently accessed, data
     allocation can reduce the amount of network traffic needed to access the data.
     </li>
     <li class="itemize">
     <!--l. 1303--><p class="noindent" >Better resource utilization: Data allocation can help to balance the use of resources across the nodes in
     the system, avoiding overloading some nodes while underutilizing others.</li></ul>
<!--l. 1308--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.14   </span> <a 
 id="x1-400003.14"></a>Explain the benefits of replication</h4>
<!--l. 1310--><p class="noindent" >Data replication refers to the process of making and maintaining multiple copies of data across multiple nodes in a
distributed database system. There are several benefits to data replication, including:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1314--><p class="noindent" >Improved availability: By replicating data across multiple nodes, the system can continue to function even
     if one or more nodes fail or become unavailable, ensuring the availability of the data.
     </li>
     <li class="itemize">
     <!--l. 1317--><p class="noindent" >Increased fault tolerance: Data replication can help to ensure that data remains available even in the event
     of a hardware or software failure, improving the overall fault tolerance of the system.
     </li>
     <li class="itemize">
     <!--l. 1320--><p class="noindent" >Faster data access: With multiple copies of data available across multiple nodes, data can be accessed
     more quickly by users and applications, improving overall system performance.
     </li>
     <li class="itemize">
     <!--l. 1323--><p class="noindent" >Improved load balancing: Replicating data across multiple nodes can help to balance the workload on each
     node, improving overall system performance and efficiency.
     </li>
     <li class="itemize">
     <!--l. 1326--><p class="noindent" >Enhanced data locality: Replication can also help to improve data locality by ensuring that frequently
     accessed data is available on the same node, reducing the need to access data over the network.</li></ul>
                                                                                            
                                                                                            
<!--l. 1331--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.15   </span> <a 
 id="x1-410003.15"></a>Discuss the alternatives of a distributed catalog</h4>
<!--l. 1333--><p class="noindent" >The same design problems and criteria can be applied to the catalog, but now we are storing metadata. This requires
two important considerations:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-41002x1">
     <!--l. 1336--><p class="noindent" >Metadata is much smalles than data, which makes it easier to manage.
     </li>
<li 
  class="enumerate" id="x1-41004x2">
     <!--l. 1337--><p class="noindent" >Optimizing performance is much more critical, since accessing this metadata is a requirement for any
     operation in the system.</li></ol>
<!--l. 1340--><p class="noindent" >Many decisions are already made by the architects of the system, and only few options can be parameterized on
instantiaitng it.
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1343--><p class="noindent" ><span 
class="ecbx-1000">Global metadata</span>: are allocated in the coordinator node.
     </li>
     <li class="itemize">
     <!--l. 1344--><p class="noindent" ><span 
class="ecbx-1000">Local metadata</span>: are distributed in the different nodes.</li></ul>
<!--l. 1346--><p class="noindent" >A typical choice we can make in many NOSQL systems is having a secondary copy of the coordinator (<span 
class="ecbx-1000">mirroring</span>) that
takes control in case of failure. Of course, this redundancy consume some resources.
<!--l. 1350--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.16   </span> <a 
 id="x1-420003.16"></a>Decide when a fragmentation strategy is correct</h4>
<!--l. 1352--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-430004"></a>Distributed Data Processing</h3>
<!--l. 1356--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.1   </span> <a 
 id="x1-440004.1"></a>Explain the CAP theorem</h4>
<!--l. 1358--><p class="noindent" >The CAP theorem, also known as Brewer&#8217;s theorem<span class="footnote-mark"><a 
href="summary3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-44001f2"></a>  ,
is a principle that states that in a distributed system, it is impossible to simultaneously provide all three of the
following guarantees:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1362--><p class="noindent" ><span 
class="ecbx-1000">Consistency</span>: Every read operation will return the most recent write or an error. All nodes see the same
     data at the same time.
     </li>
     <li class="itemize">
     <!--l. 1364--><p class="noindent" ><span 
class="ecbx-1000">Availability</span>: Every non-failing node returns a response for every request in a reasonable amount of time,
     without guaranteeing that it contains the most recent write.
     </li>
     <li class="itemize">
     <!--l. 1367--><p class="noindent" ><span 
class="ecbx-1000">Partition tolerance</span>: The system continues to operate despite arbitrary message loss or network failure
     between nodes.</li></ul>
<!--l. 1370--><p class="noindent" >According to the CAP theorem, a distributed system can only provide two out of these three guarantees at a time. In other
words, a distributed system can either prioritize consistency and partition tolerance, consistency and availability, or
availability and partition tolerance, but it cannot achieve all three simultaneously.
<!--l. 1376--><p class="indent" >   This theorem has important implications for the design and operation of distributed systems, as designers must
carefully consider which trade-offs to make when choosing between consistency, availability, and partition tolerance. In
larger distributed-scale systems, network partitions are given for granted. Thus, we must choose between consistency
and availability: Either we have an always-consistent system that becomes temporally unavailable, or an
always-available system that temporally shows some inconsistencies.
   <h4 class="subsectionHead"><span class="titlemark">4.2   </span> <a 
 id="x1-450004.2"></a>Identify the 3 configuration alternatives given by the CAP theorem</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1387--><p class="noindent" ><span 
class="ecbx-1000">Strong consistency</span>: replicas are synchonously modified and guarantee consistent query answering and
     the whole system will be declared not to be available in case of network partition.
     </li>
     <li class="itemize">
     <!--l. 1390--><p class="noindent" ><span 
class="ecbx-1000">Eventual consistency</span>: changes are asynchronously propagated to replicas, so answer to the same query
     depends on the replica being used. In case of network partition, changes will be simply delayed.
     </li>
     <li class="itemize">
     <!--l. 1393--><p class="noindent" ><span 
class="ecbx-1000">Non-distributed data</span>: connectivity cannot be lost and we can have strong consistency without affecting
     availability.</li></ul>
                                                                                            
                                                                                            
<!--l. 1397--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.3   </span> <a 
 id="x1-460004.3"></a>Explain the 4 synchronization protocols we can have</h4>
<!--l. 1399--><p class="noindent" >There are two choices that generate four alternative configurations for replica synchronization management:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1402--><p class="noindent" ><span 
class="ecbx-1000">Primary/secondary versioning</span>:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1404--><p class="noindent" >Primary versioning refers to a scheme where one copy of the data is designated as the primary copy,
         and all updates are made to this copy first. Once the primary copy is updated, the changes are
         propagated to secondary copies. This approach ensures that all nodes eventually receive the same
         data, but it may introduce a delay in propagation.
         </li>
         <li class="itemize">
         <!--l. 1409--><p class="noindent" >In contrast, secondary versioning involves making updates to multiple copies simultaneously, with all
         nodes being able to receive updates independently. This approach can reduce the propagation delay,
         but it may increase the complexity of the replication process.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 1414--><p class="noindent" ><span 
class="ecbx-1000">Eager/lazy replication</span>:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1416--><p class="noindent" >Eager replication refers to a scheme where updates are propagated to all replicas immediately upon
         completion, ensuring that all nodes have the most recent version of the data at all times. This
         approach can be resource-intensive, as it requires significant network bandwidth and processing power.
         </li>
         <li class="itemize">
         <!--l. 1421--><p class="noindent" >On the other hand, lazy replication involves delaying the propagation of updates until necessary, such
         as when a read request is received for a particular node. This approach can reduce the network and
         processing costs associated with replication but may lead to inconsistencies between replicas in the
         short term.</li></ul>
     </li></ul>
<!--l. 1428--><p class="noindent" >These two choices give rise to four possible alternatives, depicted in Figure <a 
href="#x1-46001r7">7<!--tex4ht:ref: fig:Replica-synchronization-alternat --></a>.
<!--l. 1431--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-46001r7"></a>
                                                                                            
                                                                                            
<!--l. 1433--><p class="noindent" ><img 
src="7_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_pegado3.png" alt="PIC"  
width="43" height="43" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;7: </span><span  
class="content">Replica synchronization alternatives. Source: <span class="cite">[<a 
href="#Xabiteboul_manolescu_rigaux_rousset_senellart_2011">2</a>]</span>.</span></div><!--tex4ht:label?: x1-46001r7 -->
                                                                                            
                                                                                            
<!--l. 1437--><p class="indent" >   </div><hr class="endfigure">
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-46002x4.3">
     <!--l. 1440--><p class="noindent" >A user can only modify the primary copy, and his changes are immediately propagated to any other
     existing copy (which can always be read by any user). Only after being properly propagated and changes
     acknowledged by all servers, the user receives confirmation.
     </li>
<li 
  class="enumerate" id="x1-46003x4.3">
     <!--l. 1444--><p class="noindent" >A user can only modify the primary copy, and receives confirmation of this change immediately. His
     changes are eventually propagated to any other existing copy (which can always be read by any user).
     </li>
<li 
  class="enumerate" id="x1-46004x4.3">
     <!--l. 1447--><p class="noindent" >A user can modify any replica, and her changes are immediately propagated to any other existing copy
     (which can always be read by any user). Only after being properly propagated and changes acknowledged
     by all servers, the user receives confirmation.
     </li>
<li 
  class="enumerate" id="x1-46005x4.3">
     <!--l. 1451--><p class="noindent" >A user can modify any replica, and receives confirmation of this change immediately. His changes are
     eventually propagated to any other existing copy (which can always be read by any user).</li></ol>
<!--l. 1455--><p class="noindent" >a) and c) correspond to the traditional concept of consistency, while b) and d) correspond to the concept of eventual
consistency.
   <h4 class="subsectionHead"><span class="titlemark">4.4   </span> <a 
 id="x1-470004.4"></a>Explain what eventual consistency means</h4>
<!--l. 1460--><p class="noindent" >Eventual consistency is a concept in distributed databases that refers to a property of the system where all updates to a
data item will eventually propagate to all nodes in the system and converge to a consistent state, given a sufficiently
long period of time without updates.
<!--l. 1466--><p class="indent" >   In a distributed system, data is replicated across multiple nodes, and each node maintains a copy of the data. Due
to network latency, nodes may have different versions of the data at any given time, leading to inconsistencies between
replicas. Eventual consistency allows for these inconsistencies to exist temporarily until all nodes have received the
updated data.
<!--l. 1473--><p class="indent" >   Eventual consistency does not guarantee immediate consistency between replicas, but it does
ensure that all replicas will eventually converge to a consistent state. This property is particularly
useful for distributed systems that prioritize availability and partition tolerance over consistency
<span class="footnote-mark"><a 
href="summary4.html#fn3x0"><sup class="textsuperscript">3</sup></a></span><a 
 id="x1-47001f3"></a> , such
as in large-scale web applications or data-intensive systems.
   <h5 class="subsubsectionHead"><span class="titlemark">4.4.1   </span> <a 
 id="x1-480004.4.1"></a>Replication management configurations</h5>
<!--l. 1482--><p class="noindent" >Let:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1484--><p class="noindent" ><span 
class="cmmi-10">N</span>: number of replicas
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 1485--><p class="noindent" ><span 
class="cmmi-10">W</span>: number of uncommited written replicas
     </li>
     <li class="itemize">
     <!--l. 1486--><p class="noindent" ><span 
class="cmmi-10">R</span>: number of replicas with the same information to be read before giving a response</li></ul>
<!--l. 1489--><p class="noindent" >The <span 
class="ecbx-1000">inconsistency window </span>is the time during which <span 
class="cmmi-10">W &#x003C; N</span>.
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1491--><p class="noindent" >If <span 
class="cmmi-10">W </span><span 
class="cmr-10">+</span><span 
class="cmmi-10">R &#x003E; N</span>, then it is assured that some read replica would have been modified, and strong consistency
     is achieved because the user will always receive the updated value.
     </li>
     <li class="itemize">
     <!--l. 1494--><p class="noindent" >If <span 
class="cmmi-10">W </span><span 
class="cmr-10">+ </span><span 
class="cmmi-10">R </span><span 
class="cmsy-10">&#x2264; </span><span 
class="cmmi-10">N</span>, then we cannot ensure this, and the consistency is eventual.</li></ul>
<!--l. 1497--><p class="noindent" >Some usual configurations are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1499--><p class="noindent" ><span 
class="ecbx-1000">Fault tolerant system</span>: <span 
class="cmmi-10">N </span><span 
class="cmr-10">= 3</span><span 
class="cmmi-10">,R </span><span 
class="cmr-10">= 2</span><span 
class="cmmi-10">,W </span><span 
class="cmr-10">= 2</span>.
     </li>
     <li class="itemize">
     <!--l. 1500--><p class="noindent" ><span 
class="ecbx-1000">Massive replication for read scaling</span>: <span 
class="cmmi-10">N </span>is big and <span 
class="cmmi-10">R </span><span 
class="cmr-10">= 1</span>.
     </li>
     <li class="itemize">
     <!--l. 1501--><p class="noindent" ><span 
class="ecbx-1000">Read One-Write All (ROWA)</span>: <span 
class="cmmi-10">R </span><span 
class="cmr-10">= 1</span><span 
class="cmmi-10">,W </span><span 
class="cmr-10">= </span><span 
class="cmmi-10">N</span>.</li></ul>
<!--l. 1504--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.5   </span> <a 
 id="x1-490004.5"></a>Enumerate the phases of distributed query processing</h4>
<!--l. 1505--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-49002x1">
     <!--l. 1506--><p class="noindent" >The <span 
class="ecbx-1000">global query optimizer </span>performs:
         <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-49004x1">
         <!--l. 1508--><p class="noindent" >Semantic optimization
         </li>
<li 
  class="enumerate" id="x1-49006x2">
         <!--l. 1509--><p class="noindent" >Syntactic optimization:
             <ol  class="enumerate3" >
<li 
  class="enumerate" id="x1-49008x1">
             <!--l. 1511--><p class="noindent" >Generation of syntactic trees
                                                                                            
                                                                                            
             </li>
<li 
  class="enumerate" id="x1-49010x2">
             <!--l. 1512--><p class="noindent" >Data localization
             </li>
<li 
  class="enumerate" id="x1-49012x3">
             <!--l. 1513--><p class="noindent" >Reduction</li></ol>
         </li>
<li 
  class="enumerate" id="x1-49014x3">
         <!--l. 1515--><p class="noindent" >Global physical optimization</li></ol>
     </li>
<li 
  class="enumerate" id="x1-49016x2">
     <!--l. 1517--><p class="noindent" >Then, the <span 
class="ecbx-1000">local query optimizer </span>performs local physical optimization.</li></ol>
<!--l. 1520--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.6   </span> <a 
 id="x1-500004.6"></a>Explain the difference between data shipping and query shipping</h4>
<!--l. 1522--><p class="noindent" >Data shipping and query shipping are both techniques used in distributed databases to improve performance and reduce
network traffic. However, they differ in the way they handle data movement.
<!--l. 1526--><p class="indent" >   <span 
class="ecbx-1000">Data shipping </span>involves moving the data itself from one node to another node in the network to execute
the query. In other words, the data is shipped to the node where the query is executed. This approach
works well when the amount of data being moved is small, and the network has low latency and high
bandwidth.
<!--l. 1532--><p class="indent" >   On the other hand, <span 
class="ecbx-1000">query shipping </span>involves shipping the query to the nodes where the data resides and executing
the query on those nodes. In this approach, the network traffic is reduced because only the query is sent over the
network, and the data remains in its original location. This approach works well when the data is large, and the
network has high latency and low bandwidth.
<!--l. 1539--><p class="indent" >   It is possible to design <span 
class="ecbx-1000">hybrid strategies</span>, in which it is dynamically decided what kind of shipping to
perform.
<!--l. 1543--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.7   </span> <a 
 id="x1-510004.7"></a>Explain the meaning of &#8217;<span 
class="ecti-1000">reconstruction</span>&#8217; and &#8217;<span 
class="ecti-1000">reduction</span>&#8217; in syntactic optimization</h4>
<!--l. 1545--><p class="noindent" ><span 
class="ecbx-1000">Reconstruction </span>refers to how the datasets are obtained from their fragments. For example, a dataset which is
horizontally fragmented is reconstructed by means of unions.
<!--l. 1549--><p class="indent" >   On the other hand, <span 
class="ecbx-1000">reduction </span>refers to the process of removing redundant or unnecessary operations from a query
without changing its semantics. This is achieved by applying various optimization techniques, such as elimination of
common sub-expressions, dead-code elimination, and constant folding, which can simplify the query execution plan and
reduce the number of operations required to produce the result.
<!--l. 1557--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.8   </span> <a 
 id="x1-520004.8"></a>Explain the purpose of the &#8217;<span 
class="ecti-1000">exchange</span>&#8217; operator in physical optimization</h4>
<!--l. 1559--><p class="noindent" >The exchange operator is used to redistribute data between nodes when it is needed to complete a query. For example,
when a query involves joining two tables that are partitioned across multiple nodes, the exchange operator is used to
redistribute the data so that the join can be performed locally on each node, instead of sending all the data to a single
node for processing.
<!--l. 1566--><p class="indent" >   The exchange operator can be used for both horizontal and vertical partitioning. In horizontal partitioning, the
exchange operator is used to redistribute the rows of a table between nodes. In vertical partitioning, the exchange
operator is used to redistribute the columns of a table between nodes.
                                                                                            
                                                                                            
<!--l. 1572--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.9   </span> <a 
 id="x1-530004.9"></a>Enumerate the 4 different cost factors in distributed query processing</h4>
<!--l. 1574--><p class="noindent" >The cost is the sum of the local cost and the communication cost:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1576--><p class="noindent" >The <span 
class="ecbx-1000">local cost </span>is cost of the processing at each node, divided in:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1579--><p class="noindent" >Cost of central unit processing, <span 
class="cmr-10">#</span><span 
class="cmmi-10">cycles</span>.
         </li>
         <li class="itemize">
         <!--l. 1580--><p class="noindent" >Unit cost of I/O operations, <span 
class="cmr-10">#</span><span 
class="cmmi-10">IOs</span>.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 1582--><p class="noindent" >The <span 
class="ecbx-1000">commnication cost </span>is the cost due to the exchange of information between nodes for synchronization,
     divided in:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1585--><p class="noindent" >Cost of initiating a message and sending a message, <span 
class="cmr-10">#</span><span 
class="cmmi-10">messages</span>.
         </li>
         <li class="itemize">
         <!--l. 1586--><p class="noindent" >Cost of transmitting a byte, <span 
class="cmr-10">#</span><span 
class="cmmi-10">bytes</span>.</li></ul>
     </li></ul>
<!--l. 1590--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.10   </span> <a 
 id="x1-540004.10"></a>Distinguish between response time and query time</h4>
<!--l. 1592--><p class="noindent" ><span 
class="ecbx-1000">Query time </span>(or execution time) is the time that it takes for the system to process a query, since it starts it execution
until the results start being returned to the user (or are completely returned, if desirable).
<!--l. 1597--><p class="indent" >   <span 
class="ecbx-1000">Response time </span>is a wider term, that refers to the time it takes for the system since the user issues a query until
she receives the response.
<!--l. 1601--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.11   </span> <a 
 id="x1-550004.11"></a>Explain the different kinds of parallelism</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1603--><p class="noindent" ><span 
class="ecbx-1000">Inter-query parallelism </span>refers to the execution of multiple queries in parallel. This means that the
     queries are executed independently of each other and can run simultaneously on different processors or
     nodes in a distributed system.
     </li>
     <li class="itemize">
     <!--l. 1607--><p class="noindent" ><span 
class="ecbx-1000">Intra-query parallelism</span>, on the other hand, involves breaking down a single query into smaller parts
     or sub-queries that can be executed in parallel. This can improve query performance by allowing multiple
     parts of a query to be executed simultaneously.
     <!--l. 1612--><p class="noindent" >Within intra-query parallelism, there are two types of parallelism:
                                                                                            
                                                                                            
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 1614--><p class="noindent" ><span 
class="ecbx-1000">Intra-operator parallelism </span>refers to the parallel execution of operations within a single query
         operator. For example, if a query involves a selection operation, the selection can be parallelized by
         partitioning the data and having multiple processors or nodes evaluate the selection condition on
         different partitions in parallel. In the context of the process tree, it corresponds to several parts of
         the same node executing in parallel.
         </li>
         <li class="itemize">
         <!--l. 1621--><p class="noindent" ><span 
class="ecbx-1000">Inter-operator  parallelism </span>refers  to  the  parallel  execution  of  different  query  operators.  For
         example, if a query involves both a selection and a join operation, the selection and join can be
         executed in parallel by having different processors or nodes evaluate different parts of the query
         plan simultaneously. In the context of the process tree, it corresponds to several nodes executing in
         parallel.</li></ul>
     </li></ul>
<!--l. 1630--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.12   </span> <a 
 id="x1-560004.12"></a>Identify the impact of fragmentation in intra-operator parallelism</h4>
<!--l. 1632--><p class="noindent" >Intra-operator parallelism is based on fragmenting data, so that the same operator can be executed parallely by issuing
it to different fragments of the data.
<!--l. 1636--><p class="indent" >   If there is a preexistant (a priori) fragmentation, it can be used for this. But even if the dataset has not been
previously fragmented, the DDBMS can fragment it on the fly to benefit from this approach.
<!--l. 1640--><p class="indent" >   The input of an operation can be dynamically fragmented and parallelized, with different strategies:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1643--><p class="noindent" >Round Robin: This method involves distributing the data uniformly across multiple nodes in a circular
     fashion. Each new record is assigned to the next node in the circle, and when the last node is reached, the
     next record is assigned to the first node again. This type of fragmentation works well when the workload
     is evenly distributed across all nodes.
     </li>
     <li class="itemize">
     <!--l. 1649--><p class="noindent" >Range: With this method, the data is partitioned based on a specific range of values in a column. For
     example, a column with dates could be used to partition the data into different time periods. Each node
     would be responsible for storing data within a certain range of dates. This method is useful when there
     are specific patterns in the data that can be used to group it. This approach facilitates directed searches,
     but needs accurate quartile information.
     </li>
     <li class="itemize">
     <!--l. 1656--><p class="noindent" >Hash: This method involves taking a hash value of a column and using it to determine which node the
     data should be stored on. The hash function should distribute data evenly across all nodes, and it should
     be consistent so that the same value always hashes to the same node. This type of fragmentation works
     well when the workload is unpredictable, and there is no specific pattern to the data. This approach allows
     directed searches, but performance depends on the hash function chosen.</li></ul>
<!--l. 1664--><p class="noindent" >If dynamic fragmentation is used, a new property containing information about the fragmentation strategy being
used, the fragmentation predicates and the number of fragments produced must be added to the process
tree.
                                                                                            
                                                                                            
<!--l. 1670--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.13   </span> <a 
 id="x1-570004.13"></a>Explain the impact of tree topologies (i.e. linear and bushy) in inter-operator parallelism</h4>
<!--l. 1672--><p class="noindent" >A <span 
class="ecbx-1000">linear query plan</span>, also known as a pipeline, consists of a series of operators that are executed in a linear sequence.
In this topology, inter-operator parallelism is limited because the output of one operator must be fully consumed by the
next operator before it can begin processing its input. This means that the degree of parallelism is limited by the
slowest operator in the pipeline.
<!--l. 1679--><p class="indent" >   On the other hand, a <span 
class="ecbx-1000">bushy query plan </span>consists of multiple subtrees that can be executed in parallel. In this
topology, operators are arranged in a more complex structure that allows for more inter-operator parallelism. For
example, two independent subtrees can be executed in parallel, with the results of each subtree combined in a later
operation.
<!--l. 1686--><p class="indent" >   In general, a bushy query plan is more amenable to inter-operator parallelism than a linear query plan. However, the
degree of parallelism that can be achieved depends on many factors, including the number of available
processing resources, the characteristics of the data being processed, and the specifics of the query being
executed.
<!--l. 1692--><p class="indent" >   Linear trees can be exploited with parallelism by pipelining, which consists in the creation of a chain of
nested iterators, having one of them per operator in the process tree. The system pulls from the root
iterator, which transitively propagates the call through all other iterators in the pipeline. This does not
allow parallelism per se, but it can if we add a buffer to each iterator, so they can generate next rows
without waiting for a parent call. Thus, the producer leaves its result in an intermediate bugger and the
consumer takes its content asynchronously. This buffers imply that stalls can happen when an operator
becomes ready and no new input is available in its input buffer, propagating the stall to the rest of the
chain.
<!--l. 1704--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.14   </span> <a 
 id="x1-580004.14"></a>Explain the limits of scalability</h4>
<!--l. 1706--><p class="noindent" ><span 
class="ecbx-1000">Amdahl&#8217;s law </span>states that
   <div class="math-display" >
<img 
src="summary1x.png" alt="S(p,N ) =-----1----,
         (1- p)+  pN-
" class="math-display" ></div>
<!--l. 1710--><p class="indent" >   where <span 
class="cmmi-10">S </span>is the maximum improvement reachable by parallelizing the system, <span 
class="cmmi-10">N </span>is the number of subsystems, and <span 
class="cmmi-10">p</span>
is the fraction of parallelizable work of the system.
<!--l. 1714--><p class="indent" >   This is generalized by the <span 
class="ecbx-1000">universal scalability law</span>, which states that
   <div class="math-display" >
<img 
src="summary2x.png" alt="C (&#x03C3;,&#x03BA;,N ) =------------N-------------,
           1 + &#x03C3;&#x22C5;(N - 1)+ &#x03BA; &#x22C5;N (N  - 1)
" class="math-display" ></div>
                                                                                            
                                                                                            
<!--l. 1719--><p class="indent" >   where <span 
class="cmmi-10">C </span>is the maximum improvement reachable by parallelizing the system, <span 
class="cmmi-10">N </span>is the number of subsystems, <span 
class="cmmi-10">&#x03C3; </span>is
the system&#8217;s contention or the non-parallelizable fraction work of the system, and <span 
class="cmmi-10">&#x03BA; </span>is the system&#8217;s consistency delay,
which models how much the different parallel units require communication.
<!--l. 1725--><p class="indent" >   Thus, scalability is limited by:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1727--><p class="noindent" >The number of useful subsystem.
     </li>
     <li class="itemize">
     <!--l. 1728--><p class="noindent" >The fraction of parallelizable work.
     </li>
     <li class="itemize">
     <!--l. 1729--><p class="noindent" >The need for communication between subsystems.</li></ul>
<!--l. 1735--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.15   </span> <a 
 id="x1-590004.15"></a>Given the overall number of machines in the cluster, identify the consistency problems that arise depending
on the configuration of the number of required replicas read and written to confirm the corresponding
operations</h4>
<!--l. 1738--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.16   </span> <a 
 id="x1-600004.16"></a>Given a parallel system and a workload, find the number of machines maximizing throughput</h4>
<!--l. 1740--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.17   </span> <a 
 id="x1-610004.17"></a>Estimate the cost of a distributed query</h4>
<!--l. 1743--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">4.18   </span> <a 
 id="x1-620004.18"></a>Given a query and a database design, recognize the difficulties and opportunities behind distributed query
processing</h4>
<!--l. 1745--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-630005"></a>Hadoop Distributed File System (HDFS)</h3>
<!--l. 1749--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a 
 id="x1-640005.1"></a>Recognize the need of persistent storage</h4>
<!--l. 1751--><p class="noindent" >Persistent storage is important because it allows data to be stored and accessed even after a system or application has
been shut down or restarted. Without persistent storage, data would be lost each time the system or application is shut
down, which is clearly not desirable in most cases.
<!--l. 1757--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-650005.2"></a>Enumerate the design goals of GFS</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1759--><p class="noindent" ><span 
class="ecbx-1000">Efficient file management</span>: optimized for large files.
     </li>
     <li class="itemize">
     <!--l. 1760--><p class="noindent" ><span 
class="ecbx-1000">Efficient  append</span>:  because  the  main  access  pattern  is  assumed  to  be  <span 
class="ecbx-1000">Write  Once,  Read  Many</span>
     <span 
class="ecbx-1000">(WORM)</span>, and updates are usually done by appending new data, rather than overwriting existing ones.
     </li>
     <li class="itemize">
     <!--l. 1763--><p class="noindent" ><span 
class="ecbx-1000">Multi-client</span>.
     </li>
     <li class="itemize">
     <!--l. 1764--><p class="noindent" ><span 
class="ecbx-1000">Optimal sequential scans</span>: useful to quickly read large files.
     </li>
     <li class="itemize">
     <!--l. 1765--><p class="noindent" ><span 
class="ecbx-1000">Resilience failure</span>: failures must be monitored and detected, and when they happen there must be
     recovery mechanisms in place to revert potential inconsistencies.</li></ul>
<!--l. 1770--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a 
 id="x1-660005.3"></a>Explain the structural components of HDFS</h4>
<!--l. 1772--><p class="noindent" >The architecture is <span 
class="ecbx-1000">Coordinator-Worker</span>:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1774--><p class="noindent" ><span 
class="ecbx-1000">Coordinator node</span>: responsible for tracking the available state of the cluster and managing the worker
     nodes. In HDFS it is called <span 
class="ecbx-1000">namenode </span>(in Google File System (GFS) it is called master).
     </li>
     <li class="itemize">
     <!--l. 1778--><p class="noindent" ><span 
class="ecbx-1000">Worker nodes</span>: those doing the actual work. In HDFS they are called <span 
class="ecbx-1000">datanodes </span>(in GFS they are
     called chunknodes).</li></ul>
<!--l. 1781--><p class="noindent" >They have the following characteristics:
                                                                                            
                                                                                            
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1783--><p class="noindent" ><span 
class="ecbx-1000">Files are splitted into chunks</span>: a <span 
class="ecbx-1000">chunk </span>is the minimal unit of distribution. The chunk size can be
     customized per file.
     </li>
     <li class="itemize">
     <!--l. 1785--><p class="noindent" ><span 
class="ecbx-1000">Chunks  can  be  replicated</span>:  to  guarantee  <span 
class="ecbx-1000">robustness</span>,  each  replica  must  be  stored  in  a  different
     datanotes, and the amount of replicas to store is also customizable. If the cluster cannot replicate a chunk
     for the required value, the chunk is said to be <span 
class="ecbx-1000">underreplicated</span>.
     </li>
     <li class="itemize">
     <!--l. 1789--><p class="noindent" ><span 
class="ecbx-1000">In-memory namespace</span>: thousands of client applications should be served with minimal overhead. Thus,
     to reduce lookup costs, the data structure containing the file hierarchy and references to their chunks
     resides in memory in the coordinator node.
     </li>
     <li class="itemize">
     <!--l. 1793--><p class="noindent" ><span 
class="ecbx-1000">Bi-directional communication</span>: the namenode and datanotes have mechanisms to send both data and
     control messages between them. Datanodes can also send control messages to each other, but in most
     cases they will be exchanging chunks of data.
     </li>
     <li class="itemize">
     <!--l. 1797--><p class="noindent" ><span 
class="ecbx-1000">Single point of failure</span>: as the coordination is done by a single done, the situation is that of a <span 
class="ecbx-1000">single</span>
     <span 
class="ecbx-1000">point of failure (SPOF)</span>: if the namenode fails, then the whole cluster becomes unavailable. To overcome
     this, it is commong to maintain a <span 
class="ecbx-1000">failover replica </span>(or mirror).</li></ul>
<!--l. 1803--><p class="noindent" >A depiction of the architecture is in Figure <a 
href="#x1-66001r8">8<!--tex4ht:ref: fig:HDFS-Architecture.-Source: --></a>.
<!--l. 1805--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-66001r8"></a>
                                                                                            
                                                                                            
<!--l. 1807--><p class="noindent" ><img 
src="8_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_pegado4.png" alt="PIC"  
width="43" height="43" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;8: </span><span  
class="content">HDFS Architecture. Source: <a 
href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html" >HDFS-Architecture</a>.</span></div><!--tex4ht:label?: x1-66001r8 -->
                                                                                            
                                                                                            
<!--l. 1812--><p class="indent" >   </div><hr class="endfigure">
   <h4 class="subsectionHead"><span class="titlemark">5.4   </span> <a 
 id="x1-670005.4"></a>Name three file formats in HDFS and explain their differences</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 1817--><p class="noindent" ><span 
class="ecbx-1000">Horizontal Layout</span>: data is stored in separate files based on some logical grouping or partitioning criteria,
     such as by date or by user. Each file contains records that are self-contained and do not span multiple
     files. This layout is best suited for situations where data is constantly being appended or modified, as it
     allows for efficient data access and manipulation without the need to scan the entire dataset.
     </li>
     <li class="itemize">
     <!--l. 1824--><p class="noindent" ><span 
class="ecbx-1000">Vertical Layout</span>: In the vertical layout, data is stored in different files, dividing it into its columns. This
     layout is optimized for situations where data is read and processed in a column-wise manner. It allows for
     efficient compression and encoding of data, and enables quick access to specific fields without the need to
     scan the entire dataset.
     </li>
     <li class="itemize">
     <!--l. 1830--><p class="noindent" ><span 
class="ecbx-1000">Hybrid Layout</span>: The hybrid layout combines aspects of both the horizontal and vertical layouts. Data
     is partitioned into separate files based on some logical grouping, and they are also separated into their
     columns. This layout provides the benefits of both the horizontal and vertical layouts, allowing for efficient
     data access and manipulation while also enabling column-wise processing.</li></ul>
<div class="center" 
>
<!--l. 1837--><p class="noindent" >
<div class="table">
                                                                                            
                                                                                            
<!--l. 1839--><p class="noindent" ><a 
 id="x1-67001r1"></a><hr class="float"><div class="float" 
> <!--tex4ht:inline--><div class="tabular"> <table id="TBL-2" class="tabular" 
 
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1"></colgroup><colgroup id="TBL-2-2g"><col 
id="TBL-2-2"></colgroup><colgroup id="TBL-2-3g"><col 
id="TBL-2-3"></colgroup><colgroup id="TBL-2-4g"><col 
id="TBL-2-4"></colgroup><colgroup id="TBL-2-5g"><col 
id="TBL-2-5"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-1"  
class="td11">    <span 
class="ecbx-1000">Format     </span></td><td  style="white-space:normal; text-align:left;" id="TBL-2-1-2"  
class="td11"> <!--l. 1843--><p class="noindent" ><span 
class="ecbx-1000">Description</span>         </td><td  style="white-space:normal; text-align:left;" id="TBL-2-1-3"  
class="td11"> <!--l. 1844--><p class="noindent" ><span 
class="ecbx-1000">Pros</span>                         </td><td  style="white-space:normal; text-align:left;" id="TBL-2-1-4"  
class="td11"> <!--l. 1845--><p class="noindent" ><span 
class="ecbx-1000">Cons</span>                 </td><td  style="white-space:normal; text-align:left;" id="TBL-2-1-5"  
class="td11"> <!--l. 1846--><p class="noindent" ><span 
class="ecbx-1000">Use Cases</span>                  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-1"  
class="td11"> <span 
class="ecbx-1000">SequenceFile  </span></td><td  style="white-space:normal; text-align:left;" id="TBL-2-2-2"  
class="td11"> <!--l. 1850--><p class="noindent" >Simple binary file
  format consisting
  of key-value pairs.
  <!--l. 1852--><p class="noindent" >(<span id="textcolor1">Horizontal layout</span>)  </td><td  style="white-space:normal; text-align:left;" id="TBL-2-2-3"  
class="td11"> <!--l. 1853--><p class="noindent" >- Compact and efficient
  for large files
  <!--l. 1855--><p class="noindent" >- Good for streaming        </td><td  style="white-space:normal; text-align:left;" id="TBL-2-2-4"  
class="td11"> <!--l. 1856--><p class="noindent" >- Not as flexible as
  other formats
  <!--l. 1858--><p class="noindent" >- Lacks some
  compression
  options                  </td><td  style="white-space:normal; text-align:left;" id="TBL-2-2-5"  
class="td11"> <!--l. 1859--><p class="noindent" >- Log files
  <!--l. 1861--><p class="noindent" >- Sensor data
  <!--l. 1863--><p class="noindent" >- Web server logs             </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-1"  
class="td11">     <span 
class="ecbx-1000">Avro       </span></td><td  style="white-space:normal; text-align:left;" id="TBL-2-3-2"  
class="td11"> <!--l. 1866--><p class="noindent" >Data serialization
  system with a
  compact binary
  format and support
  for schema
  evolution
  <!--l. 1869--><p class="noindent" >(<span id="textcolor2">Horizontal layout</span>)  </td><td  style="white-space:normal; text-align:left;" id="TBL-2-3-3"  
class="td11"> <!--l. 1870--><p class="noindent" >- Supports rich data types
  and schema evolution
  <!--l. 1872--><p class="noindent" >- Can be used with many
  programming languages     </td><td  style="white-space:normal; text-align:left;" id="TBL-2-3-4"  
class="td11"> <!--l. 1873--><p class="noindent" >- May not be as
  efficient as some
  other formats
  <!--l. 1875--><p class="noindent" >- Requires a
  schema                  </td><td  style="white-space:normal; text-align:left;" id="TBL-2-3-5"  
class="td11"> <!--l. 1876--><p class="noindent" >- Data exchange between
  Hadoop and other
  systems
  <!--l. 1878--><p class="noindent" >- Machine learning
  applications                    </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-1"  
class="td11">     <span 
class="ecbx-1000">Zebra      </span></td><td  style="white-space:normal; text-align:left;" id="TBL-2-4-2"  
class="td11"> <!--l. 1881--><p class="noindent" >Table-based format
  for structured data
  with support for
  indexing and
  filtering
  <!--l. 1884--><p class="noindent" >(<span id="textcolor3">Vertical layout</span>)      </td><td  style="white-space:normal; text-align:left;" id="TBL-2-4-3"  
class="td11"> <!--l. 1885--><p class="noindent" >- Provides indexing and
  filtering capabilities
  <!--l. 1887--><p class="noindent" >- Efficient for join
  operations
  <!--l. 1889--><p class="noindent" >- Good for
  projection-based
  workloads                       </td><td  style="white-space:normal; text-align:left;" id="TBL-2-4-4"  
class="td11"> <!--l. 1890--><p class="noindent" >- Limited support
  for compression
  <!--l. 1892--><p class="noindent" >- May not be as
  flexible as other
  formats                 </td><td  style="white-space:normal; text-align:left;" id="TBL-2-4-5"  
class="td11"> <!--l. 1893--><p class="noindent" >- Data warehousing
  <!--l. 1895--><p class="noindent" >- OLAP                         </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-1"  
class="td11">     <span 
class="ecbx-1000">ORC       </span></td><td  style="white-space:normal; text-align:left;" id="TBL-2-5-2"  
class="td11"> <!--l. 1898--><p class="noindent" >Optimized Row
  Columnar format
  for storing Hive
  tables with support
  for compression
  and predicate
  pushdown
  <!--l. 1901--><p class="noindent" >(<span id="textcolor4">Hybrid layout</span>)       </td><td  style="white-space:normal; text-align:left;" id="TBL-2-5-3"  
class="td11"> <!--l. 1902--><p class="noindent" >- Efficient for analytical
  workloads
  <!--l. 1904--><p class="noindent" >- Supports predicate
  pushdown for filtering       </td><td  style="white-space:normal; text-align:left;" id="TBL-2-5-4"  
class="td11"> <!--l. 1905--><p class="noindent" >- Requires schema
  <!--l. 1907--><p class="noindent" >- Not as widely
  supported as some
  other formats          </td><td  style="white-space:normal; text-align:left;" id="TBL-2-5-5"  
class="td11"> <!--l. 1908--><p class="noindent" >- Data warehousing
  <!--l. 1910--><p class="noindent" >- Hive tables                   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-1"  
class="td11">    <span 
class="ecbx-1000">Parquet     </span></td><td  style="white-space:normal; text-align:left;" id="TBL-2-6-2"  
class="td11"> <!--l. 1913--><p class="noindent" >Columnar file
  format with
  support for nested
  data and
  compression,
  optimized for
  query performance
  <!--l. 1916--><p class="noindent" >(<span id="textcolor5">Hybrid layout</span>)       </td><td  style="white-space:normal; text-align:left;" id="TBL-2-6-3"  
class="td11"> <!--l. 1917--><p class="noindent" >- Supports nested data
  types and compression
  <!--l. 1919--><p class="noindent" >- Efficient for analytical
  queries
  <!--l. 1921--><p class="noindent" >- Supports predicate
  pushdown for filtering       </td><td  style="white-space:normal; text-align:left;" id="TBL-2-6-4"  
class="td11"> <!--l. 1922--><p class="noindent" >- Not as efficient
  for write-heavy
  workloads
  <!--l. 1924--><p class="noindent" >- May require more
  memory                 </td><td  style="white-space:normal; text-align:left;" id="TBL-2-6-5"  
class="td11"> <!--l. 1925--><p class="noindent" >- Analytics
  <!--l. 1927--><p class="noindent" >- Data warehousing
  <!--l. 1929--><p class="noindent" >- Machine learning           </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-7-1"  
class="td11">               </td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;1: </span><span  
class="content">Pros and cons of each data format of HDFS.</span></div><!--tex4ht:label?: x1-67001r1 -->
</div><hr class="endfloat" />
</div>
</div>
   <div class="table">
                                                                                            
                                                                                            
<!--l. 1938--><p class="indent" >   <a 
 id="x1-67002r2"></a><hr class="float"><div class="float" 
>
                                                                                            
                                                                                            
<div class="tabular"> <table id="TBL-3" class="tabular" 
 
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1"></colgroup><colgroup id="TBL-3-2g"><col 
id="TBL-3-2"></colgroup><colgroup id="TBL-3-3g"><col 
id="TBL-3-3"></colgroup><colgroup id="TBL-3-4g"><col 
id="TBL-3-4"></colgroup><colgroup id="TBL-3-5g"><col 
id="TBL-3-5"></colgroup><colgroup id="TBL-3-6g"><col 
id="TBL-3-6"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-1"  
class="td11">      <div class="multirow"><!-- rows=256 -->
<span 
class="ecbx-1000">Feature</span></div>        </td><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-3-1-2"  
class="td11">       <div class="multicolumn"  style="white-space:nowrap; text-align:center;"><span 
class="ecbx-1000">Horizontal</span></div>         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-4"  
class="td11"> <span 
class="ecbx-1000">Vertical  </span></td><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-3-1-5"  
class="td11">      <div class="multicolumn"  style="white-space:nowrap; text-align:center;"><span 
class="ecbx-1000">Hybrid</span></div>        
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-1"  
class="td11"></td></tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-1"  
class="td11"></td></tr><tr 
class="cline"><td></td><td></td><td></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td></td><td></td><td></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-1"  
class="td11"></td></tr><tr 
class="cline"><td></td><td></td><td></td><td></td><td></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-1"  
class="td11">                   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-2"  
class="td11"> <span 
class="ecbx-1000">SequenceFile  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-3"  
class="td11"> <span 
class="ecbx-1000">Avro  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-4"  
class="td11">  <span 
class="ecbx-1000">Zebra   </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-5"  
class="td11"> <span 
class="ecbx-1000">ORC  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-6"  
class="td11"> <span 
class="ecbx-1000">Parquet  </span></td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-8-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-1"  
class="td11">       Schema          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-2"  
class="td11">      No          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-3"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-4"  
class="td11">   Yes     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-5"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-6"  
class="td11">    Yes      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-9-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-9-1"  
class="td11">   Column Pruning    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-9-2"  
class="td11">      No          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-9-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-9-4"  
class="td11">   Yes     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-9-5"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-9-6"  
class="td11">    Yes      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-10-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-10-1"  
class="td11"> Predicate Pushdown  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-10-2"  
class="td11">      No          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-10-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-10-4"  
class="td11">    No      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-10-5"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-10-6"  
class="td11">    Yes      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-11-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-11-1"  
class="td11">      Metadata         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-11-2"  
class="td11">      No          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-11-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-11-4"  
class="td11">    No      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-11-5"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-11-6"  
class="td11">    Yes      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-12-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-12-1"  
class="td11">   Nested Recrods     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-12-2"  
class="td11">      No          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-12-3"  
class="td11">  No    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-12-4"  
class="td11">   Yes     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-12-5"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-12-6"  
class="td11">    Yes      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-13-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-13-1"  
class="td11">    Compression       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-13-2"  
class="td11">      Yes         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-13-3"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-13-4"  
class="td11">   Yes     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-13-5"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-13-6"  
class="td11">    Yes      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-14-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-14-1"  
class="td11">      Encoding         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-14-2"  
class="td11">      No          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-14-3"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-14-4"  
class="td11">    No      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-14-5"  
class="td11">  Yes   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-14-6"  
class="td11">    Yes      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-15-"><td  style="white-space:nowrap; text-align:center;" id="TBL-3-15-1"  
class="td11">                   </td></tr></table></div>
 <div class="caption" 
><span class="id">Table&#x00A0;2: </span><span  
class="content">Comparison of data formats of HDFS.</span></div><!--tex4ht:label?: x1-67002r2 -->
                                                                                            
                                                                                            
   </div><hr class="endfloat" />
   </div>
<!--l. 2006--><p class="indent" >   <span 
class="ecbx-1000">Column pruning </span>involves eliminating unnecessary columns from the result set of a query before executing the
query. This is done by analyzing the query and determining which columns are required to satisfy the query. The
optimizer then generates a plan that only includes the necessary columns, reducing the amount of I/O and
CPU processing required to execute the query. Column pruning is particularly useful in queries that
involve large tables with many columns, as it can significantly reduce the amount of data that needs to be
scanned.
<!--l. 2015--><p class="indent" >   <span 
class="ecbx-1000">Predicate pushdown </span>involves pushing down filtering conditions into the storage layer, rather than
applying the filters after reading the data into memory. This is done by analyzing the query and determining
which predicates can be evaluated at the storage layer before the data is read into memory. The storage
layer then applies the predicates before returning the data to the query engine. This can significantly
reduce the amount of data that needs to be read into memory, reducing the I/O and CPU processing
required to execute the query. Predicate pushdown is particularly useful in queries that involve large
tables with many rows, as it can significantly reduce the amount of data that needs to be read from
disk.
   <h4 class="subsectionHead"><span class="titlemark">5.5   </span> <a 
 id="x1-680005.5"></a>Recognize the importance of choosing the file format depending on the workload</h4>
<!--l. 2030--><p class="noindent" >As we have seen, each format provides a different set of features, which will affect the overall performance when
retrieving the data from disk. There are heuristic rules to decide the most suitable file format depending on the kind of
query to be executed:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2035--><p class="noindent" >SequenceFile: if the dataset has exactly two columns.
     </li>
     <li class="itemize">
     <!--l. 2036--><p class="noindent" >Parquet: if the first operation of the data flow aggregates data or projects some of the columns.
     </li>
     <li class="itemize">
     <!--l. 2038--><p class="noindent" >Avro: if the first operation of the data flow scans all columns, or performs other kinds of operations such
     as joins, distinct, or sort.</li></ul>
<!--l. 2043--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.6   </span> <a 
 id="x1-690005.6"></a>Explain the actions of the coordinator node in front of chunkserver failure</h4>
<!--l. 2045--><p class="noindent" >The coordinator is in charge of the detection of failures and tolerance. Periodically, the namenode receives <span 
class="ecbx-1000">heartbeat</span>
<span 
class="ecbx-1000">messages </span>from the datanodes. If a namenode systematically fails to send heartbeats, then the namenode assumes that
the datanote is unavailable and corrective actions must be taken. The namenode:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-69002x1">
     <!--l. 2051--><p class="noindent" >Looks up the file namespace to find out what replicas were maintained in the lost chunkserver.
     </li>
<li 
  class="enumerate" id="x1-69004x2">
     <!--l. 2053--><p class="noindent" >This missing replicas are fetched from the other datanodes maintaining them.
                                                                                            
                                                                                            
     </li>
<li 
  class="enumerate" id="x1-69006x3">
     <!--l. 2055--><p class="noindent" >They are copied to a new datanode to get the system back to a robust state.</li></ol>
<!--l. 2059--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.7   </span> <a 
 id="x1-700005.7"></a>Explain a mechanism to avoid overloading the master node in HDFS</h4>
<!--l. 2061--><p class="noindent" >The strategy is based on caching metadata in the client, and works as follows:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-70002x1">
     <!--l. 2064--><p class="noindent" >The first time a file is requested, the client applications must request the information from the namenode.
     </li>
<li 
  class="enumerate" id="x1-70004x2">
     <!--l. 2066--><p class="noindent" >The namenode instructs the corresponding datanodes to send the appropriate chunks. They are chosen
     according to the closeness in the network to the client, optimizing bandwidth.
     </li>
<li 
  class="enumerate" id="x1-70006x3">
     <!--l. 2069--><p class="noindent" >The datanodes send the chunks composing the file to the client application.
     </li>
<li 
  class="enumerate" id="x1-70008x4">
     <!--l. 2070--><p class="noindent" >The client is now able to read the file. But it also keeps the locations of all the chunks in a cache.
     </li>
<li 
  class="enumerate" id="x1-70010x5">
     <!--l. 2072--><p class="noindent" >If the client needs the same file, it does not need to ask the namenode, but can request directly to the
     datanodes whose information was cached before.</li></ol>
<!--l. 2076--><p class="noindent" >The set of caches in the clients can be seen a strategy for fragmentation and replication of the catalog.
<!--l. 2079--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.8   </span> <a 
 id="x1-710005.8"></a>Explain how data is partitioned and replicated in HDFS</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2081--><p class="noindent" >Balancing allows HDFS to have a great performance working with latge datasets, since any read/write
     operation exploits the parallelism of the cloud. This balancing is donde by <span 
class="ecbx-1000">randomly distributing </span>the
     data chunks into different servers.
     <!--l. 2086--><p class="noindent" >Having more blocks per node in the cluster increases the probability that the blocks will be better balanced
     over the nodes, but even using 40 blocks per node, the coefficient of variation is still big (more than 10%).
     To correct skewed distributions, Hadoop offers the <span 
class="ecbx-1000">Balancer</span>, which examines the current cluster load
     distribution and based on a threshold parameter, it redistributes blocks across cluster nodes to achieve
     better balancing. Exceeding the threshold in either way would mean that the node is rebalanced. In
     addition to periodically fixing the distribution of an HDFS cluster in use, the Balancer is also useful when
     changing the cluster&#8217;s topology.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 2096--><p class="noindent" >The <span 
class="ecbx-1000">replication factor </span>is a value that indicates how many replicas of each file must be maintained and
     it can be customized globally or at the level of file. If it is not possible to maintain the replication factor,
     the system informs the user about the specific chunks that are <span 
class="ecbx-1000">underreplicated</span>.
     <!--l. 2102--><p class="noindent" ><span 
class="ecbx-1000">Stale replicas </span>can appear either because a worker was down and its blocks were not updated, or due
     to a failure of a write operation. Detecting this replicas is crucial to maintain consistency. For this,
     the namenode maintains block version numbers to distinguish up-to-date and stale replicas. When the
     namenode aims to append new data to a file, it updates the block version numbers associated to the file&#8217;s
     blocks.</li></ul>
<!--l. 2111--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.9   </span> <a 
 id="x1-720005.9"></a>Transaction management</h4>
<!--l. 2113--><p class="noindent" >HDFS applies a <span 
class="ecbx-1000">eager/primary-copy strategy </span>for replica synchronization:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2115--><p class="noindent" >Writing can only happen on the primary-copy and the replicas are blocked until they are synchronized:
         <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-72002x1">
         <!--l. 2118--><p class="noindent" >The client communicates to the namenode that it wants to write data into a file. It communicates
         the target path and how many chunks it wants to write.
         </li>
<li 
  class="enumerate" id="x1-72004x2">
         <!--l. 2121--><p class="noindent" >The coordinator annotates how many replicas are to be stored, and where they will be stored. This
         information is sent back to the client.
         </li>
<li 
  class="enumerate" id="x1-72006x3">
         <!--l. 2123--><p class="noindent" >The  client  writes  the  <span 
class="ecbx-1000">primary  replica </span>into  a  datanode  (the  <span 
class="ecbx-1000">primary  datanode </span>or  primary
         chunkserver). Datanodes talk to each other, sending replicas of the chunk until a consistent state is
         reached.
         </li>
<li 
  class="enumerate" id="x1-72008x4">
         <!--l. 2127--><p class="noindent" >When all chunks have been written, the client sends a commit message to the primary replica.
         </li>
<li 
  class="enumerate" id="x1-72010x5">
         <!--l. 2129--><p class="noindent" >The primary replica commits the changes to all other replicas.
         </li>
<li 
  class="enumerate" id="x1-72012x6">
         <!--l. 2130--><p class="noindent" >The rest of the replicas confirm the commit.
         </li>
<li 
  class="enumerate" id="x1-72014x7">
         <!--l. 2131--><p class="noindent" >The primary replica acknowledge the changes to the client.</li></ol>
     </li></ul>
                                                                                            
                                                                                            
<!--l. 2135--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.10   </span> <a 
 id="x1-730005.10"></a>Recognize the relevance of sequential read</h4>
<!--l. 2137--><p class="noindent" >Sequential reads heavily benefit from <span 
class="ecbx-1000">data locality</span>, which is mostly ignored by random access.
<!--l. 2140--><p class="indent" >   If we use a rotating disk, then the cost basically depdens on three components:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2143--><p class="noindent" >Seek time: time to position the arm.
     </li>
     <li class="itemize">
     <!--l. 2144--><p class="noindent" >Rotation time: average time waiting for the disk to spin until the head reaches the right sector.
     </li>
     <li class="itemize">
     <!--l. 2146--><p class="noindent" >Data transfer: which depends on the bandwidth.</li></ul>
<!--l. 2148--><p class="noindent" >The different between sequential and random acces is that random access does not find the data together, so its cost
is:
   <div class="math-display" >
<img 
src="summary3x.png" alt="CRA = n &#x22C5;(seek +rotation + transfer),
" class="math-display" ></div>
<!--l. 2153--><p class="indent" >   while for sequential access, seek and rotation only accounts once:
   <div class="math-display" >
<img 
src="summary4x.png" alt="C   = seek+ rotation+ n &#x22C5;transf er.
 SA
" class="math-display" ></div>
<!--l. 2157--><p class="indent" >   Moreover, sequential acces.s pattern makes the next read absolutely predictable with <span 
class="ecbx-1000">pre-fetching</span>, maximizing the
effective read ratio by benefitting from the multiples layers of caching. In figure <a 
href="#x1-73001r9">9<!--tex4ht:ref: fig:Memory-caching-diagram. --></a>, there is a diagram of how memory
caching works. The closer to the disk, the more capacity the memory has, but with higher latency. The closer to the
CPU, the faster and smaller the memory is. Thus, finding data in the top levels of cache is hard, but crucial to gain
performance.
<!--l. 2166--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-73001r9"></a>
                                                                                            
                                                                                            
<!--l. 2168--><p class="noindent" ><img 
src="9_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Bi___eNotes_source_diagram-MemoryCache-400x400-1.png" alt="PIC"  
width="50" height="50" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;9: </span><span  
class="content">Memory caching diagram. Source: <a 
href="https://hazelcast.com/glossary/memory-caching/" >Hazelcast Glossary of Terms</a>.</span></div><!--tex4ht:label?: x1-73001r9 -->
                                                                                            
                                                                                            
<!--l. 2173--><p class="indent" >   </div><hr class="endfigure">
   <h4 class="subsectionHead"><span class="titlemark">5.11   </span> <a 
 id="x1-740005.11"></a>Choose the format for an HDFS file based on heuristics</h4>
<!--l. 2179--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.12   </span> <a 
 id="x1-750005.12"></a>Estimate the data retrieved by scan, projection and selection operations in SequenceFile, Avro and
Parquet</h4>
<!--l. 2181--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">6   </span> <a 
 id="x1-760006"></a>HBase</h3>
<!--l. 2185--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.1   </span> <a 
 id="x1-770006.1"></a>Give the definition of the BigTable data model</h4>
<!--l. 2187--><p class="noindent" >A <span 
class="ecbx-1000">BigTable </span>is a sparse, distributed, persistent, multi-dimensional, sorted map:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2190--><p class="noindent" >Sparse: few keys have an associated value.
     </li>
     <li class="itemize">
     <!--l. 2191--><p class="noindent" >Distributed: enabling cluster parallelism.
     </li>
     <li class="itemize">
     <!--l. 2192--><p class="noindent" >Persistent: data is stored in disk (using HDFS as underlying technology).
     </li>
     <li class="itemize">
     <!--l. 2193--><p class="noindent" >Multi-dimensional: the values have columns.
     </li>
     <li class="itemize">
     <!--l. 2194--><p class="noindent" >Sorted: lexicographically by the primary key.
     </li>
     <li class="itemize">
     <!--l. 2195--><p class="noindent" >Map: a map is a data structure that associates a unique key to each value (record).</li></ul>
<!--l. 2199--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2   </span> <a 
 id="x1-780006.2"></a>Explain what a map structure is</h4>
<!--l. 2201--><p class="noindent" >A <span 
class="ecbx-1000">map data structure </span>is a collection of key-value pairs that allows fast and flexible access to its elements based on
keys. Maps can store different types of keys and values, such as numbers, strings, objects, etc. Maps are useful for
storing associations between two objects or values.
<!--l. 2207--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.3   </span> <a 
 id="x1-790006.3"></a>Explain the difference between a Key-Value and a Wide-Column store</h4>
<!--l. 2209--><p class="noindent" >A <span 
class="ecbx-1000">key-value store </span>is a simple model that stores data as pairs of keys and values. A <span 
class="ecbx-1000">wide-column store </span>is a more
complex model that stores data as rows and columns, where each row can have different columns. Some differences
between them are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2214--><p class="noindent" >A key-value store can only query data by key, while a wide-column store can query data by row or column.
     </li>
     <li class="itemize">
     <!--l. 2216--><p class="noindent" >A key-value store has no schema, every key has one value, that can be of any form.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 2218--><p class="noindent" >A wide-column store has a flexible schema, where every row can have different columns. Each of the
     columns is schema-less.
     </li>
     <li class="itemize">
     <!--l. 2220--><p class="noindent" >A key-value store is suitable for simple lookups, while a wide-column store is suitable for analytical queries.</li></ul>
<!--l. 2223--><p class="noindent" >Some examples of key-value stores are Redis, etcd and Memcached. Some examples of wide-column stores are Cassandra,
HBase and ScyllaDB.
<!--l. 2226--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.4   </span> <a 
 id="x1-800006.4"></a>Enumerate the main schema elements of HBase</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2228--><p class="noindent" ><span 
class="ecbx-1000">Table</span>: a table is a collection of one or more column families.
     </li>
     <li class="itemize">
     <!--l. 2229--><p class="noindent" ><span 
class="ecbx-1000">Column family</span>: a column family is a group of columns that share a common prefix and storage options.
     A <span 
class="ecbx-1000">qualifier </span>is an internal field of the columns. It is set at the row-level, so it is not fixed and can vary
     from column to column and from row to row.
     </li>
     <li class="itemize">
     <!--l. 2233--><p class="noindent" ><span 
class="ecbx-1000">Row</span>: a row is a collection of column values that are identified by a unique row key.
     </li>
     <li class="itemize">
     <!--l. 2235--><p class="noindent" ><span 
class="ecbx-1000">Cell</span>: a cell is the value of a column in a row. Each cell can contain multiple versions of the same
     data:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 2238--><p class="noindent" >Each version is identified by a timestamp, which can be assigned explicitly or automatically.</li></ul>
     </li></ul>
<div class="newtheorem">
<!--l. 2242--><p class="noindent" ><span class="head">
<a 
 id="x1-80001r1"></a>
<span 
class="ecbx-1000">Example 6.1.</span>  </span>An example
   <div class="tabular"> <table id="TBL-4" class="tabular" 
 
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1"></colgroup><colgroup id="TBL-4-2g"><col 
id="TBL-4-2"></colgroup><colgroup id="TBL-4-3g"><col 
id="TBL-4-3"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td colspan="3" style="white-space:nowrap; text-align:center;" id="TBL-4-1-1"  
class="td11">                                          <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Users</div>                                                                  </td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-1"  
class="td11"> Row key </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-2"  
class="td11"> ColumnFamily1 </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-2-3"  
class="td11"> ColumnFamily2</td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-1"  
class="td11">         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-2"  
class="td11">               Personal                        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-3-3"  
class="td11">                Address                        </td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-1"  
class="td11"> Alice </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-2"  
class="td11"> name: Alice Smith, email: alice@upc.es </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-4-4-3"  
class="td11"> street: Avinguda Diagonal, city: Barcelona</td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-1"  
class="td11">   Bob     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-2"  
class="td11">            name: Bob Jones                   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-5-3"  
class="td11">      street: Gran Vía, city: Murcia          </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-6-1"  
class="td11">  Charlie   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-6-2"  
class="td11"> name: Charlie Brown, email: charlie@ch.ch  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-4-6-3"  
class="td11">                                      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-4-7-1"  
class="td11">         </td> </tr></table></div>
<!--l. 2272--><p class="indent" >   If we wanted to recreate this example in HBase:
   <!--l. 2274-->
<div class="lstlisting" id="listing-5"><span class="label"><a 
 id="x1-80002r1"></a><span 
class="ecrm-0500">1</span></span><span style="color:#009900"><span 
class="ectt-0800">--</span></span><span style="color:#009900"><span 
class="ectt-0800">0</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Open</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">HBase</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">shell</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80003r2"></a><span 
class="ecrm-0500">2</span></span><span style="color:#009900"><span 
class="ectt-0800">--</span></span><span style="color:#009900"><span 
class="ectt-0800">1</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Create</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">table</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Users</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">with</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">column</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">families</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Personal</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">and</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Address</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80004r3"></a><span 
class="ecrm-0500">3</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">CREATE</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">TABLE</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Users</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Personal</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Address</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80005r4"></a><span 
class="ecrm-0500">4</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80006r5"></a><span 
class="ecrm-0500">5</span></span><span style="color:#009900"><span 
class="ectt-0800">--</span></span><span style="color:#009900"><span 
class="ectt-0800">2</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Insert</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">records</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80007r6"></a><span 
class="ecrm-0500">6</span></span><span style="color:#000000"><span 
class="ectt-0800">PUT</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Users</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Alice</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Personal</span></span><span style="color:#9400D1"><span 
class="ectt-0800">:</span></span><span style="color:#9400D1"><span 
class="ectt-0800">name</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Alice</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Smith</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Personal</span></span><span style="color:#9400D1"><span 
class="ectt-0800">:</span></span><span style="color:#9400D1"><span 
class="ectt-0800">email</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">alice@upc</span></span><span style="color:#9400D1"><span 
class="ectt-0800">.</span></span><span style="color:#9400D1"><span 
class="ectt-0800">es</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Address</span></span><span style="color:#9400D1"><span 
class="ectt-0800">:</span></span><span style="color:#9400D1"><span 
class="ectt-0800">street</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Avinguda</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Diagonal</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80008r7"></a><span 
class="ecrm-0500">7</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80009r8"></a><span 
class="ecrm-0500">8</span></span><span style="color:#009900"><span 
class="ectt-0800">--</span></span><span style="color:#009900"><span 
class="ectt-0800">3</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">We</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">can</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">add</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">more</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">values</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">(</span></span><span style="color:#009900"><span 
class="ectt-0800">we</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">forgot</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">city</span></span><span style="color:#009900"><span 
class="ectt-0800">!)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80010r9"></a><span 
class="ecrm-0500">9</span></span><span style="color:#000000"><span 
class="ectt-0800">PUT</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Users</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Alice</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Address</span></span><span style="color:#9400D1"><span 
class="ectt-0800">:</span></span><span style="color:#9400D1"><span 
class="ectt-0800">city</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Barcelona</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80011r10"></a><span 
class="ecrm-0500">10</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80012r11"></a><span 
class="ecrm-0500">11</span></span><span style="color:#009900"><span 
class="ectt-0800">--</span></span><span style="color:#009900"><span 
class="ectt-0800">4</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Same</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">for</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">rest</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80013r12"></a><span 
class="ecrm-0500">12</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80014r13"></a><span 
class="ecrm-0500">13</span></span><span style="color:#009900"><span 
class="ectt-0800">--</span></span><span style="color:#009900"><span 
class="ectt-0800">5</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">To</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">read</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">a</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">value</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-80015r14"></a><span 
class="ecrm-0500">14</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">GET</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Users</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">Alice</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#8217;</span></span></div>
                                                                                            
                                                                                            
</div>
<!--l. 2291--><p class="indent" >
<!--l. 2293--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.5   </span> <a 
 id="x1-810006.5"></a>Explain the main operations available of HBase</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2295--><p class="noindent" >CREATE TABLE &#x003C;tablename&#x003E;, &#x003C;colf1&#x003E;,...,&#x003C;colfn&#x003E;: Creates a table with defined column families.
     </li>
     <li class="itemize">
     <!--l. 2297--><p class="noindent" >DESCRIBE &#x003C;tablename&#x003E;: Describes the schema of the specified table, including its column families and
     any compression or encoding settings.
     </li>
     <li class="itemize">
     <!--l. 2299--><p class="noindent" >ALTER &#x003C;tablename&#x003E;, &#x003C;params&#x003E;: Used to modify the schema of an existing table, such as adding or
     removing column families, changing compression or encoding settings, or modifying table-level properties.
     </li>
     <li class="itemize">
     <!--l. 2302--><p class="noindent" >COUNT &#x003C;tablename&#x003E;: Counts the number of rows in the specified table.
     </li>
     <li class="itemize">
     <!--l. 2303--><p class="noindent" >EXISTS &#x003C;tablename&#x003E; [, &#x003C;params&#x003E;]: Used to check whether a table or column family exists in HBase or
     not.
     </li>
     <li class="itemize">
     <!--l. 2305--><p class="noindent" >DISABLE &#x003C;tablename&#x003E;: Disables the specified table, i.e., the table is taken offline and no further reads
     or writes are allowed.
     </li>
     <li class="itemize">
     <!--l. 2307--><p class="noindent" >ENABLE &#x003C;tablename&#x003E;: Enables a disabled table.
     </li>
     <li class="itemize">
     <!--l. 2308--><p class="noindent" >DROP &#x003C;tablename&#x003E;: Permanently deletes the specified table.
     </li>
     <li class="itemize">
     <!--l. 2309--><p class="noindent" >PUT &#x003C;tablename&#x003E;, &#x003C;rowkey&#x003E; [, &#x003C;columns&#x003E;]: Puts a new record with the specified key and columns in
     the specified table.
     </li>
     <li class="itemize">
     <!--l. 2311--><p class="noindent" >GET &#x003C;tablename&#x003E;, &#x003C;rowkey&#x003E; [, &#x003C;columns&#x003E;]: Retrieves the data for the specified row and columns from
     the specified table.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 2313--><p class="noindent" >DELETE &#x003C;tablename&#x003E;, &#x003C;rowkey&#x003E; [,&#x003C;columns&#x003E;]: Deletes the specified row or columns from the specified
     table.
     </li>
     <li class="itemize">
     <!--l. 2315--><p class="noindent" >SCAN &#x003C;tablename&#x003E; [, &#x003C;columns&#x003E;]: Scans the specified table and retrieves all rows that match the
     specified criteria.
     </li>
     <li class="itemize">
     <!--l. 2317--><p class="noindent" >LIST: Lists all the tables in the HBase cluster.
     </li>
     <li class="itemize">
     <!--l. 2318--><p class="noindent" >EXIT: Used to exit the HBase shell. When you execute this command, the shell will close and you will be
     returned to the command prompt.
     </li>
     <li class="itemize">
     <!--l. 2320--><p class="noindent" >STATUS [{summary | simple | detailed}]: Used to display the status of the HBase cluster, including the
     number of servers and regions, the average load, and the cluster ID.
     </li>
     <li class="itemize">
     <!--l. 2323--><p class="noindent" >SHUTDOWN: Used to shut down the HBase cluster. This command will stop all HBase daemons and
     bring down the HBase cluster. You should use this command with caution, as it will result in the loss of
     any data that has not been flushed to disk.</li></ul>
<!--l. 2329--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.6   </span> <a 
 id="x1-820006.6"></a>Enumerate the main functional components of HBase</h4>
<!--l. 2331--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.7   </span> <a 
 id="x1-830006.7"></a>Explain the role of the different functional components in HBase</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2333--><p class="noindent" ><span 
class="ecbx-1000">Region Servers (HRegionServer)</span>: HBase stores data in regions, which are subsets of a table. Each
     region is served by a region server, which is responsible for serving read and write requests for that region.
     </li>
     <li class="itemize">
     <!--l. 2337--><p class="noindent" ><span 
class="ecbx-1000">HMaster</span>: The HMaster is the coordinator node for the cluster. It manages the metadata for the HBase
     tables, including region assignment and load balancing.
     </li>
     <li class="itemize">
     <!--l. 2340--><p class="noindent" ><span 
class="ecbx-1000">ZooKeeper</span>: HBase relies on ZooKeeper for coordination and synchronization of distributed processes.
     ZooKeeper is used to elect the HMaster and to store metadata for HBase.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 2343--><p class="noindent" ><span 
class="ecbx-1000">HDFS</span>: HBase stores its data in Hadoop Distributed File System (HDFS). HDFS provides scalable and
     fault-tolerant storage for HBase data. HBase uses two types of HDFS files:
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 2347--><p class="noindent" ><span 
class="ecbx-1000">HFile</span>: regular data files containing column data.
         </li>
         <li class="itemize">
         <!--l. 2348--><p class="noindent" ><span 
class="ecbx-1000">HLog</span>: region&#8217;s log files, that allow flush/fsync for small append-style writes.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 2351--><p class="noindent" ><span 
class="ecbx-1000">HBase Client</span>: The HBase client is used to interact with the HBase cluster. It provides APIs for creating,
     reading, updating, and deleting data in HBase.</li></ul>
<!--l. 2356--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.8   </span> <a 
 id="x1-840006.8"></a>Explain the tree structure of data in HBase</h4>
<!--l. 2358--><p class="noindent" >In HBase, data is stored in a tree structure that is composed of regions, stores, and memstores.
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2361--><p class="noindent" ><span 
class="ecbx-1000">Regions</span>: A region is a subset of a table that contains a range of contiguous rows. HBase automatically
     splits regions as they grow in size and merges regions as they shrink, in order to maintain a balanced
     distribution of data across the cluster.
     </li>
     <li class="itemize">
     <!--l. 2365--><p class="noindent" ><span 
class="ecbx-1000">Stores (StoreFile)</span>: A store is a physical storage unit that is associated with a region and contains a
     set of column families. Each store is responsible for storing the data for one or more column families.
     StoreFiles are divided by HDFS in chunks.
     </li>
     <li class="itemize">
     <!--l. 2369--><p class="noindent" ><span 
class="ecbx-1000">MemStores</span>: A MemStore is an in-memory data structure that is associated with a store and contains a
     sorted map of key-value pairs. When a client writes data to HBase, it is initially written to the memstore.
     Once the MemStore reaches a certain threshold, it is flushed to disk as a new store file. Usually, the size
     of a MemStore is 128 MB.</li></ul>
<!--l. 2376--><p class="noindent" >Within each store, data is stored in a column-oriented fashion, with all values for a given column stored together. This
allows for efficient access to columns and column families, and also enables compression and other optimization
techniques.
<!--l. 2381--><p class="indent" >   Thus, a StoreFile is a file of HFile format, consisting on several HDFS chunks of size 128 MB, which are structured
into HBase blocks of size 64 KB.
<div class="center" 
>
<!--l. 2384--><p class="noindent" >
<div class="table">
                                                                                            
                                                                                            
<!--l. 2386--><p class="noindent" ><a 
 id="x1-84001r3"></a><hr class="float"><div class="float" 
> <!--tex4ht:inline--><div class="tabular"> <table id="TBL-5" class="tabular" 
 
><colgroup id="TBL-5-1g"><col 
id="TBL-5-1"></colgroup><colgroup id="TBL-5-2g"><col 
id="TBL-5-2"></colgroup><colgroup id="TBL-5-3g"><col 
id="TBL-5-3"></colgroup><colgroup id="TBL-5-4g"><col 
id="TBL-5-4"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-1-"><td colspan="3" style="white-space:nowrap; text-align:center;" id="TBL-5-1-1"  
class="td11"></td>        <div class="multicolumn"  style="white-space:nowrap; text-align:center;"><span 
class="ecbx-1000">StoreFile </span>(HFile format)</div>            
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-1"  
class="td11"> <div class="multirow"><!-- rows=256 -->
128 MB</div>  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-2"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-3"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-2-4"  
class="td11"> 64 KB  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-3-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-4-1"  
class="td11"></td></tr><tr 
class="cline"><td></td><td></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-5-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td></td><td></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-6-1"  
class="td11">         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-6-2"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-6-3"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-6-4"  
class="td11"> 64 KB  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-7-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-8-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-8-1"  
class="td11"></td></tr><tr 
class="cline"><td></td><td></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-9-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-9-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td></td><td></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-10-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-10-1"  
class="td11">         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-10-2"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-10-3"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-10-4"  
class="td11">   ...     </td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-11-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-11-1"  
class="td11"> <div class="multirow"><!-- rows=256 -->
128 MB</div>  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-11-2"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-11-3"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-11-4"  
class="td11"> 64 KB  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-12-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-12-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-13-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-13-1"  
class="td11"></td></tr><tr 
class="cline"><td></td><td></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-14-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-14-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td></td><td></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-15-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-15-1"  
class="td11">         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-15-2"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-15-3"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-15-4"  
class="td11"> 64 KB  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-16-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-16-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-17-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-17-1"  
class="td11"></td></tr><tr 
class="cline"><td></td><td></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-18-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-18-1"  
class="td11">
</td></tr><tr 
class="cline"><td></td><td></td><td></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-19-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-19-1"  
class="td11">         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-19-2"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-19-3"  
class="td11"> 64 KB  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-5-19-4"  
class="td11">   ...     </td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-20-"><td  style="white-space:nowrap; text-align:center;" id="TBL-5-20-1"  
class="td11"> </td></tr></table>
</div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;3: </span><span  
class="content">A StoreFile.</span></div><!--tex4ht:label?: x1-84001r3 -->
</div><hr class="endfloat" />
</div>
</div>
<!--l. 2426--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.9   </span> <a 
 id="x1-850006.9"></a>Explain the 3 basic algorithms of HBase</h4>
<!--l. 2428--><p class="noindent" >HBase employs three basic algorithms to manage the storage and retrieval of data: flush, minor compaction, and major
compaction.
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2431--><p class="noindent" ><span 
class="ecbx-1000">Flush</span>: When a client writes data to HBase, it is initially written to an in-memory data structure called
     the memstore. Once the memstore reaches a certain threshold, HBase will flush it to disk as a new store
     file, a SSTable. This process is known as a flush. Flushing is important to ensure that data is written to
     disk in a timely manner and to free up memory for new writes. Flushing generates different disk versions
     of the same record.
     </li>
     <li class="itemize">
     <!--l. 2438--><p class="noindent" ><span 
class="ecbx-1000">Minor  compaction</span>:  Over  time,  as  data  is  written  and  deleted  from  HBase,  SSTables  can  become
     fragmented and contain empty or deleted cells. To address this, HBase periodically performs a minor
     compaction, which merges smaller SSTables together and removes any empty or deleted cells. This helps
     to optimize data storage and improve query performance. This process runs regularly in the background.
     Note that this operation does not remove all record versions (only some).
     </li>
     <li class="itemize">
     <!--l. 2445--><p class="noindent" ><span 
class="ecbx-1000">Major compaction</span>: In addition to minor compaction, HBase also performs periodic or, most often,
     manually triggered major compactions, which merge all SSTables for a given region into a single SSTable
     and remove any deleted cells. Major compactions are more resource-intensive than minor compactions,
     but they help to further optimize data storage and improve query performance. After a major compaction
     occurs, all versions of the records are merged into one (so they can be seen as a consistency checkpoint of
     the region).</li></ul>
<!--l. 2454--><p class="noindent" >Both minor and major compactions are configurable, and the frequency and timing of these operations can be adjusted
based on the workload and resource availability of the HBase cluster.
<!--l. 2458--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.10   </span> <a 
 id="x1-860006.10"></a>Explain the main components and behavior of an LSM-tree</h4>
                                                                                            
                                                                                            
<!--l. 2460--><p class="noindent" >The LSM-tree (Log-Structured Merge Tree) is a data structure that is used in many modern distributed
databases, including HBase, Cassandra, and LevelDB. The LSM-tree is designed to provide efficient and
scalable read and write performance for large datasets. The main components and behavior of an LSM-tree
are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2466--><p class="noindent" ><span 
class="ecbx-1000">Log-structured storage</span>: In an LSM-tree, new data is initially written to a write-ahead log, which is an
     append-only file that is optimized for sequential writes. The log provides durability for the data, ensuring
     that it is safely stored on disk in the event of a crash.
     </li>
     <li class="itemize">
     <!--l. 2471--><p class="noindent" ><span 
class="ecbx-1000">MemTable</span>: In addition to the write-ahead log, an LSM-tree also includes an in-memory data structure
     called the MemTable. As new data is written to the database, it is first written to the MemTable. Once
     the memtable becomes full or reaches a certain size threshold, it is flushed to disk as a new SSTable. This
     MemStore holds the most recent updates sorted by key, enabling for fast lookups.
     </li>
     <li class="itemize">
     <!--l. 2477--><p class="noindent" ><span 
class="ecbx-1000">Sorted string table (SSTable)</span>: An SSTable is a persistent, sorted data structure that contains a subset
     of the data in the database. SSTables are created through the flushing of the MemTable and are organized
     as a series of key-value pairs, sorted by key. These, as mentioned previously, may contain different versions
     of the same row.
     </li>
     <li class="itemize">
     <!--l. 2482--><p class="noindent" ><span 
class="ecbx-1000">Merge and compaction</span>: Over time, the database accumulates many SSTables, which can become
     fragmented and inefficient to query. To address this, LSM-trees periodically merge and compact SSTables
     together, creating a new, more efficient SSTable that contains a subset of the data in the original SSTables.
     This process is typically performed as a background process, with the merged data being written to a
     new, compacted SSTable.
     </li>
     <li class="itemize">
     <!--l. 2489--><p class="noindent" ><span 
class="ecbx-1000">Bloom filters</span>: LSM-trees often use Bloom filters to improve read performance. A Bloom filter is a
     probabilistic data structure that is used to test whether a key is present in an SSTable without actually
     reading the data. Bloom filters can be used to avoid costly disk seeks for keys that are not present in the
     database.</li></ul>
<!--l. 2495--><p class="noindent" >As can has been outlined, there are two main maintenance operations:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2497--><p class="noindent" >The in-memory structure reaches the threshold:
         <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-86002x1">
         <!--l. 2499--><p class="noindent" >Take next in memory leafs.
         </li>
<li 
  class="enumerate" id="x1-86004x2">
         <!--l. 2500--><p class="noindent" >Flush them to an SSTable.</li></ol>
     </li>
     <li class="itemize">
     <!--l. 2502--><p class="noindent" >On triggering a compaction:
                                                                                            
                                                                                            
         <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-86006x1">
         <!--l. 2504--><p class="noindent" >Take <span 
class="cmmi-10">n </span>SSTables and merge them.
         </li>
<li 
  class="enumerate" id="x1-86008x2">
         <!--l. 2505--><p class="noindent" >Put the merge in an in-memory buffer.
         </li>
<li 
  class="enumerate" id="x1-86010x3">
         <!--l. 2506--><p class="noindent" >If buffer size exceeds chunk size:
             <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-86012x1">
             <!--l. 2508--><p class="noindent" >Write one chunk to disk
             </li>
<li 
  class="enumerate" id="x1-86014x2">
             <!--l. 2509--><p class="noindent" >Purge buffer
             </li>
<li 
  class="enumerate" id="x1-86016x3">
             <!--l. 2510--><p class="noindent" >Keep exceeds in the buffer</li></ol>
         </li></ol>
     </li></ul>
<!--l. 2515--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.11   </span> <a 
 id="x1-870006.11"></a>Compare a distributed tree against a hash structure of data</h4>
<!--l. 2517--><p class="noindent" >A distributed tree and a hash structure are two different approaches to organizing data in a distributed system, and
each has its own strengths and weaknesses.
<!--l. 2521--><p class="indent" >   A <span 
class="ecbx-1000">distributed tree</span>, such as HBase&#8217;s region-based storage model, uses a hierarchical structure to
organize data. The tree is partitioned into regions, with each region containing a range of contiguous
row keys. Each region is stored on a separate server, allowing the system to scale horizontally by adding
more servers as needed. This approach is well-suited for read-heavy workloads where data is frequently
accessed based on its key, as it allows for efficient range scans and lookups of individual keys. However, it
can be less efficient for write-heavy workloads, as writes may require updating multiple nodes in the
tree.
<!--l. 2532--><p class="indent" >   A <span 
class="ecbx-1000">hash structure</span>, on the other hand, uses a non-hierarchical approach to organizing data, with each item in the
structure being assigned a unique key based on a hash function. This allows for efficient storage and retrieval
of data based on its key, as the hash function can be used to quickly locate the relevant data without
requiring a hierarchical lookup. Hash structures are well-suited for write-heavy workloads, as they can
be designed to minimize the number of nodes that need to be updated for each write. However, they
may be less efficient for range scans or other types of queries that require traversing large amounts of
data.
<!--l. 2543--><p class="indent" >   In general, the choice between a distributed tree and a hash structure will depend on the specific requirements of the
application and the workload it needs to support. Both approaches have their strengths and weaknesses, and the best
choice will depend on factors such as the size and structure of the data, the expected read and write patterns, and the
performance and scalability requirements of the system.
                                                                                            
                                                                                            
<!--l. 2550--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.12   </span> <a 
 id="x1-880006.12"></a>Justify the need of dynamic hashing</h4>
<!--l. 2552--><p class="noindent" ><span 
class="ecbx-1000">Dynamic hashing </span>is a technique used in database management systems to handle collisions that can occur when
multiple keys are hashed to the same index in a hash table. This technique involves adjusting the size of the hash table
dynamically as the number of keys increases, to maintain a low collision rate and ensure efficient access to the
data.
<!--l. 2559--><p class="indent" >   There are several reasons why dynamic hashing is necessary:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2561--><p class="noindent" ><span 
class="ecbx-1000">Efficient use of memory</span>: If the hash table is too small, collisions will occur frequently, leading to
     degraded performance. On the other hand, if the hash table is too large, it may waste memory. Dynamic
     hashing allows the system to adjust the size of the hash table dynamically, ensuring that it is large enough
     to handle the data, but not so large that it wastes memory.
     </li>
     <li class="itemize">
     <!--l. 2567--><p class="noindent" ><span 
class="ecbx-1000">Scalability</span>: Dynamic hashing is essential for systems that need to handle large and growing datasets.
     As the size of the data increases, the hash table needs to be resized to maintain performance. Dynamic
     hashing allows this resizing to happen automatically, without requiring manual intervention.
     </li>
     <li class="itemize">
     <!--l. 2572--><p class="noindent" ><span 
class="ecbx-1000">Flexibility</span>: Dynamic hashing allows the system to adjust the size of the hash table based on the specific
     needs of the workload. For example, if the workload is read-heavy, the system may allocate more memory
     to the hash table to improve read performance. If the workload is write-heavy, the system may allocate
     less memory to the hash table to improve write performance.
     </li>
     <li class="itemize">
     <!--l. 2578--><p class="noindent" ><span 
class="ecbx-1000">Collision avoidance</span>: Collisions can cause performance degradation and may even lead to incorrect results
     if they are not handled properly. Dynamic hashing helps avoid collisions by resizing the hash table as
     needed to ensure that the data is evenly distributed across the available slots.</li></ul>
<!--l. 2584--><p class="noindent" >Without dynamic hashing, the functioning is to have a hash function <span 
class="cmmi-10">f</span><img 
src="summary5x.png" alt="(x)"  class="left" align="middle"> and an assignation function <span 
class="cmmi-10">h</span><img 
src="summary6x.png" alt="(x)"  class="left" align="middle">. The hash
function distributes the values into a determined range, ideally uniformly, while the assignation function decides in
which region the record should be stored. A typically used assignation function is
   <div class="math-display" >
<img 
src="summary7x.png" alt="h (x ) = f (x) mod #servers
" class="math-display" ></div>
<!--l. 2593--><p class="indent" >   Note, nonetheless, that in this case, adding a new server implies modifying the assignation function, which implies
communicating the new function to all servers, as well as a massive data transfer. Thus, the importance of dynamic
hashing.
<!--l. 2598--><p class="indent" >   Another challenge, is that any access must go through the hash directory.
   <div class="newtheorem">
<!--l. 2599--><p class="noindent" ><span class="head">
<a 
 id="x1-88001r2"></a>
                                                                                            
                                                                                            
<span 
class="ecbx-1000">Example 6.2.</span>  </span>Let&#8217;s see what could happen with an example. Imagine we have three nodes, and they are working
normal, until this point is reached:
<div class="center" 
>
<!--l. 2602--><p class="noindent" >
<div class="tabular"> <table id="TBL-6" class="tabular" 
 
><colgroup id="TBL-6-1g"><col 
id="TBL-6-1"></colgroup><colgroup id="TBL-6-2g"><col 
id="TBL-6-2"></colgroup><colgroup id="TBL-6-3g"><col 
id="TBL-6-3"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-6-1-1"  
class="td11"> <span 
class="ecbx-1000">N0  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-1-2"  
class="td11"> <span 
class="ecbx-1000">N1  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-1-3"  
class="td11"> <span 
class="ecbx-1000">N2  </span></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-6-2-1"  
class="td11"> 0 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-2-2"  
class="td11"> 1 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-2-3"  
class="td11"> 2</td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-6-3-1"  
class="td11">  3    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-3-2"  
class="td11">  4   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-3-3"  
class="td11">  5   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-6-4-1"  
class="td11">  6    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-4-2"  
class="td11">  7   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-4-3"  
class="td11">  8   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-6-5-1"  
class="td11">  9    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-5-2"  
class="td11">  10   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-6-5-3"  
class="td11">  11   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-6-6-1"  
class="td11">      </td></tr></table></div>
</div>
<!--l. 2629--><p class="indent" >   If now we want to add a new machine, because we need more resources, the situation after the restructuration would
be as follows:
   </div>
<!--l. 2631--><p class="indent" >
<div class="center" 
>
<!--l. 2632--><p class="noindent" >
<div class="tabular"> <table id="TBL-7" class="tabular" 
 
><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"></colgroup><colgroup id="TBL-7-2g"><col 
id="TBL-7-2"></colgroup><colgroup id="TBL-7-3g"><col 
id="TBL-7-3"></colgroup><colgroup id="TBL-7-4g"><col 
id="TBL-7-4"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-7-1-1"  
class="td11"> <span 
class="ecbx-1000">N0  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-1-2"  
class="td11"> <span 
class="ecbx-1000">N1  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-1-3"  
class="td11"> <span 
class="ecbx-1000">N2  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-1-4"  
class="td11"> <span 
class="ecbx-1000">N3  </span></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-7-2-1"  
class="td11"> 0 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-2-2"  
class="td11"> 1 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-2-3"  
class="td11"> 2 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-2-4"  
class="td11"> <span id="textcolor6">3</span></td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-7-3-1"  
class="td11">  <span id="textcolor7">4</span>    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-3-2"  
class="td11">  <span id="textcolor8">5</span>   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-3-3"  
class="td11">  <span id="textcolor9">6</span>   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-3-4"  
class="td11">  <span id="textcolor10">7</span>   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-7-4-1"  
class="td11">  <span id="textcolor11">8</span>    </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-4-2"  
class="td11">  <span id="textcolor12">9</span>   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-4-3"  
class="td11">  <span id="textcolor13">10</span>   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-4-4"  
class="td11">  <span id="textcolor14">11</span>   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-7-5-1"  
class="td11">  <span id="textcolor15">12</span>   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-5-2"  
class="td11">     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-5-3"  
class="td11">     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-7-5-4"  
class="td11">     </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-7-6-1"  
class="td11">      </td></tr></table></div>
</div>
<!--l. 2664--><p class="indent" >   Here, all red-colored records have been moved. We see how this situation entails high transfer costs.
<!--l. 2667--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">6.12.1   </span> <a 
 id="x1-890006.12.1"></a>Linear hash</h5>
<!--l. 2669--><p class="noindent" ><span 
class="ecbx-1000">Linear Hashing </span>is a dynamic hashing technique that enables a hash table to grow or shrink dynamically as the
number of keys increases or decreases. The hash table is divided into a series of buckets, each of which can hold one or
more keys. When the number of keys in a bucket exceeds a certain threshold, the bucket is split, and a new bucket is
created to hold the overflow keys.
<!--l. 2676--><p class="indent" >   We maintain a <span 
class="ecbx-1000">pointer </span>to the next bucket to split, and two hash functions are considered. We take <span 
class="cmmi-10">n </span>such thath
<span 
class="cmr-10">2</span><sup><span 
class="cmmi-7">n</span></sup> <span 
class="cmsy-10">&#x2264; </span><span 
class="cmr-10">#</span><span 
class="cmmi-10">servers &#x003C; </span><span 
class="cmr-10">2</span><sup><span 
class="cmmi-7">n</span><span 
class="cmr-7">+1</span></sup> and use the functions <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">1</span></sub><img 
src="summary8x.png" alt="(x)"  class="left" align="middle"> <span 
class="cmr-10">= </span><span 
class="cmmi-10">x</span>  <span 
class="cmr-10">mod</span> <span 
class="cmr-10">2</span><sup><span 
class="cmmi-7">n</span></sup> and <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">2</span></sub><img 
src="summary9x.png" alt="(x )"  class="left" align="middle"> <span 
class="cmr-10">= </span><span 
class="cmmi-10">x</span>  <span 
class="cmr-10">mod</span> <span 
class="cmr-10">2</span><sup><span 
class="cmmi-7">n</span><span 
class="cmr-7">+1</span></sup>. When a bucket overflows,
the pointed bucket splits.
<!--l. 2681--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">6.12.2   </span> <a 
 id="x1-900006.12.2"></a>Consistent hash</h5>
<!--l. 2683--><p class="noindent" ><span 
class="ecbx-1000">Consistent Hashing </span>is a technique used to distribute data across multiple nodes in a cluster. It involves
mapping each node and data item to a point on a circle, and using the position of the item on the circle to
determine which node it should be stored on. When a node is added or removed from the cluster, the items
that were previously assigned to that node need to be redistributed across the remaining nodes. In this
case, we choose the hash function to lie on a range that is large enough to cope with all our possible
values. The circle arrangement means that, to determine the node in which to store an object, we do the
following:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2694--><p class="noindent" >Compute <span 
class="cmmi-10">h</span><img 
src="summary10x.png" alt="(x )"  class="left" align="middle">.
     </li>
     <li class="itemize">
     <!--l. 2695--><p class="noindent" >Take the server <span 
class="cmmi-10">j </span>such that <span 
class="cmmi-10">id</span><sub><span 
class="cmmi-7">j</span><span 
class="cmsy-7">-</span><span 
class="cmr-7">1</span></sub> <span 
class="cmmi-10">&#x003C; h</span><img 
src="summary11x.png" alt="(x )"  class="left" align="middle"> <span 
class="cmsy-10">&#x2264; </span><span 
class="cmmi-10">id</span><sub><span 
class="cmmi-7">j</span></sub>.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 2696--><p class="noindent" >Store <span 
class="cmmi-10">h</span><img 
src="summary12x.png" alt="(x)"  class="left" align="middle"> in <span 
class="cmmi-10">j</span>.</li></ul>
<!--l. 2699--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.13   </span> <a 
 id="x1-910006.13"></a>Explain the structure of the HBase catalog</h4>
<!--l. 2701--><p class="noindent" >The HBase catalog is a set of internal tables that HBase uses to store metadata about the tables and regions in the
cluster. The catalog is managed by the <span 
class="ecbx-1000">HMaster </span>daemon and provides information about the location of regions,
which servers are serving them, and which versions of the data are available.
<!--l. 2707--><p class="indent" >   The catalog consists of the following tables:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2709--><p class="noindent" ><span 
class="ecbx-1000">ROOT table</span>: The ROOT table is the first table accessed during startup and contains information about
     the location of the META table. It is always located on the first region server in the cluster and is stored
     in memory.
     </li>
     <li class="itemize">
     <!--l. 2713--><p class="noindent" ><span 
class="ecbx-1000">META table</span>: The META table contains information about the regions in the HBase cluster, including
     their start and end keys, the region server hosting the region, and the replicas for each region. This
     information is used by HBase clients to locate the regions that contain the data they need.
     </li>
     <li class="itemize">
     <!--l. 2718--><p class="noindent" >Namespace table: The namespace table contains information about the namespaces in the HBase cluster,
     including their name and any associated configuration settings.
     </li>
     <li class="itemize">
     <!--l. 2721--><p class="noindent" >Quota table: The quota table contains information about resource quotas for tables, namespaces, and
     users in the HBase cluster.
     </li>
     <li class="itemize">
     <!--l. 2723--><p class="noindent" >ACL  table:  The  ACL  table  contains  information  about  access  control  lists  (ACLs)  for  tables  and
     namespaces in the HBase cluster.</li></ul>
<!--l. 2726--><p class="noindent" >All of these tables are HBase tables themselves, and are stored in the same way as other tables in the cluster, with
regions split across the available region servers. The ROOT and META tables are special in that they
are stored in memory on the first region server in the cluster, and are not split into regions like other
tables.
<!--l. 2732--><p class="indent" >   The catalog is an essential component of the HBase architecture, as it provides the means for clients to locate the
regions that contain the data they need, and for HBase to manage the distribution and replication of data across the
cluster.
<!--l. 2737--><p class="indent" >   Thus, the main structure is a three-level structure, consisting on the ROOT table, the META table and the data
itself.
<!--l. 2741--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.14   </span> <a 
 id="x1-920006.14"></a>Explain the mistake compensation mechanism of the cache in HBase client</h4>
                                                                                            
                                                                                            
<!--l. 2743--><p class="noindent" >HBase implements a client cache similar to that of HDFS to avoid constantly disturbing the coordinator. Thus, only the
first time a key is requested by an application, the request needs to go down the tree structure of metadata. Eventually,
some RegionServer will send the corresponding data to the client, and this will take note in the cache of who did this.
In successive requests, that key will be found in the client cache and the request will be directly addressed to the right
RegionServer.
<!--l. 2751--><p class="indent" >   The tree structure of HBase is more volatile than that of HDFS directory, as well as multilevel; two facts that
complicate its management. It can happen that when the application finds the key in the cache and requests it to the
RegionServer, this one does not have that key anymore. In this case, the RegionServer itself scales the request up the
tree structure to its parent.
<!--l. 2758--><p class="indent" >   In the worst case, they key would not be under the parent either, and this will propagate the request to the
RootRegion. Since the RootRegion has the information of the whole domain of keys, it is guaranteed that it will be able
to forward the request down the tree to the appropriate MetaRegion, and this to the user RegionServer that
now has the key, which will directly send the corresponding value to the client. Since we are assuming
a three-level tree, this compensation actions will require at most four extra calls between the different
RegionServers.
<!--l. 2767--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.15   </span> <a 
 id="x1-930006.15"></a>Enumerate the ACID guarantees provided by HBase</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2769--><p class="noindent" ><span 
class="ecbx-1000">Atomicity</span>: only guaranteed at row level. The classical concept of transaction affecting different rows does
     not exist in HBase.
     </li>
     <li class="itemize">
     <!--l. 2771--><p class="noindent" ><span 
class="ecbx-1000">Consistency</span>: HBase does not provide any kind of integrity constraints. Replication management at the disk level
     completely relies on that provided by HDFS underneath.
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 2775--><p class="noindent" >Configuration of persistent data is eager/primary copy.
         </li>
         <li class="itemize">
         <!--l. 2776--><p class="noindent" >Synchronization of MemStores is lazy/primary copy.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 2778--><p class="noindent" ><span 
class="ecbx-1000">Isolation</span>: it offers the <span 
class="ecbx-1000">read commited ISO isolation level </span>by locking all families at once for the same
     row. There is not any way to wrap a set of multi-row operations into a single unit. Consequently,
     there is not any guarantee of snapshot isolation, since during the execution of the scan rows can
     appear or dissapear, and the result may not either correspond to the state before nor after the
     operation.
     </li>
     <li class="itemize">
     <!--l. 2785--><p class="noindent" ><span 
class="ecbx-1000">Durability</span>: before confirming any modification in a table, the operation is annotated in the log file, which
     guarantees it is never lost. Thus, it follows a Write Ahead Log protocol.</li></ul>
                                                                                            
                                                                                            
<!--l. 2791--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.16   </span> <a 
 id="x1-940006.16"></a>Explain the execution flow of an HBase query both at global and local levels</h4>
<!--l. 2793--><p class="noindent" >The execution flow of an HBase query can be divided into two levels: global and local.
<!--l. 2796--><p class="indent" >   <span 
class="ecbx-1000">Global leve</span>l:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-94002x1">
     <!--l. 2798--><p class="noindent" >Client sends a query to the HBase RegionServer that owns the row key or range of row keys being queried.
     </li>
<li 
  class="enumerate" id="x1-94004x2">
     <!--l. 2800--><p class="noindent" >When a query is received by a HBase RegionServer, the Yet Another Resource Negotiator (YARN) resource
     manager is consulted to determine if there are available resources to handle the query.
     </li>
<li 
  class="enumerate" id="x1-94006x3">
     <!--l. 2803--><p class="noindent" >The RegionServer consults the HBase catalog to locate the region(s) that contain the data being queried.
     This allows for inter-query parallelism, as different queries can go to different regions. Moreover, if read
     replicas are enabled, read-only queries can be further parallelized.
     </li>
<li 
  class="enumerate" id="x1-94008x4">
     <!--l. 2807--><p class="noindent" >The RegionServer forwards the query to each of the relevant region servers that are serving the region(s)
     containing the data. Here, intra-query parallelism is possible if the domain of the keys is appropriately
     set. Nonetheless, in general this is not possible.
     </li>
<li 
  class="enumerate" id="x1-94010x5">
     <!--l. 2811--><p class="noindent" >Each RegionServer performs the query locally and sends the results back to the RegionServer that received
     the query.
     </li>
<li 
  class="enumerate" id="x1-94012x6">
     <!--l. 2813--><p class="noindent" >The RegionServer aggregates the results from the different regions and sends the final result back to the
     client.</li></ol>
<!--l. 2816--><p class="noindent" ><span 
class="ecbx-1000">Local level</span>:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-94014x1">
     <!--l. 2818--><p class="noindent" >When a query is received by a region server, it consults its own in-memory cache to check if the required
     data is already present in memory.
     </li>
<li 
  class="enumerate" id="x1-94016x2">
     <!--l. 2820--><p class="noindent" >If the required data is not present in memory, the region server reads the required data from disk and
     caches it in memory for future use.
                                                                                            
                                                                                            
     </li>
<li 
  class="enumerate" id="x1-94018x3">
     <!--l. 2822--><p class="noindent" >The region server performs the required operations on the cached data and returns the result to the
     RegionServer that received the query.
     </li>
<li 
  class="enumerate" id="x1-94020x4">
     <!--l. 2824--><p class="noindent" >If required, the region server may write any changes back to disk after the query is complete.</li></ol>
<!--l. 2829--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.17   </span> <a 
 id="x1-950006.17"></a>Given few queries, define the best logical structure of a table considering its physical implications in terms of
performance</h4>
<!--l. 2832--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.18   </span> <a 
 id="x1-960006.18"></a>Given the data in two leafs of a Log-Structured Merge-tree (LSM-tree), merge them</h4>
<!--l. 2835--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.19   </span> <a 
 id="x1-970006.19"></a>Given the current structure of a Linear Hash, modify it according to insertions potentially adding
buckets</h4>
<!--l. 2837--><p class="noindent" >To modify the Linear Hash structure to handle insertions potentially adding buckets, first we need some
definitions:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2840--><p class="noindent" ><span 
class="ecbx-1000">Already split buckets</span>: buckets before the pointed one. In these we use <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">2</span></sub>.
     </li>
     <li class="itemize">
     <!--l. 2842--><p class="noindent" ><span 
class="ecbx-1000">To be split buckets</span>: buckets between the pointer and <span 
class="cmr-10">2</span><sup><span 
class="cmmi-7">n</span></sup>. In these we use <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">1</span></sub>.
     </li>
     <li class="itemize">
     <!--l. 2844--><p class="noindent" ><span 
class="ecbx-1000">Created</span>: buckets between <span 
class="cmr-10">2</span><sup><span 
class="cmmi-7">n</span></sup> and the end. In these we use <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">2</span></sub>.</li></ul>
<!--l. 2847--><p class="noindent" >When we receive a new record, we follow the steps:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-97002x1">
     <!--l. 2849--><p class="noindent" >We compute <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">1</span></sub><img 
src="summary13x.png" alt="(x)"  class="left" align="middle">. If the correspondent bucket is already split, we take <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">2</span></sub><img 
src="summary14x.png" alt="(x)"  class="left" align="middle">.
     </li>
<li 
  class="enumerate" id="x1-97004x2">
     <!--l. 2851--><p class="noindent" >If <span 
class="cmmi-10">h</span><sub><span 
class="cmmi-7">i</span></sub><img 
src="summary15x.png" alt="(x)"  class="left" align="middle"> is not full, we introduce record <span 
class="cmmi-10">x </span>in it.
     </li>
<li 
  class="enumerate" id="x1-97006x3">
     <!--l. 2853--><p class="noindent" >Else, we split the pointed bucket, and create a new <span 
class="ecbx-1000">overflow bucket </span>(if it does not exist before) connected to the
     bucket that is full.
                                                                                            
                                                                                            
         <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-97008x1">
         <!--l. 2857--><p class="noindent" >We insert <span 
class="cmmi-10">x </span>in this overflow bucket.
         </li>
<li 
  class="enumerate" id="x1-97010x2">
         <!--l. 2858--><p class="noindent" >We update the values of the split bucket, taking <span 
class="cmmi-10">h</span><sub><span 
class="cmr-7">2</span></sub> to its values and moving them as needed.</li></ol>
     </li></ol>
<!--l. 2862--><p class="noindent" >Eventually, we will have space to allocate the new records.
   <div class="newtheorem">
<!--l. 2863--><p class="noindent" ><span class="head">
<a 
 id="x1-97011r3"></a>
<span 
class="ecbx-1000">Example 6.3.</span>  </span>Let&#8217;s see one example. We have the following situation:
<div class="center" 
>
<!--l. 2865--><p class="noindent" >
<div class="tabular"> <table id="TBL-8" class="tabular" 
 
><colgroup id="TBL-8-1g"><col 
id="TBL-8-1"></colgroup><colgroup id="TBL-8-2g"><col 
id="TBL-8-2"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-1-"><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-8-1-1"  
class="td11">  <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Buckets</div>   </td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-8-2-1"  
class="td11"> B0 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-8-2-2"  
class="td11"> 2,4</td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-8-3-1"  
class="td11"> B1  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-8-3-2"  
class="td11"> 3,5  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-8-4-1"  
class="td11">     </td></tr></table></div>
</div>
<!--l. 2880--><p class="indent" >   Here, colour blue indicates the pointed bucket. Now, we want to insert key 9. Then, the result would
be:
   </div>
<!--l. 2882--><p class="indent" >
<div class="center" 
>
<!--l. 2883--><p class="noindent" >
<div class="tabular"> <table id="TBL-9" class="tabular" 
 
><colgroup id="TBL-9-1g"><col 
id="TBL-9-1"></colgroup><colgroup id="TBL-9-2g"><col 
id="TBL-9-2"></colgroup><colgroup id="TBL-9-3g"><col 
id="TBL-9-3"></colgroup><colgroup id="TBL-9-4g"><col 
id="TBL-9-4"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-1-"><td colspan="3" style="white-space:nowrap; text-align:center;" id="TBL-9-1-1"  
class="td11"></td>           <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Buckets</div>                 </tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-2-1"  
class="td11"> B0 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-2-2"  
class="td11"> 4 </td><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-9-2-3"  
class="td11"> <div class="multicolumn"  style="white-space:nowrap; text-align:center;"></div>
</td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-1"  
class="td11"> B1  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-2"  
class="td11"> 3,5  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-3"  
class="td11"> Overflow  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-4"  
class="td11"> 9  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-4-1"  
class="td11"> B2  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-4-2"  
class="td11">  2   </td><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-9-4-3"  
class="td11">       <div class="multicolumn"  style="white-space:nowrap; text-align:center;"></div>       
</td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-5-1"  
class="td11">     </td></tr></table></div>
</div>
<!--l. 2905--><p class="indent" >   Say we now insert 11. Then:
<div class="center" 
>
<!--l. 2906--><p class="noindent" >
<div class="tabular"> <table id="TBL-10" class="tabular" 
 
><colgroup id="TBL-10-1g"><col 
id="TBL-10-1"></colgroup><colgroup id="TBL-10-2g"><col 
id="TBL-10-2"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-1-"><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-10-1-1"  
class="td11">  <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Buckets</div>   </td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-2-1"  
class="td11"> B0 </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-2-2"  
class="td11"> 4</td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-3-1"  
class="td11"> B1  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-3-2"  
class="td11"> 5,9  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-1"  
class="td11"> B2  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-4-2"  
class="td11">  2   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-5-1"  
class="td11"> B3  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-10-5-2"  
class="td11">  3   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-10-6-1"  
class="td11">     </td></tr></table></div>
</div>
<!--l. 2927--><p class="indent" >   As we have splitted all the initial buckets, we increase <span 
class="cmmi-10">n </span>by 1 and reset the pointer to bucket 0.
                                                                                            
                                                                                            
<!--l. 2931--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.20   </span> <a 
 id="x1-980006.20"></a>Given the current structure of a Consistent Hash, modify it in case of adding a bucket</h4>
<!--l. 2933--><p class="noindent" >If we add a bucket, <span 
class="cmmi-10">k</span>, to the current structure of a Consistent Hash, it will be located between two buckets, <span 
class="cmmi-10">j </span>and <span 
class="cmmi-10">j </span><span 
class="cmsy-10">- </span><span 
class="cmr-10">1</span>.
Thus:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 2936--><p class="noindent" >Objects between <span 
class="cmmi-10">id</span><sub><span 
class="cmmi-7">k</span></sub> and <span 
class="cmmi-10">id</span><sub><span 
class="cmmi-7">j</span></sub> stay in bucket <span 
class="cmmi-10">j</span>.
     </li>
     <li class="itemize">
     <!--l. 2937--><p class="noindent" >Objects between <span 
class="cmmi-10">id</span><sub><span 
class="cmmi-7">j</span><span 
class="cmsy-7">-</span><span 
class="cmr-7">1</span></sub> and <span 
class="cmmi-10">id</span><sub><span 
class="cmmi-7">k</span></sub> are moved to bucket <span 
class="cmmi-10">k</span>.</li></ul>
<div class="newtheorem">
<!--l. 2939--><p class="noindent" ><span class="head">
<a 
 id="x1-98001r4"></a>
<span 
class="ecbx-1000">Example 6.4.</span>  </span>Imagine a range large enough is 41, and we take <span 
class="cmmi-10">h</span><img 
src="summary16x.png" alt="(x)"  class="left" align="middle"> <span 
class="cmr-10">= </span><span 
class="cmmi-10">x</span>  <span 
class="cmr-10">mod</span> <span 
class="cmr-10">41</span>. We have the following
structure:
<div class="center" 
>
<!--l. 2942--><p class="noindent" >
<div class="tabular"> <table id="TBL-11" class="tabular" 
 
><colgroup id="TBL-11-1g"><col 
id="TBL-11-1"></colgroup><colgroup id="TBL-11-2g"><col 
id="TBL-11-2"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-1-1"  
class="td11"> BucketId  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-1-2"  
class="td11">     Objects        </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-2-1"  
class="td11">     8       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-2-2"  
class="td11">      2,5,7          </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-3-1"  
class="td11">    16       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-3-2"  
class="td11">     8,13,14        </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-4-1"  
class="td11">    32       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-4-2"  
class="td11"> 18,19,21,25,27,29  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-5-1"  
class="td11">    40       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-11-5-2"  
class="td11">     34,37,38        </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-11-6-1"  
class="td11">          </td></tr></table></div>
</div>
<!--l. 2964--><p class="indent" >   We want to add a new node, with id 24:
</div>
<!--l. 2965--><p class="indent" >
<div class="center" 
>
<!--l. 2966--><p class="noindent" >
<div class="tabular"> <table id="TBL-12" class="tabular" 
 
><colgroup id="TBL-12-1g"><col 
id="TBL-12-1"></colgroup><colgroup id="TBL-12-2g"><col 
id="TBL-12-2"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-12-1-1"  
class="td11"> BucketId  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-12-1-2"  
class="td11"> Objects  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-12-2-1"  
class="td11">     8       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-12-2-2"  
class="td11">   2,5,7    </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-12-3-1"  
class="td11">    16       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-12-3-2"  
class="td11">  8,13,14   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-12-4-1"  
class="td11">    24       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-12-4-2"  
class="td11"> 18,19,21  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-12-5-1"  
class="td11">    32       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-12-5-2"  
class="td11"> 25,27,29  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-12-6-1"  
class="td11">    40       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-12-6-2"  
class="td11"> 34,37,38  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-12-7-1"  
class="td11">          </td></tr></table></div>
</div>
<!--l. 2992--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.21   </span> <a 
 id="x1-990006.21"></a>Calculate the number of round trips needed in case of mistake compensation of the tree metadata</h4>
<!--l. 2994--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.22   </span> <a 
 id="x1-1000006.22"></a>Use HBase shell to create a table and access it</h4>
<!--l. 2996--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.23   </span> <a 
 id="x1-1010006.23"></a>Use HBase API to create a table and access it</h4>
<!--l. 2998--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">7   </span> <a 
 id="x1-1020007"></a>Document Stores: MongoDB</h3>
<!--l. 3002--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.1   </span> <a 
 id="x1-1030007.1"></a>Explain the main difference between key-value and document stores</h4>
<!--l. 3004--><p class="noindent" >Document stores are essentially key-value stores, but in which the value is a document, i.e., it follows a known syntax.
This allows to define secondary indexes.
<!--l. 3008--><p class="indent" >   In a <span 
class="ecbx-1000">key-value store</span>, data is stored as a collection of key-value pairs, where each key is unique and each value is
associated with that key. These stores are optimized for high-speed access and retrieval of data based on a
specific key. They are often used for simple data retrieval tasks, such as caching or storing user session
data.
<!--l. 3014--><p class="indent" >   On the other hand, <span 
class="ecbx-1000">document stores </span>are designed to handle more complex data structures, such as documents or
JSON objects. In a document store, data is stored as collections of documents, which can contain nested data structures
and arrays. These stores are optimized for more complex data retrieval and querying operations, making them a better
choice for applications that require more advanced data processing capabilities, such as content management systems or
e-commerce platforms.
<!--l. 3023--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.2   </span> <a 
 id="x1-1040007.2"></a>Explain the main resemblances and differences between XML and JSON documents</h4>
<!--l. 3025--><p class="noindent" >XML and JSON are both widely used data interchange formats that are used to represent and transmit structured data
between different systems. While both formats serve a similar purpose, they have some key differences and
similarities.
<!--l. 3030--><p class="indent" >   <span 
class="ecbx-1000">Similarities</span>:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3032--><p class="noindent" >Both XML and JSON can represent complex data structures, including nested elements and attributes.
     </li>
     <li class="itemize">
     <!--l. 3034--><p class="noindent" >Both formats are widely supported by programming languages and frameworks.
     </li>
     <li class="itemize">
     <!--l. 3035--><p class="noindent" >Both formats can be used to represent data in a human-readable and machine-readable format.
     </li>
     <li class="itemize">
     <!--l. 3037--><p class="noindent" >Both formats support Unicode, making it possible to represent data in different languages.</li></ul>
<!--l. 3040--><p class="noindent" ><span 
class="ecbx-1000">Differences</span>:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3042--><p class="noindent" >XML is a markup language, while JSON is a data interchange format. This means that XML has a more
     complex syntax, including tags and attributes, while JSON uses a simpler syntax consisting of key-value
     pairs and arrays.
     </li>
     <li class="itemize">
     <!--l. 3046--><p class="noindent" >XML requires a closing tag for every element, while JSON uses braces to define the beginning and end of
     a data object.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 3048--><p class="noindent" >XML is more verbose than JSON, which makes it less efficient in terms of file size and network transfer
     time.
     </li>
     <li class="itemize">
     <!--l. 3050--><p class="noindent" >JSON is generally easier to parse and manipulate programmatically, which makes it more popular for
     web-based applications.</li></ul>
<!--l. 3054--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.3   </span> <a 
 id="x1-1050007.3"></a>Explain the design principle of documents</h4>
<!--l. 3056--><p class="noindent" >The design principle of document stores is based on the idea of storing data as documents rather than in a relational
table structure.
<!--l. 3059--><p class="indent" >   To be able to solve the impedance mismatch problem, documents break the 1NF. This avoids joins, so that we can
get data needed with one single fetch, and use indexes to identify finer data granularity.
<!--l. 3063--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.4   </span> <a 
 id="x1-1060007.4"></a>Name 3 consequences of the design principle of a document store</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3065--><p class="noindent" ><span 
class="ecbx-1000">Massive  denormalization</span>:  Document  stores  typically  denormalize  data  to  a  greater  extent  than
     traditional relational databases. This means that instead of splitting data into separate tables, a document
     store may store all of the data for a single entity (such as a customer) in a single document. This can
     result in larger documents, but it also makes querying and updating the data more efficient.
     </li>
     <li class="itemize">
     <!--l. 3071--><p class="noindent" ><span 
class="ecbx-1000">Independent documents</span>: In a document store, each document is self-contained and independent. This
     means that each document can contain all of the data needed for a specific operation, rather than requiring
     joins or additional queries to fetch related data from other tables. This can make it easier to work with
     data in a document store, but it can also result in duplicated data across multiple documents.
     </li>
     <li class="itemize">
     <!--l. 3077--><p class="noindent" ><span 
class="ecbx-1000">Massive rearrangement of documents on changing the application layout</span>: One consequence of
     the independent nature of documents in a document store is that changes to the structure of an application
     (such as adding or removing fields) may require significant rearrangement of documents. For example, if
     a new field is added to a document, all existing documents may need to be updated to include that field,
     which can be a time-consuming process. This can make it more difficult to maintain consistency across
     the data in a document store over time.</li></ul>
<!--l. 3088--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.5   </span> <a 
 id="x1-1070007.5"></a>Explain the difference between relational foreign keys and document references</h4>
<!--l. 3090--><p class="noindent" >In a relational database, <span 
class="ecbx-1000">foreign keys </span>are used to establish relationships between tables. A foreign key is a field in one
table that refers to the primary key of another table. For example, if you have a table of customers and a table of
orders, you might have a foreign key field in the orders table that refers to the primary key of the customers table. This
allows you to associate orders with customers and perform queries that join the two tables based on the foreign key
relationship.
                                                                                            
                                                                                            
<!--l. 3099--><p class="indent" >   In a document store, <span 
class="ecbx-1000">document references </span>are used to establish relationships between documents. A document
reference is a field in one document that refers to the ID of another document. For example, if you have a collection of
blog posts and a collection of comments, you might have a document reference field in each comment document that
refers to the ID of the blog post it relates to. This allows you to associate comments with blog posts and perform
queries that fetch all comments for a given blog post.
<!--l. 3108--><p class="indent" >   The <span id="textcolor16">main difference</span> between relational foreign keys and document references is that foreign keys are based on a
strict, predefined schema, while document references allow for more flexible and dynamic data models. In a relational
database, the schema is fixed and you must define foreign keys between tables before data can be inserted. In a
document store, the schema is more flexible, and you can add document references to establish relationships between
documents as needed.
<!--l. 3117--><p class="indent" >   <span id="textcolor17">Another difference</span> is that foreign keys are typically used to enforce referential integrity between tables, which means
that you can&#8217;t insert a row in the orders table unless the corresponding customer exists in the customers table.
Document references, on the other hand, do not enforce referential integrity in the same way, and it&#8217;s
possible to have document references to non-existent documents. However, some document stores do
offer features to enforce referential integrity, such as cascading deletes or validation rules on document
references.
<!--l. 3127--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.6   </span> <a 
 id="x1-1080007.6"></a>Exemplify 6 alternatives in deciding the structure of a document</h4>
<!--l. 3128--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-108002x1">
     <!--l. 3129--><p class="noindent" ><span 
class="ecbx-1000">Schema variability</span>: potentially different schema is specific to every document in semi-structured. This
     entails:
         <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-108004x1">
         <!--l. 3132--><p class="noindent" ><span 
class="ecbx-1000">Metadata embedding</span>: Suppose you are designing a document to store information about a book,
         such as the title, author, and publisher. In a semi-structured data model, you may choose to embed
         metadata within the document itself, rather than storing it separately in a schema. For example, you
         may include fields such as "creation date" or "last updated by" within the document.
         </li>
<li 
  class="enumerate" id="x1-108006x2">
         <!--l. 3139--><p class="noindent" ><span 
class="ecbx-1000">Attribute optionality</span>: Continuing with the example of a book document, you may choose to make
         certain attributes optional, depending on the nature of the data. For example, you may not always
         have information about the edition or the ISBN number, so you may choose to make these fields
         optional in the document schema.</li></ol>
     </li>
<li 
  class="enumerate" id="x1-108008x2">
     <!--l. 3145--><p class="noindent" ><span 
class="ecbx-1000">Schema declaration</span>: a priori schema declaration is just optional and flexible in semi-structured data. This
     includes the declaration of:
         <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-108010x1">
         <!--l. 3149--><p class="noindent" ><span 
class="ecbx-1000">Structure and data types</span>: Suppose you are designing a document to store information about a
         customer, such as their name, address, and order history. In a semi-structured data model, you may
         choose to declare a basic schema for the document, but allow for flexibility in the specific fields and
         data types used. For example, you may declare that the document should have a "name" field of
                                                                                            
                                                                                            
         type string, but allow for variation in the format or content of the name (e.g. first name, last name,
         or both).
         </li>
<li 
  class="enumerate" id="x1-108012x2">
         <!--l. 3157--><p class="noindent" ><span 
class="ecbx-1000">Integrity constraints</span>: Continuing with the example of a customer document, you may choose to
         impose certain integrity constraints on the data, such as ensuring that the customer&#8217;s email address
         is unique across all documents. However, you may also allow for flexibility in the data model by not
         enforcing constraints that are not critical to the business logic.</li></ol>
     </li>
<li 
  class="enumerate" id="x1-108014x3">
     <!--l. 3164--><p class="noindent" ><span 
class="ecbx-1000">Structure complexity</span>: complex nesting can be used in semi-structured data. This includes the representation
     of:
         <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-108016x1">
         <!--l. 3167--><p class="noindent" ><span 
class="ecbx-1000">Nested structures</span>: Suppose you are designing a document to store information about a company&#8217;s
         organizational structure, such as the departments, managers, and employees. In a semi-structured
         data model, you may choose to represent this structure using nested objects or arrays, to allow for
         flexibility in the depth and complexity of the organizational hierarchy.
         </li>
<li 
  class="enumerate" id="x1-108018x2">
         <!--l. 3173--><p class="noindent" ><span 
class="ecbx-1000">Multi-valued attributes</span>: Continuing with the example of an organizational structure document,
         you  may  choose  to  use  multi-valued  attributes  to  represent  relationships  between  entities.  For
         example, you may include a field for "direct reports" in the manager object, which can contain an
         array of employee objects representing the manager&#8217;s subordinates.</li></ol>
     </li></ol>
<!--l. 3182--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.7   </span> <a 
 id="x1-1090007.7"></a>Explain the difference between JSON and BJSON</h4>
<!--l. 3184--><p class="noindent" >JSON (JavaScript Object Notation) and BJSON (Binary JSON) are both data interchange formats that are used to
represent semi-structured data in a human-readable format. However, the main difference between the two is that
BJSON is a binary format, whereas JSON is a text-based format.
<!--l. 3190--><p class="indent" >   In more detail, the main differences between JSON and BJSON are as follows:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3193--><p class="noindent" ><span 
class="ecbx-1000">Encoding</span>: JSON uses a text-based encoding format that represents data using Unicode characters. In
     contrast, BJSON uses a binary encoding format that represents data using binary values.
     </li>
     <li class="itemize">
     <!--l. 3196--><p class="noindent" ><span 
class="ecbx-1000">Size</span>: Since BJSON uses a binary encoding format, it typically results in much smaller file sizes compared
     to JSON. This is because binary data can be represented more efficiently in terms of space than text-based
     data.
     </li>
     <li class="itemize">
     <!--l. 3200--><p class="noindent" ><span 
class="ecbx-1000">Parsing</span>: Parsing JSON involves reading the text-based data character by character and interpreting it
     as objects and values. In contrast, parsing BJSON involves reading the binary data and decoding it into
     objects and values.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 3204--><p class="noindent" ><span 
class="ecbx-1000">Encoding/Decoding speed</span>: BJSON can be encoded and decoded much faster than JSON due to its
     binary nature. This makes it a more suitable format for applications that require high-speed processing
     and low network latency.
     </li>
     <li class="itemize">
     <!--l. 3208--><p class="noindent" ><span 
class="ecbx-1000">Human-readability</span>: JSON is more human-readable than BJSON because it uses a text-based format
     that is easy to understand and edit. BJSON, on the other hand, is not as human-readable because it uses
     binary encoding.</li></ul>
<!--l. 3214--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.8   </span> <a 
 id="x1-1100007.8"></a>Name the main functional components of MongoDB architecture</h4>
<!--l. 3216--><p class="noindent" >We distinguish between machines that contain data, organized in <span 
class="ecbx-1000">replica sets </span>and those that purely route queries,
known as <span 
class="ecbx-1000">mongos</span>.
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-110002x1">
     <!--l. 3219--><p class="noindent" ><span 
class="ecbx-1000">Replica sets</span>:
         <ol  class="enumerate2" >
<li 
  class="enumerate" id="x1-110004x1">
         <!--l. 3221--><p class="noindent" ><span 
class="ecbx-1000">Config servers</span>: contain the global catalog, which keeps track of existing shards.
         </li>
<li 
  class="enumerate" id="x1-110006x2">
         <!--l. 3223--><p class="noindent" ><span 
class="ecbx-1000">Shards</span>: the components that actually store data.
         </li>
<li 
  class="enumerate" id="x1-110008x3">
         <!--l. 3224--><p class="noindent" ><span 
class="ecbx-1000">Balancer</span>: a process inside the primary config server in charge of detecting unbalanced shards and
         moving chunks from one shard to another. This allows shards to split or migrate chunks of data
         between different machines.</li></ol>
     </li>
<li 
  class="enumerate" id="x1-110010x2">
     <!--l. 3229--><p class="noindent" ><span 
class="ecbx-1000">Mongos</span>: they split the queries and merge back the results. To make it more efifcient and avoid disturbing the
     coordinator, they maintain a <span 
class="ecbx-1000">cache of shards</span>, which is lazily synchronized. Typically, mongos sit in the client
     machine to avoid network traffic.</li></ol>
<!--l. 3234--><p class="noindent" >In addition, we have:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-110012x1">
     <!--l. 3236--><p class="noindent" ><span 
class="ecbx-1000">Clients</span>: MongoDB clients are applications or tools that interact with the MongoDB database. Clients
     can communicate with MongoDB using various drivers and APIs provided by MongoDB.
                                                                                            
                                                                                            
     </li>
<li 
  class="enumerate" id="x1-110014x2">
     <!--l. 3239--><p class="noindent" ><span 
class="ecbx-1000">Mongod</span>: The mongod process is the main component of the MongoDB server. It manages the data stored
     in the database, handles read and write requests, and interacts with clients.</li></ol>
<!--l. 3244--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.9   </span> <a 
 id="x1-1110007.9"></a>Explain the role of <span 
class="ecti-1000">&#8217;mongos&#8217; </span>in query processing</h4>
<!--l. 3246--><p class="noindent" >In MongoDB, &#8217;mongos&#8217; is a component of the architecture that acts as a <span id="textcolor18">query router in sharded clusters</span>. Its main role
is to route incoming client requests to the appropriate shard(s) in the cluster.
<!--l. 3251--><p class="indent" >   When a client sends a query request to the mongos process, mongos <span id="textcolor19">first checks whether the query includes the
shard key</span>. If the query includes the shard key, mongos routes the request directly to the appropriate shard(s) based on
the shard key value. If the query does not include the shard key, mongos sends the query to all shards in the cluster and
aggregates the results before returning them to the client.
<!--l. 3259--><p class="indent" >   Mongos also performs other important functions in query processing, including load balancing and query
optimization. Specifically, mongos <span id="textcolor20">balances the load</span> across different shards by distributing incoming queries evenly
across all available shards. This helps to ensure that no single shard is overloaded with too many queries, which can
lead to performance issues.
<!--l. 3266--><p class="indent" >   In addition, mongos <span id="textcolor21">performs query optimization</span> by analyzing incoming queries and determining the most efficient
way to process them. This involves selecting the appropriate indexes to use and optimizing the order of operations to
minimize the number of documents that need to be scanned. The mechanism is rather simple and just pushes the first
selection and projection to the shards.
<!--l. 3273--><p class="indent" >   This provides <span id="textcolor22">inter-query parallelism</span>, since different routers and replicas can serve different users, but
not inter-operator parallelism, since all are run in the router after the first operation in the shards is
finished.
<!--l. 3278--><p class="indent" >   It also offers <span id="textcolor23">intra-operator parallelism</span> in case of static fragmentation, as different shards would serve different
pieces of the collection in parallel for the same query.
<!--l. 3282--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.10   </span> <a 
 id="x1-1120007.10"></a>Explain what a replica set is in MongoDB</h4>
<!--l. 3284--><p class="noindent" >In MongoDB, a replica set is a group of MongoDB servers that maintain identical copies of the same data. A replica set
provides high availability and automatic failover in case of server failures.
<!--l. 3288--><p class="indent" >   A replica set consists of <span id="textcolor24">several MongoDB instances</span>, or nodes, that are configured to communicate with each other.
One node is designated as the primary node, and the others are secondary nodes. The <span id="textcolor25">primary node</span> is responsible for
receiving write operations and applying them to the data set. The <span id="textcolor26">secondary nodes</span> replicate the data from the primary
node and can serve read operations.
<!--l. 3296--><p class="indent" >   <span id="textcolor27">If the primary node fails</span> or becomes unavailable, one of the secondary nodes is automatically elected as the new
primary node. This process is called <span 
class="ecbx-1000">failover</span>, and it ensures that the replica set can continue to function even in the
event of a node failure. Once the failed node is restored, it can rejoin the replica set and serve as a secondary
node.
<!--l. 3303--><p class="indent" >   Replica sets provide several benefits in MongoDB, including high availability, fault tolerance, and scalability. They
are often used in production environments to ensure that the database can continue to operate even in the face of
hardware or network failures.
<!--l. 3308--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.11   </span> <a 
 id="x1-1130007.11"></a>Name the three storage engines in MongoDB</h4>
<!--l. 3310--><p class="noindent" >MongoDB provides three storage engines to manage data:
     <ul class="itemize1">
     <li class="itemize">
                                                                                            
                                                                                            
     <!--l. 3312--><p class="noindent" ><span 
class="ecbx-1000">WiredTiger</span>:  The  default  storage  engine  since  MongoDB  3.2.  It  is  a  modern,  efficient,  and
     high-performance  storage  engine  that  provides  document-level  concurrency  control,  compression,  and
     support for transactions.
     </li>
     <li class="itemize">
     <!--l. 3316--><p class="noindent" ><span 
class="ecbx-1000">In-Memory</span>: This storage engine stores all data in memory, which provides very fast read and write
     operations. However, it is not suitable for large datasets, and all data is lost if the server is restarted or
     shuts down.
     </li>
     <li class="itemize">
     <!--l. 3320--><p class="noindent" ><span 
class="ecbx-1000">MMAPv1</span>: This is the legacy storage engine in MongoDB, which uses memory-mapped files to store data
     on disk. It is still available in MongoDB, but it has been deprecated and is no longer actively developed.
     It does not support document-level concurrency control or compression, and it is not recommended for
     new deployments.</li></ul>
<!--l. 3326--><p class="noindent" >Each storage engine has its own advantages and disadvantages, and the choice of storage engine depends on the specific use
case and workload. For most workloads, the WiredTiger storage engine is recommended as it provides a good balance of
performance, scalability, and reliability.
<!--l. 3331--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.12   </span> <a 
 id="x1-1140007.12"></a>Explain what shard and chunk are in MongoDB</h4>
<!--l. 3333--><p class="noindent" >In MongoDB, <span 
class="ecbx-1000">sharding </span>is a method for distributing data across multiple servers, or shards, to improve performance
and scalability. A <span 
class="ecbx-1000">shard </span>is a single MongoDB instance that stores a portion of the data.
<!--l. 3338--><p class="indent" >   A <span 
class="ecbx-1000">chunk </span>is a contiguous range of data within a shard that is assigned to a specific shard key range. The <span id="textcolor28">shard key</span>
is a unique identifier used to distribute data across shards in a sharded cluster. The data in a MongoDB collection
is partitioned into chunks based on the shard key value. Each chunk represents a range of shard key
values that is managed by a specific shard. The <span id="textcolor29">chunk size</span> is dynamically managed by the MongoDB
<span id="textcolor30">balancer</span>, which redistributes chunks across shards as the distribution of data changes over time. When
the size of a chunk grows beyond a certain limit, the <span id="textcolor31">balancer splits the chunk</span> into two smaller chunks,
which are then assigned to different shards. Similarly, when the size of a chunk shrinks below a certain
limit, the <span id="textcolor32">balancer merges the chunk</span> with an adjacent chunk and assigns the new larger chunk to a single
shard.
<!--l. 3353--><p class="indent" >   The use of shards and chunks allows MongoDB to <span id="textcolor33">horizontally scale</span> databases to handle large volumes of data and
high write and read request rates. By distributing data across multiple shards, MongoDB can provide better
performance, availability, and scalability compared to a single monolithic database.
<!--l. 3359--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.13   </span> <a 
 id="x1-1150007.13"></a>Explain the two horizontal fragmentation mechanisms in MongoDB</h4>
<!--l. 3361--><p class="noindent" >In MongoDB, <span 
class="ecbx-1000">horizontal fragmentation</span>, or sharding, is a mechanism for dividing data across multiple servers,
or shards, to improve performance and scalability. MongoDB provides two mechanisms for horizontal
fragmentation:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-115002x1">
     <!--l. 3365--><p class="noindent" ><span id="textcolor34">Range-based sharding</span>: This mechanism partitions data based on a specified shard key range. Each shard
     is responsible for a specific range of shard key values. For example, if the shard key is a timestamp, a
     range-based sharding strategy can be used to split data by time intervals such as hours, days, or months.
     </li>
<li 
  class="enumerate" id="x1-115004x2">
                                                                                            
                                                                                            
     <!--l. 3370--><p class="noindent" ><span id="textcolor35">Hash-based sharding</span>: This mechanism partitions data based on a hash of the shard key value. Each shard
     is responsible for a specific range of hash values. Hash-based sharding can be useful when the shard key
     values are not evenly distributed, as it ensures a more balanced distribution of data across shards.</li></ol>
<!--l. 3376--><p class="noindent" >Both range-based and hash-based sharding mechanisms have their own <span id="textcolor36">advantages and disadvantages</span>. Range-based
sharding is useful when the data is naturally partitioned into ranges, such as by time, and it can be easier to manage
and monitor. Hash-based sharding can provide a more balanced distribution of data across shards and can be more
flexible in handling changes in the data distribution over time.
<!--l. 3384--><p class="indent" >   In both mechanisms, MongoDB uses a <span id="textcolor37">shard key</span> to determine how to distribute the data across shards. The shard
key is a field in the data that is used to partition the data into chunks, which are then distributed across the shards.
The choice of shard key is an important factor in determining the performance and scalability of a sharded MongoDB
cluster. It is a mandatory attribute in all the documents of the collection, and must be indexed. It can be chosen by
calling
   <div class="math-display" >
<img 
src="summary17x.png" alt="sh.shardCollection (&#x27E8;namespace &#x27E9;,&#x27E8;key&#x27E9;).
" class="math-display" ></div>
<!--l. 3396--><p class="indent" >   Note: there is <span id="textcolor38">no vertical fragmentation</span>.
<!--l. 3398--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.14   </span> <a 
 id="x1-1160007.14"></a>Explain how the catalog works in MongoDB</h4>
<!--l. 3400--><p class="noindent" >In MongoDB, the <span 
class="ecbx-1000">catalog </span>is a metadata repository that stores information about the databases, collections, indexes,
and other objects in the database. The catalog is used by MongoDB to <span id="textcolor39">manage and optimize the performance </span>of
database operations.
<!--l. 3405--><p class="indent" >   The<span id="textcolor40"> catalog information</span> in MongoDB is treated like any other piece of data. The data is stored in a replica set, and
consequently enjoys all its synchronization benefits and consequences. The only specificity is that its information is
cached in the routers. The behavior in MongoDB is also Lazy/Primary-copy.
<!--l. 3411--><p class="indent" >   The catalog is <span id="textcolor41">updated automaticall</span>y by MongoDB as new databases, collections, and indexes are created, modified,
or deleted. MongoDB also uses the catalog to optimize database operations, such as query planning and execution, by
analyzing the metadata stored in the catalog.
<!--l. 3417--><p class="indent" >   Developers and database administrators can also query the catalog to retrieve information about the databases,
collections, indexes, and other objects in the MongoDB instance. This information can be used to <span id="textcolor42">monitor and
troubleshoot</span> the performance of database operations and to optimize the schema and indexing strategies for the
MongoDB collections.
<!--l. 3425--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.15   </span> <a 
 id="x1-1170007.15"></a>Identify the characteristics of the replica synchronization management in MongoDB</h4>
<!--l. 3427--><p class="noindent" >Replication is based on <span id="textcolor43">Replica Sets</span>, which are sets of <span id="textcolor44">mongod instances</span> (typically three) that act coordinately. A shard
siting in a replica set means that its data is mirrored in all the nodes that belong to that replica set. Since replica sets
are disjoint, this means that scaling by sharding results very expensive in terms of the number of machines. It may be
better to simply add more memory to a single machine.
<!--l. 3435--><p class="indent" >   The replica synchronization management in MongoDB has the following characteristics:
     <ul class="itemize1">
     <li class="itemize">
                                                                                            
                                                                                            
     <!--l. 3438--><p class="noindent" ><span 
class="ecbx-1000">Asynchronous  replication</span>:  MongoDB  replica  sets  use  asynchronous  replication  to  propagate  data
     changes from the primary to the secondary nodes. This means that the primary node does not wait for
     the secondary nodes to confirm the receipt of the data changes before returning the acknowledgement
     to the client. Asynchronous replication can improve the performance and availability of the database by
     reducing the latency of write operations.
     </li>
     <li class="itemize">
     <!--l. 3445--><p class="noindent" ><span 
class="ecbx-1000">Oplog</span>: The MongoDB replication mechanism uses an <span id="textcolor45">operation log (oplog) to record all data changes</span>
     made to the primary node. The oplog is a capped collection that stores a rolling window of the most recent
     data changes. Secondary nodes use the oplog to catch up with the primary node by replaying the data
     changes in the oplog in order.
     </li>
     <li class="itemize">
     <!--l. 3451--><p class="noindent" ><span 
class="ecbx-1000">Data consistency</span>: MongoDB replica sets use a <span id="textcolor46">consensus-based protocol</span> to ensure data consistency
     across the nodes. When a primary node receives a write operation, it records the operation in its oplog and
     sends it to the secondary nodes. The secondary nodes apply the data changes to their local copies of the
     data and then send an acknowledgement back to the primary node. The primary node waits for a majority
     of the secondary nodes to confirm the receipt of the data changes before returning the acknowledgement
     to the client. This ensures that the data changes are committed to a majority of the nodes in the replica
     set before they are considered to be fully written.
     </li>
     <li class="itemize">
     <!--l. 3461--><p class="noindent" ><span 
class="ecbx-1000">Automatic failover</span>: MongoDB replica sets provide automatic failover in the event that the primary node
     fails. When the primary node fails, the replica set elects a new primary node based on a consensus-based
     protocol. The new primary node takes over the role of the primary node and begins accepting write
     operations.
     </li>
     <li class="itemize">
     <!--l. 3466--><p class="noindent" ><span 
class="ecbx-1000">Priority and voting</span>: MongoDB replica sets allow administrators to set the priority and voting power of
     the nodes in the replica set. The priority and voting power of a node determine its eligibility to become
     the primary node in the event of a failover. Nodes with higher priority and voting power have a greater
     chance of being elected as the primary node.</li></ul>
<!--l. 3474--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.16   </span> <a 
 id="x1-1180007.16"></a>Explain how primary copy failure is managed in MongoDB</h4>
<!--l. 3476--><p class="noindent" >In MongoDB, a primary copy failure is managed through a process called <span id="textcolor47">automatic failover</span>. When the primary node
fails, the other nodes in the replica set elect a new primary node. The election process is based on a consensus
protocol that ensures that the new primary node is chosen by a majority of the nodes in the replica
set.
<!--l. 3482--><p class="indent" >   The <span id="textcolor48">election process</span> works as follows:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-118002x1">
     <!--l. 3484--><p class="noindent" >The nodes in the replica set communicate with each other to determine the status of the primary node. If
     the primary node fails to respond, the other nodes <span id="textcolor49">detect the failure and initiate an election</span>.
     </li>
<li 
  class="enumerate" id="x1-118004x2">
     <!--l. 3488--><p class="noindent" >Each node that is eligible to become the primary node (i.e., a node that has a copy of the data and is
     up-to-date with the oplog) <span id="textcolor50">casts a vote for itself</span>.
                                                                                            
                                                                                            
     </li>
<li 
  class="enumerate" id="x1-118006x3">
     <!--l. 3491--><p class="noindent" >The nodes communicate with each other to <span id="textcolor51">determine the node with the most votes</span>. If a node receives a
     majority of the votes (i.e., more than half of the nodes in the replica set), it becomes the new primary
     node.
     </li>
<li 
  class="enumerate" id="x1-118008x4">
     <!--l. 3495--><p class="noindent" >If no node receives a majority of the votes, the election fails and the replica set cannot elect a new primary
     node. In this case, the <span id="textcolor52">administrators must intervene</span> to resolve the issue.</li></ol>
<!--l. 3499--><p class="noindent" >Once a new primary node is elected, the other nodes in the replica set update their configurations to recognize the new
primary node. The new primary node then starts accepting write operations and propagating data changes to the other
nodes in the replica set.
<!--l. 3504--><p class="indent" >   In addition to automatic failover, MongoDB provides several features to <span id="textcolor53">minimize the risk of primary copy failure</span>.
These include:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3508--><p class="noindent" ><span 
class="ecbx-1000">Data replication</span>: MongoDB replica sets replicate data across multiple nodes to ensure that there are
     multiple copies of the data in the system.
     </li>
     <li class="itemize">
     <!--l. 3511--><p class="noindent" ><span 
class="ecbx-1000">Oplog replication</span>: MongoDB replica sets replicate the oplog (the log of data changes) across all nodes
     in the replica set to ensure that the nodes are up-to-date with the data changes.
     </li>
     <li class="itemize">
     <!--l. 3514--><p class="noindent" ><span 
class="ecbx-1000">Health checks</span>: MongoDB replica sets regularly check the status of the nodes in the replica set to ensure
     that they are functioning properly. If a node fails to respond, the other nodes detect the failure and initiate
     an election to choose a new primary node.</li></ul>
<!--l. 3520--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.17   </span> <a 
 id="x1-1190007.17"></a>Name the three query mechanisms of MongoDB</h4>
<!--l. 3522--><p class="noindent" >The three query mechanisms of MongoDB are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3524--><p class="noindent" ><span id="textcolor54">Find method</span>: This is the primary method for querying MongoDB. It searches for documents in a collection
     that match a specified query filter and returns the results in a cursor.
     </li>
     <li class="itemize">
     <!--l. 3527--><p class="noindent" ><span id="textcolor55">Aggregation framework</span>: This provides a more powerful and flexible mechanism for querying MongoDB
     by combining multiple documents and performing operations on them, such as grouping, sorting, and
     filtering.
     </li>
     <li class="itemize">
     <!--l. 3531--><p class="noindent" ><span id="textcolor56">MapReduce</span>: This is a method for processing large datasets in parallel across multiple nodes in a MongoDB
     cluster. It breaks down the data into smaller chunks and distributes the processing to the nodes, then
     combines the results into a final output.</li></ul>
                                                                                            
                                                                                            
<!--l. 3537--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.18   </span> <a 
 id="x1-1200007.18"></a>Explain the query optimization mechanism of MongoDB</h4>
<!--l. 3539--><p class="noindent" >MongoDB&#8217;s query optimization mechanism is designed to minimize the time and resources required to execute queries.
The <span id="textcolor57">query optimizer</span> takes into account various factors when choosing an execution plan, such as the available indexes,
the size of the collection, and the complexity of the query.
<!--l. 3545--><p class="indent" >   When a query is submitted to MongoDB, the query optimizer analyzes the query and selects an execution plan that
is optimal for the query. The <span id="textcolor58">execution plan</span> consists of a sequence of operations that MongoDB performs to
retrieve the requested data. These operations can include scanning indexes, filtering data, and sorting
data.
<!--l. 3551--><p class="indent" >   The query optimizer chooses the execution plan that <span id="textcolor59">minimizes the number of
operations required to execute the query and the amount of data that needs to be
scanned</span><span class="footnote-mark"><a 
href="summary5.html#fn4x0"><sup class="textsuperscript">4</sup></a></span><a 
 id="x1-120001f4"></a>  .
This results in faster query execution and reduces the load on the system.
<!--l. 3557--><p class="indent" >   MongoDB&#8217;s query optimizer uses a variety of techniques to optimize queries, including:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3560--><p class="noindent" ><span 
class="ecbx-1000">Index selection</span>: The query optimizer selects the optimal index to use based on the query&#8217;s filter and
     sort criteria. MongoDB offers different kinds of indexes (B+tree, hash, geospatial and textual), which can
     be multi-attribute, or even defined over arrays.
     </li>
     <li class="itemize">
     <!--l. 3564--><p class="noindent" ><span 
class="ecbx-1000">Query reordering</span>: The query optimizer rearranges the order of query operations to minimize the amount
     of data that needs to be scanned.
     </li>
     <li class="itemize">
     <!--l. 3567--><p class="noindent" ><span 
class="ecbx-1000">Query pruning</span>: The query optimizer eliminates unnecessary operations that do not contribute to the
     query result.
     </li>
     <li class="itemize">
     <!--l. 3569--><p class="noindent" ><span 
class="ecbx-1000">Query caching</span>: The query optimizer caches frequently executed queries and their execution plans to
     reduce the time required to execute them. MongoDB query optimizer does not launch different executions
     in parallel using alternative access paths. Instead, it compares plan execution for a query pattern every
     ~1,000 write operations and then caches the &#8220;winning&#8221; query plan until the next time the optimizer runs
     or you explicitly call an explain() on that query. The winning query plan is based on the number of &#8220;work
     units&#8221; (works) performed by the query execution plan when evaluating candidate plans. The works value
     represents an approximate measure of how much work a query plan requires to execute. The optimizer
     selects the plan with lowest works value as the winning plan<span class="footnote-mark"><a 
href="summary6.html#fn5x0"><sup class="textsuperscript">5</sup></a></span><a 
 id="x1-120002f5"></a>  .</li></ul>
   <h4 class="subsectionHead"><span class="titlemark">7.19   </span> <a 
 id="x1-1210007.19"></a>Given two alternative structures of a document, explain the performance impact of the choice in a given
setting</h4>
                                                                                            
                                                                                            
<!--l. 3594--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.20   </span> <a 
 id="x1-1220007.20"></a>Simulate splitting and migration of chunks in MongoDB</h4>
<!--l. 3597--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.21   </span> <a 
 id="x1-1230007.21"></a>Configure the number of replicas needed for confirmation on both reading and writing in a given
scenario</h4>
<!--l. 3600--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.22   </span> <a 
 id="x1-1240007.22"></a>Perform some queries on MongoDB through the shell and aggregation framework</h4>
<!--l. 3602--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.23   </span> <a 
 id="x1-1250007.23"></a>Compare the access costs given different document designs</h4>
<!--l. 3605--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.24   </span> <a 
 id="x1-1260007.24"></a>Compare the access costs with different indexing strategies (i.e. hash and range based)</h4>
<!--l. 3608--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">7.25   </span> <a 
 id="x1-1270007.25"></a>Compare the access costs with different sharding distributions (i.e. balanced and unbalanced)</h4>
<!--l. 3610--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">8   </span> <a 
 id="x1-1280008"></a>MapReduce I</h3>
<!--l. 3614--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.1   </span> <a 
 id="x1-1290008.1"></a>Enumerate several use cases of MapReduce</h4>
<!--l. 3616--><p class="noindent" >MapReduce was based on Google development and was originally conceived to compute the page rank. Nonetheless, it
can be used in many different situations:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3620--><p class="noindent" >Batch processing: MapReduce can be used to process large volumes of data in batches, such as log files,
     customer records, or social media data.
     </li>
     <li class="itemize">
     <!--l. 3623--><p class="noindent" >Data warehousing: MapReduce can be used to extract, transform, and load (ETL) data into a data
     warehouse, such as Hadoop Distributed File System (HDFS).
     </li>
     <li class="itemize">
     <!--l. 3626--><p class="noindent" >Search indexing: MapReduce can be used to index and search large volumes of unstructured data, such
     as web pages, documents, or social media posts.
     </li>
     <li class="itemize">
     <!--l. 3629--><p class="noindent" >Machine learning: MapReduce can be used to train and evaluate machine learning models on large datasets,
     such as image or speech recognition.
     </li>
     <li class="itemize">
     <!--l. 3631--><p class="noindent" >Fraud  detection:  MapReduce  can  be  used  to  detect  fraudulent  activities  in  financial  transactions  or
     insurance claims.
     </li>
     <li class="itemize">
     <!--l. 3633--><p class="noindent" >Recommendation engines: MapReduce can be used to analyze user behavior and generate personalized
     recommendations, such as in e-commerce or online media.
     </li>
     <li class="itemize">
     <!--l. 3636--><p class="noindent" >Log analysis: MapReduce can be used to analyze and visualize system logs, such as web server logs, to
     identify patterns and anomalies.
     </li>
     <li class="itemize">
     <!--l. 3638--><p class="noindent" >Social network analysis: MapReduce can be used to analyze social networks and identify communities,
     influencers, or trends.
     </li>
     <li class="itemize">
     <!--l. 3640--><p class="noindent" >Image and video processing: MapReduce can be used to process and analyze large volumes of multimedia
     data, such as images or videos, for content-based retrieval or object recognition.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 3643--><p class="noindent" >Natural language processing: MapReduce can be used to process and analyze natural language data, such
     as text or speech, for sentiment analysis, topic modeling, or language translation.</li></ul>
<!--l. 3648--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.2   </span> <a 
 id="x1-1300008.2"></a>Explain 6 benefits of using MapReduce</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3650--><p class="noindent" ><span 
class="ecbx-1000">Facilitates scalability</span>: MapReduce is designed to process large volumes of data and is highly scalable.
     It can be used to handle increasing amounts of data by adding more machines to the cluster, making it
     ideal for big data processing.
     </li>
     <li class="itemize">
     <!--l. 3654--><p class="noindent" ><span 
class="ecbx-1000">Hidden parallelism</span>: MapReduce hides the complexities of parallel processing by dividing the workload
     into smaller tasks and distributing them across multiple machines. This allows for faster processing times
     and better resource utilization.
     </li>
     <li class="itemize">
     <!--l. 3658--><p class="noindent" ><span 
class="ecbx-1000">Transparent distribution</span>: MapReduce abstracts away the details of distributed computing, making it easier for
     developers to write code without worrying about the underlying infrastructure.
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 3662--><p class="noindent" ><span 
class="ecbx-1000">Exploit data locality</span>: MapReduce schedules tasks on nodes that are in close proximity to the data
         being processed, reducing network overhead and improving performance. This is achieved by bringing
         the computation to the data instead of moving the data to the computation.
         </li>
         <li class="itemize">
         <!--l. 3666--><p class="noindent" ><span 
class="ecbx-1000">Balance workload</span>: MapReduce automatically balances the workload across nodes in the cluster,
         ensuring that each machine is processing roughly the same amount of data. This helps prevent
         resource bottlenecks and ensures that the job completes in a reasonable amount of time.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 3671--><p class="noindent" ><span 
class="ecbx-1000">Resilience to failure</span>: MapReduce is designed to be fault-tolerant and can handle failures gracefully. If a
     machine fails, the job is automatically rescheduled on another machine.
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 3675--><p class="noindent" ><span 
class="ecbx-1000">Fine-grained fault tolerance</span>: MapReduce can recover from individual task failures, allowing jobs
         to continue processing without needing to restart the entire job. This reduces the impact of failures
         on the overall job completion time.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 3680--><p class="noindent" ><span 
class="ecbx-1000">Useful in any domain</span>: MapReduce is a general-purpose processing framework that can be used in any domain
     where there is a need to process large volumes of data in a distributed manner. The framework is not specific to
     any one industry or application, and can be applied to a wide range of use cases, such as financial
     analysis, scientific research, social media analytics, e-commerce, and more. Additionally, MapReduce
                                                                                            
                                                                                            
     is not limited to structured data and can be used to process unstructured and semi-structured
     data as well. Its flexibility and versatility make it a popular choice for organizations of all sizes and
     industries.</li></ul>
<!--l. 3692--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.3   </span> <a 
 id="x1-1310008.3"></a>Describe what the MapReduce is in the context of a DDBMS</h4>
<!--l. 3694--><p class="noindent" >In the context of a DDBMS, this framework introduces some changes:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-131002x1">
     <!--l. 3696--><p class="noindent" >Elimination of the globar scheduler: as data was only going to be read, no inconsistencies could arise,
     making the scheduler unnecessary.
     </li>
<li 
  class="enumerate" id="x1-131004x2">
     <!--l. 3698--><p class="noindent" >Elimination of the global query manager: it is the task of the developer to decide how a query should be
     executed.
     </li>
<li 
  class="enumerate" id="x1-131006x3">
     <!--l. 3700--><p class="noindent" >MapReduce substitutes the Global Execution Manager.
     </li>
<li 
  class="enumerate" id="x1-131008x4">
     <!--l. 3701--><p class="noindent" >Disregard the complexities of the DDBMS, by implementing MapReduce on top of Hadoop.</li></ol>
<!--l. 3705--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.4   </span> <a 
 id="x1-1320008.4"></a>Recognize the signature of Map and Reduce functions</h4>
<!--l. 3707--><p class="noindent" >A <span 
class="ecbx-1000">Map </span>is a function that takes a pair <img 
src="summary18x.png" alt="&#x27E8;key,value&#x27E9;"  class="left" align="middle"> of the input domain and obtain a set of zero or more new
<img 
src="summary19x.png" alt="&#x27E8;key,value&#x27E9;"  class="left" align="middle"> pairs of the output domain:
   <div class="math-display" >
<img 
src="summary20x.png" alt="#####                     TOK&#x00D7;TOV
#f :#TIK &#x00D7; TIV   -&#x2192;     &#x2032; 2&#x2032;      &#x2032;  &#x2032;  ,
       &#x27E8;k,v&#x27E9;    &#x21A6;&#x2192;    {&#x27E8;k1,v1&#x27E9;,...,&#x27E8;kn,vn&#x27E9;}
" class="math-display" ></div>
<!--l. 3716--><p class="indent" >   here <span 
class="cmmi-10">T</span><sub><span 
class="cmmi-7">IK</span></sub> is the domain of input keys, <span 
class="cmmi-10">T</span><sub><span 
class="cmmi-7">IV</span> </sub> the domain of input values, <span 
class="cmmi-10">T</span><sub><span 
class="cmmi-7">OK</span></sub> the domain of output keys and <span 
class="cmmi-10">T</span><sub><span 
class="cmmi-7">OV</span> </sub>
the domain of output values.
<!--l. 3720--><p class="indent" >   A <span 
class="ecbx-1000">Reduce </span>is a function that takes all the pairs with the same value, and return a new set of <img 
src="summary21x.png" alt="&#x27E8;key,value&#x27E9;"  class="left" align="middle"> pairs
combining them:
                                                                                            
                                                                                            
   <div class="math-display" >
<img 
src="summary22x.png" alt="f :  TOK &#x00D7; 2TOV   -&#x2192;        2TFK,TFV
    &#x27E8;k,{v1,...,vk}&#x27E9;  &#x21A6;&#x2192;   {&#x27E8;k&#x2032;1,v&#x2032;1&#x27E9; ,...,&#x27E8;k&#x2032;n,v&#x2032;n&#x27E9;} ,
" class="math-display" ></div>
<!--l. 3729--><p class="indent" >   here <span 
class="cmmi-10">T</span><sub><span 
class="cmmi-7">FK</span></sub> are the final keys and <span 
class="cmmi-10">T</span><sub><span 
class="cmmi-7">FV</span> </sub> the final values.
<!--l. 3731--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.5   </span> <a 
 id="x1-1330008.5"></a>Explain the phases of a MapReduce operation</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3733--><p class="noindent" ><span 
class="ecbx-1000">Input</span>: reads data from a DFS.
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 3735--><p class="noindent" >If the input file format is already fragmented into a key-value structure (such as SequenceFile), the
         key and value are taken from the file.
         </li>
         <li class="itemize">
         <!--l. 3737--><p class="noindent" >If the input file is raw, the framework constructs a key-value structure, where the key is the tuple
         offset in the file, and the value is the row itself.</li></ul>
     </li>
     <li class="itemize">
     <!--l. 3741--><p class="noindent" ><span 
class="ecbx-1000">Map</span>: for each input key-value pair, the <span id="textcolor60">Mapper machines</span> execute the user-provided <span 
class="ecbx-1000">map </span>function, which can
     return 0 or more new pairs.
     </li>
     <li class="itemize">
     <!--l. 3744--><p class="noindent" ><span 
class="ecbx-1000">Partition</span>: the generated key-value pairs are assigned to <span id="textcolor61">Reduce machines</span> based on their key. This phase
     guarantees that all ocurrences of the same key will be assigned to the same Reducer. Note, however, that data are
     not shipped yet.
     </li>
     <li class="itemize">
     <!--l. 3748--><p class="noindent" ><span 
class="ecbx-1000">Shuffle</span>: the <span id="textcolor62">Reduce machines</span> pull the generated key-value pairs from the Mapper machines.
     </li>
     <li class="itemize">
     <!--l. 3750--><p class="noindent" ><span 
class="ecbx-1000">Sort &amp; Comparison</span>: each <span id="textcolor63">Reduce machine</span> sorts their input key-value pairs based on the key.
     This allows to generate, for each distinct key, their corresponding set of values via the merge-sort
     algorithm.
     </li>
     <li class="itemize">
     <!--l. 3754--><p class="noindent" ><span 
class="ecbx-1000">Reduce</span>: for each input structure key-set of values, the <span 
class="ecbx-1000">reduce </span>function is executed, which can return 0 or more
     key-value pairs.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 3756--><p class="noindent" ><span 
class="ecbx-1000">Output</span>: the result of the <span 
class="ecbx-1000">reduce </span>function is written locally at each <span id="textcolor64">Reduce machine</span> leveraging on the
     DFS.</li></ul>
<!--l. 3761--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.6   </span> <a 
 id="x1-1340008.6"></a>Justify to which extent MapReduce is generic</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3763--><p class="noindent" >MapReduce is supported in many store systems, such as HBase, MongoDB or CouchDB.
     </li>
     <li class="itemize">
     <!--l. 3765--><p class="noindent" >Its  programming  paradigm  is  computationally  complete,  which  means  that  any  data  process  can  be
     adapted to it. Note, however, that some tasks adapt better than others, and it is not necessarily efficient,
     partly because optimization is very limited because of lack of expressivity.
     </li>
     <li class="itemize">
     <!--l. 3769--><p class="noindent" >Its signature is closed, so iterations can be chained. However, fault tolerance is not guaranteed in between,
     and resources and released to be requested again immediately, which is an inneficient handling of resources.
     </li>
     <li class="itemize">
     <!--l. 3773--><p class="noindent" >It is criticized for being too low-level. There are APIs for Ruby, Python, Java, C++, etc. And there have
     been attemps to build declarative languages on top, like HiveQL or Cassandra Query Language (CQL).</li></ul>
<!--l. 3779--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.7   </span> <a 
 id="x1-1350008.7"></a>Simulate the execution of a simple MapReduce algorithm from the user (agnostic of implementation details)
perspective</h4>
<!--l. 3781--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.8   </span> <a 
 id="x1-1360008.8"></a>Identify the usefulness of MapReduce in a given use case</h4>
<!--l. 3783--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.9   </span> <a 
 id="x1-1370008.9"></a>Define the key in the output of the map for a simple problem</h4>
<!--l. 3786--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">8.10   </span> <a 
 id="x1-1380008.10"></a>Provide the pseudo-code of map and reduce functions for a simple problem</h4>
<!--l. 3788--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">9   </span> <a 
 id="x1-1390009"></a>MapReduce II</h3>
<!--l. 3792--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.1   </span> <a 
 id="x1-1400009.1"></a>Enumerate the different kind of processes in Hadoop MapReduce</h4>
<!--l. 3794--><p class="noindent" >In the Hadoop MapReduce framework, there are primarily three types of processes:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3797--><p class="noindent" ><span 
class="ecbx-1000">Client program</span>: This is the user program that submits the MapReduce job, specifying the mapper,
     reducer, and other configurations.
     </li>
     <li class="itemize">
     <!--l. 3799--><p class="noindent" ><span 
class="ecbx-1000">Mappers</span>: These are tasks that perform the map function on the input data, processing each data block
     independently and generating intermediate key-value pairs.
     </li>
     <li class="itemize">
     <!--l. 3802--><p class="noindent" ><span 
class="ecbx-1000">Reducers</span>: These are tasks that perform the reduce function on the intermediate key-value pairs produced
     by the mappers, aggregating the values based on their corresponding keys.</li></ul>
<!--l. 3807--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.2   </span> <a 
 id="x1-1410009.2"></a>Draw the hierarchy of Hadoop MapReduce objects</h4>
<!--l. 3810--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.3   </span> <a 
 id="x1-1420009.3"></a>Explain the information kept in the Hadoop MapReduce coordinator node</h4>
<!--l. 3812--><p class="noindent" >The Hadoop MapReduce coordinator node, also known as the JobTracker, keeps track of the following
information:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-142002x1">
     <!--l. 3815--><p class="noindent" ><span 
class="ecbx-1000">Map and Reduce tasks</span>: It maintains the status (idle, in-progress, or completed) and the identity of
     each worker machine assigned to map or reduce tasks.
     </li>
<li 
  class="enumerate" id="x1-142004x2">
     <!--l. 3818--><p class="noindent" ><span 
class="ecbx-1000">Intermediate file regions</span>: It records the location and size of each intermediate file region produced
     by each map task, storing <span 
class="cmmi-10">O</span><img 
src="summary23x.png" alt="(M &#x00D7; R )"  class="left" align="middle"> states in memory, as there are <span 
class="cmmi-10">R </span>files generated by each of the <span 
class="cmmi-10">M</span>
     mappers.</li></ol>
<!--l. 3824--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.4   </span> <a 
 id="x1-1430009.4"></a>Explain how to decide the number of mappers and reducers</h4>
<!--l. 3826--><p class="noindent" >The <span 
class="ecbx-1000">number of map tasks </span>depends on the splitting of the input, which is by default performed per HDFS
block. A general rule of thumb is to have one map task per HDFS block. Ideally, each node should run
between ten and a hundred mappers, each taking more than one minute to execute to justify its creation
overhead.
<!--l. 3832--><p class="indent" >   For <span 
class="ecbx-1000">reducers</span>, there are two suggested configurations:
                                                                                            
                                                                                            
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3834--><p class="noindent" >Minimize the number of tasks (and thus intermediate files), by creating slightly fewer reducers than the
     total number of available processors.
     </li>
     <li class="itemize">
     <!--l. 3836--><p class="noindent" >Balance the workload, by creating less than double the amount of available processors.</li></ul>
<!--l. 3840--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.5   </span> <a 
 id="x1-1440009.5"></a>Explain the fault tolerance mechanisms in Hadoop MapReduce</h4>
<!--l. 3842--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">9.5.1   </span> <a 
 id="x1-1450009.5.1"></a>Worker Failure</h5>
<!--l. 3844--><p class="noindent" >The corresponding task is immediately reassigned, which is possible because all files are replicated in
HDFS.
<!--l. 3847--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">9.5.2   </span> <a 
 id="x1-1460009.5.2"></a>Master Failure</h5>
<!--l. 3849--><p class="noindent" >Master failure is less likely but can be mitigated by creating checkpoints of its in-memory structure that tracks the
status of tasks and intermediate files. In case of failure, another node can be designated as the new master and continue
the execution from the last checkpoint.
<!--l. 3854--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.6   </span> <a 
 id="x1-1470009.6"></a>Identify query shipping and data shipping in MapReduce</h4>
<!--l. 3856--><p class="noindent" >Query shipping occurs in the map phase of MapReduce, where the map tasks are shipped to the nodes where the input
data is stored.
<!--l. 3859--><p class="indent" >   Data shipping occurs during the shuffle phase of MapReduce, when intermediate data is moved from the mapper
nodes to the corresponding reducer nodes.
<!--l. 3862--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.7   </span> <a 
 id="x1-1480009.7"></a>Explain the effect of using the combine function in MapReduce</h4>
<!--l. 3864--><p class="noindent" >The combine function acts as a local reduce function for each mapper, helping to minimize the amount of key-value
pairs stored on disk and transferred over the network. The combine function can be the same as the reduce function if it
is commutative and associative. If not, it must be designed appropriately to ensure the final outcome remains
unchanged while reducing intermediate computations.
<!--l. 3871--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.8   </span> <a 
 id="x1-1490009.8"></a>Identify the synchronization barriers of MapReduce</h4>
<!--l. 3872--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-149002x1">
     <!--l. 3873--><p class="noindent" >All input data must be uploaded to the HDFS before any processing can begin.
                                                                                            
                                                                                            
     </li>
<li 
  class="enumerate" id="x1-149004x2">
     <!--l. 3875--><p class="noindent" >All mappers must finish before reducers can start processing the data.
     </li>
<li 
  class="enumerate" id="x1-149006x3">
     <!--l. 3876--><p class="noindent" >When chaining multiple MapReduce jobs, the subsequent job cannot start until the previous one finishes
     writing its output.</li></ol>
<!--l. 3880--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.9   </span> <a 
 id="x1-1500009.9"></a>Explain the main problems and limitations of Hadoop MapReduce</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3882--><p class="noindent" >Startup time is very high, as it requires starting multiple JVM in different nodes of the cluster.
     </li>
     <li class="itemize">
     <!--l. 3884--><p class="noindent" >The master is a single point of failure.
     </li>
     <li class="itemize">
     <!--l. 3885--><p class="noindent" >Reassigning tasks to the workers in case of failure is expensive and requires redefining the execution plan
     on the fly, scheduling chunks one by one.
     </li>
     <li class="itemize">
     <!--l. 3888--><p class="noindent" >Tasks are assigned locally where the chunks are, but if they are not evenly distributed in the cluster, some
     of the chunks need to be moved to the available processors.
     </li>
     <li class="itemize">
     <!--l. 3891--><p class="noindent" >Intermediate results are written to disk for fault tolerance, and this entails a cost.
     </li>
     <li class="itemize">
     <!--l. 3893--><p class="noindent" >Reducers fetch all the data from remote nodes.
     </li>
     <li class="itemize">
     <!--l. 3894--><p class="noindent" >Even if data is compressed in the disk, it will be decompressed before processing.</li></ul>
<!--l. 3899--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.10   </span> <a 
 id="x1-1510009.10"></a>Apply the different steps of a MapReduce execution at the implementation level</h4>
<!--l. 3901--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">9.11   </span> <a 
 id="x1-1520009.11"></a>Decide on the use of the combine function</h4>
<!--l. 3903--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">10   </span> <a 
 id="x1-15300010"></a>Spark I</h3>
<!--l. 3907--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">10.1   </span> <a 
 id="x1-15400010.1"></a>Name the main Spark contributions and characteristics</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3909--><p class="noindent" ><span 
class="ecbx-1000">In-memory processing</span>: Spark stores data in memory, allowing faster processing and reducing the time
     spent on reading and writing to disk.
     </li>
     <li class="itemize">
     <!--l. 3912--><p class="noindent" ><span 
class="ecbx-1000">Fault  tolerance</span>:  Spark  uses  Resilient  Distributed  Datasets  (RDDs)  to  provide  fault  tolerance  and
     maintain data consistency.
     </li>
     <li class="itemize">
     <!--l. 3914--><p class="noindent" ><span 
class="ecbx-1000">Lazy evaluation</span>: Spark delays execution until an action is called, optimizing the execution plan for
     better performance.
     </li>
     <li class="itemize">
     <!--l. 3916--><p class="noindent" ><span 
class="ecbx-1000">Support for multiple languages</span>: Spark provides APIs for Scala, Java, Python, and R.
     </li>
     <li class="itemize">
     <!--l. 3918--><p class="noindent" ><span 
class="ecbx-1000">Advanced analytics</span>: Spark includes libraries for machine learning (MLlib), graph processing (GraphX),
     and stream processing (Structured Streaming).
     </li>
     <li class="itemize">
     <!--l. 3921--><p class="noindent" ><span 
class="ecbx-1000">Unified platform</span>: Spark combines batch processing, interactive queries, streaming, and machine learning
     in a single platform.</li></ul>
<!--l. 3925--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">10.2   </span> <a 
 id="x1-15500010.2"></a>Compare MapReduce and Spark</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 3927--><p class="noindent" ><span 
class="ecbx-1000">Data storage</span>: MapReduce stores data on disk, while Spark stores data in-memory, leading to faster
     processing in Spark.
     </li>
     <li class="itemize">
     <!--l. 3929--><p class="noindent" ><span 
class="ecbx-1000">Processing  model</span>:  MapReduce  uses  a  two-stage  model  (Map  and  Reduce),  while  Spark  supports
     multi-stage in-memory processing with DAGs (Directed Acyclic Graphs).
     </li>
     <li class="itemize">
     <!--l. 3932--><p class="noindent" ><span 
class="ecbx-1000">Ease of use</span>: Spark provides high-level APIs for multiple languages, while MapReduce primarily uses
     Java, making Spark more accessible.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 3935--><p class="noindent" ><span 
class="ecbx-1000">Libraries</span>: Spark includes built-in libraries for machine learning, graph processing, and stream processing,
     whereas MapReduce relies on external libraries.
     </li>
     <li class="itemize">
     <!--l. 3938--><p class="noindent" ><span 
class="ecbx-1000">Iterative processing</span>: Spark is more suitable for iterative algorithms, as it can cache intermediate results
     in memory, while MapReduce has to read and write to disk for each iteration.</li></ul>
<div class="center" 
>
<!--l. 3942--><p class="noindent" >
<div class="tabular"> <table id="TBL-13" class="tabular" 
 
><colgroup id="TBL-13-1g"><col 
id="TBL-13-1"></colgroup><colgroup id="TBL-13-2g"><col 
id="TBL-13-2"></colgroup><colgroup id="TBL-13-3g"><col 
id="TBL-13-3"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-13-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-13-1-1"  
class="td11">                     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-1-2"  
class="td11">       <span 
class="ecbx-1000">MapReduce         </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-1-3"  
class="td11">                <span 
class="ecbx-1000">Spark                     </span></td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-13-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-13-2-1"  
class="td11">    <span 
class="ecbx-1000">Data Storage      </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-2-2"  
class="td11">          Disk                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-2-3"  
class="td11">              In-memory                      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-13-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-13-3-1"  
class="td11">  <span 
class="ecbx-1000">Processing model   </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-3-2"  
class="td11">        two-stage             </td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-3-3"  
class="td11">         multi-stage with DAGS              </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-13-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-13-4-1"  
class="td11">     <span 
class="ecbx-1000">Ease of use       </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-4-2"  
class="td11">          Java                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-4-3"  
class="td11">           Multiple languages                 </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-13-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-13-5-1"  
class="td11">      <span 
class="ecbx-1000">Libraries         </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-5-2"  
class="td11"> Relies on external libraries  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-5-3"  
class="td11"> Built-in libraries for ML, graphs, streams  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-13-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-13-6-1"  
class="td11"> <span 
class="ecbx-1000">Iterative processing  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-6-2"  
class="td11">          Costly               </td><td  style="white-space:nowrap; text-align:center;" id="TBL-13-6-3"  
class="td11">               Cheaper                       </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-13-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-13-7-1"  
class="td11">                     </td></tr></table></div>
</div>
<!--l. 3973--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">10.3   </span> <a 
 id="x1-15600010.3"></a>Define a dataframe</h4>
<!--l. 3975--><p class="noindent" >Dataframes offer a symmetrical treatment of rows and columns, both of which can be referenced explicitly by
position or by name. The data stored in a dataframe has to adhere to a schema, but this is defined at
runtime, making it useful for data cleaning. Dataframes offer a great variety of operations, enabling us
to perform relational-like operations, speadsheet operations and linear algebra operations. Also, their
query syntax is incementally composable and dataframes can be natively embedded in an imperative
language.
<!--l. 3984--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">10.4   </span> <a 
 id="x1-15700010.4"></a>Distinguish dataframe from relation and matrix</h4>
                                                                                            
                                                                                            
<!--l. 3986--><p class="noindent" ><img 
src="summary24x.png" alt="|-------------------------------------------------|-------------------------------|----------------------------|
|-------------------Dataframe---------------------|            Matrix             |          Relation          |
|----Pandas--DF----------------Spark-DF-----------|-------------------------------|----------------------------|
|---------------Heterogeneously-typed---------------|------Homogeneously-typed-------|----Heterogeneously-typed-----|
|---------------Lazily- induced-schema----------------|-------------------------------|--------Rigid schema--------|
|-----------Numeric and-non-numeric types---------|---------Numeric-types---------|Numeric-and-non-numeric-types-|
|---------------Explicit-column-names----------------|-----------No-names------------|----Explicit column-names----|
|-------------Supports relational algebra------------|Does-not-support-relational algebra|---Supports-relational algebra--|
|------Ordered-------|----------Unordered----------|------------Ordered------------|---------Unordered----------|
|-----Named-rows-----|--------Unnamed-rows--------|-----------No-names------------|--------Unnamed-rows--------|
|Column--row-symmetry-|-Columns-and rows-are different------Column-row-symmetry-------|-Columns-and rows-are different|
-Support-linear algebra--Does not-support-linear algebra------Support linear-algebra-------Does not-support-linear algebra " >
<!--l. 4040--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">10.5   </span> <a 
 id="x1-15800010.5"></a>Distinguish Spark and Pandas dataframe</h4>
                                                                                            
                                                                                            
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4042--><p class="noindent" ><span 
class="ecbx-1000">Distributed vs. local</span>: Spark DataFrames are distributed across a cluster, requiring a Spark session and
     enabling parallel processing, while Pandas DataFrames are local, single-node data structures.
     </li>
     <li class="itemize">
     <!--l. 4045--><p class="noindent" ><span 
class="ecbx-1000">Language</span>: Spark DataFrames are available in Scala, Java, Python, and R, while Pandas DataFrames are
     specific to the Python language.
     </li>
     <li class="itemize">
     <!--l. 4048--><p class="noindent" ><span 
class="ecbx-1000">Immutability vs mutability</span>: Spark DataFrames are immutable, meaning once created, they cannot be
     changed, while Pandas DataFrames can be modified.
     </li>
     <li class="itemize">
     <!--l. 4051--><p class="noindent" ><span 
class="ecbx-1000">Lazy evaluation vs eager evaluation</span>: Spark DataFrames use lazy evaluation, while Pandas DataFrames
     execute operations immediately (eager evaluation).
     </li>
     <li class="itemize">
     <!--l. 4054--><p class="noindent" ><span 
class="ecbx-1000">Scalability</span>: pandas DataFrames are not scalable, even if multithread oeprators exist, manual splitting is
     required, while Sprak DataFrames are transparently scalable in the Cloud.
     </li>
     <li class="itemize">
     <!--l. 4057--><p class="noindent" ><span 
class="ecbx-1000">Transposability</span>: Pandas DataFrames are transposable, but Spark DataFrames are not.</li></ul>
<!--l. 4061--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">10.6   </span> <a 
 id="x1-15900010.6"></a>Enumerate some abstraction on top of Spark</h4>
<!--l. 4062--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-159002x1">
     <!--l. 4063--><p class="noindent" ><span 
class="ecbx-1000">Resilient  Distributed  Datasets  (RDDs)</span>:  RDDs  are  the  fundamental  abstraction  in  Spark,
     representing  an  immutable  distributed  collection  of  objects  that  can  be  processed  in  parallel.  RDDs
     provide fault tolerance through lineage information and can be cached across multiple stages for iterative
     algorithms. They support low-level operations like map, filter, and reduce, allowing developers to have
     fine-grained control over data processing.
     </li>
<li 
  class="enumerate" id="x1-159004x2">
     <!--l. 4070--><p class="noindent" ><span 
class="ecbx-1000">DataFrames</span>:  DataFrames  are  a  higher-level  abstraction  built  on  top  of  RDDs.  They  represent  a
     distributed  collection  of  data  organized  into  named  columns,  similar  to  a  relational  database  table.
     DataFrames provide a convenient API for handling structured and semi-structured data and allow for
     optimizations through the Catalyst query optimizer and the Tungsten execution engine. Operations like
     filtering, aggregation, and transformation are available through the DataFrame API.
     </li>
<li 
  class="enumerate" id="x1-159006x3">
                                                                                            
                                                                                            
     <!--l. 4077--><p class="noindent" ><span 
class="ecbx-1000">Spark SQL</span>: Spark SQL is a module that provides a programming interface for working with structured
     and semi-structured data. It allows users to query data using SQL as well as the DataFrame API. Spark
     SQL integrates with the Spark ecosystem, enabling the use of SQL queries with other Spark libraries
     like MLlib and GraphX. It also supports reading from and writing to various data formats and storage
     systems, such as Parquet, Avro, JSON, Hive, HBase, and JDBC.
     </li>
<li 
  class="enumerate" id="x1-159008x4">
     <!--l. 4084--><p class="noindent" ><span 
class="ecbx-1000">MLlib</span>:  MLlib  is  Spark&#8217;s  built-in  library  for  scalable  machine  learning.  It  provides  various  machine
     learning algorithms for classification, regression, clustering, and recommendation, as well as tools for
     feature extraction, transformation, and model evaluation. MLlib is designed to scale out across a cluster,
     enabling the processing of large datasets for training and prediction tasks. It supports both RDD-based
     and DataFrame-based APIs.
     </li>
<li 
  class="enumerate" id="x1-159010x5">
     <!--l. 4091--><p class="noindent" ><span 
class="ecbx-1000">GraphX</span>: GraphX is a library for graph processing and computation built on top of Spark. It allows users
     to work with graphs and perform graph-parallel computations at scale. GraphX provides a flexible graph
     computation API that enables users to express graph algorithms like PageRank, connected components,
     and triangle counting. It also includes a collection of graph algorithms and builders to simplify graph
     analytics tasks.
     </li>
<li 
  class="enumerate" id="x1-159012x6">
     <!--l. 4098--><p class="noindent" ><span 
class="ecbx-1000">Structured  Streaming</span>:  Structured  Streaming  is  a  module  for  processing  real-time  data  streams
     in  a  fault-tolerant  and  scalable  manner.  It  provides  a  high-level  API  built  on  top  of  DataFrames,
     allowing users to express complex streaming computations using the same operations as batch processing.
     Structured  Streaming  handles  the  incremental  processing  of  data  streams,  providing  exactly-once
     processing guarantees and allowing for event-time and late-data processing. It supports various sources
     and sinks, such as Kafka, HDFS, and Delta Lake.</li></ol>
<!--l. 4108--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">10.7   </span> <a 
 id="x1-16000010.7"></a>Provide the Spark pseudo-code for a simple problem using dataframes</h4>
<!--l. 4110--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">11   </span> <a 
 id="x1-16100011"></a>Spark II</h3>
<!--l. 4114--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.1   </span> <a 
 id="x1-16200011.1"></a>Define RDD</h4>
<!--l. 4116--><p class="noindent" >RDD stands for <span 
class="ecbx-1000">Resilient Distributed Dataset</span>. It is the fundamental abstraction in Spark, representing an
immutable distributed collection of objects that can be processed in parallel. RDDs provide fault tolerance through
lineage information, allowing for data recovery in case of failures.
<!--l. 4122--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.2   </span> <a 
 id="x1-16300011.2"></a>Distinguish between Base RDD and Pair RDD</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4124--><p class="noindent" ><span 
class="ecbx-1000">Base RDD</span>: A basic RDD consisting of a distributed collection of objects. Base RDDs can be created
     from data stored in external storage systems or by parallelizing a collection in the driver program.
     </li>
     <li class="itemize">
     <!--l. 4127--><p class="noindent" ><span 
class="ecbx-1000">Pair RDD</span>: A special type of RDD where each element is a key-value pair. Pair RDDs enable operations
     like grouping, reducing, and aggregating by keys. They are useful for tasks like counting words or computing
     sums per group.</li></ul>
<!--l. 4133--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.3   </span> <a 
 id="x1-16400011.3"></a>Distinguish between transformations and actions</h4>
<!--l. 4135--><p class="noindent" ><span 
class="ecbx-1000">Transformations </span>are operations that create a new RDD from an existing one. They are performed lazily, meaning
they are only executed when an action is called. Examples of transformations include map, filter, and
reduceByKey.
<!--l. 4140--><p class="indent" >   <span 
class="ecbx-1000">Actions </span>are operations that return a value to the driver program or write data to external storage
systems. Actions trigger the execution of transformations. Examples of actions include count, collect, and
saveAsTextFile.
<!--l. 4145--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.4   </span> <a 
 id="x1-16500011.4"></a>Explain available transformations</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4147--><p class="noindent" >map: Applies a function to each element in the RDD, creating a new RDD.
     </li>
     <li class="itemize">
     <!--l. 4149--><p class="noindent" >filter: Returns a new RDD containing only the elements that satisfy a given predicate.
     </li>
     <li class="itemize">
     <!--l. 4151--><p class="noindent" >flatMap: Applies a function to each element and flattens the results into a single RDD.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 4153--><p class="noindent" >union: Returns a new RDD that contains the union of the elements in the source RDD and another RDD.
     </li>
     <li class="itemize">
     <!--l. 4155--><p class="noindent" >distinct: Returns a new RDD containing the distinct elements of the original RDD.
     </li>
     <li class="itemize">
     <!--l. 4157--><p class="noindent" >groupByKey: Groups the elements of the RDD by key.
     </li>
     <li class="itemize">
     <!--l. 4158--><p class="noindent" >reduceByKey: Groups the elements by key and reduces the values for each key using a specified reduce
     function.
     </li>
     <li class="itemize">
     <!--l. 4160--><p class="noindent" >sortBy: Returns a new RDD that is sorted by the specified key function.</li></ul>
<!--l. 4163--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.5   </span> <a 
 id="x1-16600011.5"></a>Explain available actions</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4165--><p class="noindent" >count: Returns the number of elements in the RDD.
     </li>
     <li class="itemize">
     <!--l. 4166--><p class="noindent" >collect: Returns all elements of the RDD as an array to the driver program. Be cautious with this action
     as it can cause the driver to run out of memory for large RDDs.
     </li>
     <li class="itemize">
     <!--l. 4169--><p class="noindent" >take: Returns the first n elements of the RDD as an array.
     </li>
     <li class="itemize">
     <!--l. 4170--><p class="noindent" >first: Returns the first element of the RDD.
     </li>
     <li class="itemize">
     <!--l. 4171--><p class="noindent" >reduce: Aggregates the elements of the RDD using a given function.
     </li>
     <li class="itemize">
     <!--l. 4172--><p class="noindent" >saveAsTextFile: Writes the elements of the RDD to a text file in the specified directory.</li></ul>
                                                                                            
                                                                                            
<!--l. 4176--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.6   </span> <a 
 id="x1-16700011.6"></a>Name the main Spark runtime components</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4178--><p class="noindent" ><span 
class="ecbx-1000">Driver program</span>: The program that runs the main function and defines one or more Spark operations.
     </li>
     <li class="itemize">
     <!--l. 4180--><p class="noindent" ><span 
class="ecbx-1000">Cluster manager</span>: The component responsible for managing resources and scheduling tasks in a cluster,
     such as YARN, Mesos, or the standalone Spark cluster manager.
     </li>
     <li class="itemize">
     <!--l. 4183--><p class="noindent" ><span 
class="ecbx-1000">Executor</span>: A process that runs on a worker node and executes tasks on behalf of the driver program.
     </li>
     <li class="itemize">
     <!--l. 4185--><p class="noindent" ><span 
class="ecbx-1000">Task</span>: A unit of work that runs on an executor, representing a single stage of a Spark operation.</li></ul>
<!--l. 4189--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.7   </span> <a 
 id="x1-16800011.7"></a>Explain how to manage parallelism in Spark</h4>
<!--l. 4191--><p class="noindent" >Parallelism in Spark can be managed by controlling the number of partitions and the number of cores used by each
executor. You can set the default number of partitions when creating an RDD or by repartitioning an existing RDD.
You can also configure the number of cores used by each executor in the Spark configuration.
<!--l. 4197--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.8   </span> <a 
 id="x1-16900011.8"></a>Explain how recoverability works in Spark</h4>
<!--l. 4199--><p class="noindent" >Recoverability in Spark is achieved through RDD lineage information, which records the sequence of transformations
used to create an RDD. If a partition of an RDD is lost due to a node failure, Spark can recompute the
partition using the lineage information and the transformations applied to the original data. This allows
Spark to recover lost data without the need for data replication, reducing overhead and improving fault
tolerance.
<!--l. 4207--><p class="indent" >   Also, data can be cached/persisted in up to two nodes. As a rule of thumb, we should cache an RDD if it is parent
of more than one RDD.
<!--l. 4210--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.9   </span> <a 
 id="x1-17000011.9"></a>Distinguish between narrow and wide dependencies</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4212--><p class="noindent" ><span 
class="ecbx-1000">Narrow dependencies</span>: In these dependencies, each partition of the parent RDD is used by at most one
     partition of the child RDD. This means that the data required for a single partition in the child RDD can
     be found within a single partition of the parent RDD. Examples of operations with narrow dependencies
     include map and filter. Narrow dependencies allow for pipelining, reducing the overhead of data shuffling.
     </li>
     <li class="itemize">
                                                                                            
                                                                                            
     <!--l. 4218--><p class="noindent" ><span 
class="ecbx-1000">Wide dependencies</span>: In these dependencies, each partition of the parent RDD may be used by multiple
     partitions of the child RDD. This means that the data required for a single partition in the child RDD can
     be spread across multiple partitions of the parent RDD. Examples of operations with wide dependencies
     include groupByKey and reduceByKey. Wide dependencies require data shuffling, which can be expensive
     in terms of both time and resources.</li></ul>
<!--l. 4227--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.10   </span> <a 
 id="x1-17100011.10"></a>Name the two mechanisms to share variables</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4229--><p class="noindent" ><span 
class="ecbx-1000">Broadcast variables</span>: These are read-only variables that are cached on each worker node, allowing tasks
     to efficiently access large read-only data structures such as lookup tables or dictionaries.
     </li>
     <li class="itemize">
     <!--l. 4232--><p class="noindent" ><span 
class="ecbx-1000">Accumulators</span>: These are variables that can be updated by tasks running on worker nodes in a parallel
     and fault-tolerant manner. They are typically used for counters and sums. Accumulators can be updated
     only by associative and commutative operations to ensure that Spark can combine their values correctly
     across multiple tasks.</li></ul>
<!--l. 4239--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.11   </span> <a 
 id="x1-17200011.11"></a>Provide the Spark pseudo-code for a simple problem using RDDs</h4>
<!--l. 4241--><p class="noindent" >Problem: Word count using RDDs.
   <!--l. 4243-->
<div class="lstlisting" id="listing-6"><span class="label"><a 
 id="x1-172001r1"></a><span 
class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">from</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">pyspark</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">import</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">SparkContext</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172002r2"></a><span 
class="ecrm-0500">2</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172003r3"></a><span 
class="ecrm-0500">3</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Create</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">a</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Spark</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">context</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172004r4"></a><span 
class="ecrm-0500">4</span></span><span style="color:#000000"><span 
class="ectt-0800">sc</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">SparkContext</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">local</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">WordCount</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172005r5"></a><span 
class="ecrm-0500">5</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172006r6"></a><span 
class="ecrm-0500">6</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Read</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">input</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">text</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">file</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172007r7"></a><span 
class="ecrm-0500">7</span></span><span style="color:#000000"><span 
class="ectt-0800">text_file</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">sc</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">textFile</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">input</span></span><span style="color:#9400D1"><span 
class="ectt-0800">.</span></span><span style="color:#9400D1"><span 
class="ectt-0800">txt</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172008r8"></a><span 
class="ecrm-0500">8</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172009r9"></a><span 
class="ecrm-0500">9</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Split</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">each</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">line</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">into</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">words</span></span><span style="color:#009900"><span 
class="ectt-0800">,</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">and</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">map</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">each</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">word</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">to</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">a</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">(</span></span><span style="color:#009900"><span 
class="ectt-0800">word</span></span><span style="color:#009900"><span 
class="ectt-0800">,</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">1)</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">tuple</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172010r10"></a><span 
class="ecrm-0500">10</span></span><span style="color:#000000"><span 
class="ectt-0800">word_counts</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#000000"><span 
class="ectt-0800">text_file</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">flatMap</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">lambda</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">line</span></span><span style="color:#000000"><span 
class="ectt-0800">:</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">line</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">split</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172011r11"></a><span 
class="ecrm-0500">11</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">map</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">lambda</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">word</span></span><span style="color:#000000"><span 
class="ectt-0800">:</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#000000"><span 
class="ectt-0800">word</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">1)</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172012r12"></a><span 
class="ecrm-0500">12</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">reduceByKey</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">lambda</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">a</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">b</span></span><span style="color:#000000"><span 
class="ectt-0800">:</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">a</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">+</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">b</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172013r13"></a><span 
class="ecrm-0500">13</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172014r14"></a><span 
class="ecrm-0500">14</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Save</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">word</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">count</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">results</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">as</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">a</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">text</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">file</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-172015r15"></a><span 
class="ecrm-0500">15</span></span><span style="color:#000000"><span 
class="ectt-0800">word_counts</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">saveAsTextFile</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">output</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span></div>
<!--l. 4262--><p class="indent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">12   </span> <a 
 id="x1-17300012"></a>Stream Data Management</h3>
<!--l. 4266--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.1   </span> <a 
 id="x1-17400012.1"></a>Define a data stream</h4>
<!--l. 4268--><p class="noindent" >A <span 
class="ecbx-1000">data stream </span>is a dataset that is produced incrementally over time, instead of being fully available before its
processing begins.
<!--l. 4272--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.2   </span> <a 
 id="x1-17500012.2"></a>Distinguish the two kinds of stream management systems</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4274--><p class="noindent" ><span 
class="ecbx-1000">Stream Processing Engines (SPE)</span>: focus on highly available near-real-time processing and scalability.
     They are designed to process data non-stop, mainly using relatively simple <span id="textcolor65">window aggregates</span>. They
     facilitate plugging the stream to other databases. For example, Spark streaming or S4.
     </li>
     <li class="itemize">
     <!--l. 4279--><p class="noindent" ><span 
class="ecbx-1000">Complex Event Processing (CEP)</span>: offer <span id="textcolor66">rich windowing operations</span> to define indicators based on
     thresholds and express <span id="textcolor67">complex temporal correlations or patterns</span>. These patterns sometimes need to be
     detected in long periods of time. Therefore, the system needs to keep the corresponding logs and complex
     states, complicating distribution and parallelization. For example, Esper or T-Rex.</li></ul>
<!--l. 4288--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.3   </span> <a 
 id="x1-17600012.3"></a>Recognize the importance of stream management</h4>
<!--l. 4290--><p class="noindent" >Stream management is essential for handling continuous and dynamic data sources, enabling real-time decision making,
and providing insights into the behavior of the system or environment. It is crucial in many applications, such as
monitoring and control systems, financial markets, network traffic analysis, social media analysis, and Internet of
Things (IoT) environments.
<!--l. 4297--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.4   </span> <a 
 id="x1-17700012.4"></a>Enumerate the most relevant chracteristics of streams</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4299--><p class="noindent" >The arrival rate of data is not under the control of the system. The pace is too fast to persist all data,
     but sometimes it is even too fast to process every arriving element.
     </li>
     <li class="itemize">
     <!--l. 4302--><p class="noindent" >The number of elements is unbounded, requiring virtually an unbounded memory. This means that drastic
     reduction is needed.
     </li>
     <li class="itemize">
     <!--l. 4304--><p class="noindent" >We need to keep data moving, using only volatile storage.
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 4305--><p class="noindent" >Support for near-real time application, so there is a need to scale and parallelize.
     </li>
     <li class="itemize">
     <!--l. 4307--><p class="noindent" >Arrival order is not guaranteed to be the same as generation order, as some data can be delayed for several
     reasons.
     </li>
     <li class="itemize">
     <!--l. 4309--><p class="noindent" >Imperfections must be assumed, as some data will be missing for different reasons.
     </li>
     <li class="itemize">
     <!--l. 4311--><p class="noindent" >There is temporal locality, having a temporal evolution of data characteristics.
     </li>
     <li class="itemize">
     <!--l. 4312--><p class="noindent" >Approximate answers are acceptable, but keeping determinism.</li></ul>
<!--l. 4315--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.5   </span> <a 
 id="x1-17800012.5"></a>Explain to which extent a DBMS can manage streams</h4>
<!--l. 4317--><p class="noindent" >Using an RDBMS is possible in some exceptional cases in which some requirements can be relaxed.
<!--l. 4320--><p class="indent" >   Actually, <span 
class="ecbx-1000">active databases </span>were the precursors of SPEs. Active Databases have the goal of automatically trigerring
a response to monitored events such as database updates, points in time or events external to the database. The
operations provided by these databases are <span 
class="ecbx-1000">ECA rules</span>, usually implemented via <span 
class="ecbx-1000">triggers</span>, with the main objective of
maintaining integrity constraints and derived information.
<!--l. 4328--><p class="indent" >   However, they fall short for more complex aggregations oveer time. Moreover, ACID transactions encompass a large
overhead on data ingestion, hindering the capacity of processing large data streams arriving at a very high
pace.
<!--l. 4333--><p class="indent" >   <span id="textcolor68">If the arrival rate is not very high</span>, we can use temporary tables, available in many RDBMSs, whose operations are
much faster, since they are single user and kept in memory. This allows to keep a tuple for every message in the stream,
making the table analogous to a sliding window over the stream.
<!--l. 4339--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.6   </span> <a 
 id="x1-17900012.6"></a>Name 10 differences between DBMS and SPE</h4>
<div class="center" 
>
<!--l. 4340--><p class="noindent" >
<div class="tabular"> <table id="TBL-14" class="tabular" 
 
><colgroup id="TBL-14-1g"><col 
id="TBL-14-1"></colgroup><colgroup id="TBL-14-2g"><col 
id="TBL-14-2"></colgroup><colgroup id="TBL-14-3g"><col 
id="TBL-14-3"></colgroup><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-1-1"  
class="td11">                     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-1-2"  
class="td11">    <span 
class="ecbx-1000">DBMS      </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-1-3"  
class="td11">     <span 
class="ecbx-1000">SPE        </span></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-2-1"  
class="td11"> Data </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-2-2"  
class="td11"> Persistent </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-2-3"  
class="td11"> Volatile</td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-3-1"  
class="td11">        Access             </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-3-2"  
class="td11">    Random       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-3-3"  
class="td11">   Sequential     </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-4-1"  
class="td11">        Queries            </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-4-2"  
class="td11">    One-time      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-4-3"  
class="td11">   Continuous    </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-5-1"  
class="td11">       Support            </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-5-2"  
class="td11">  Unlimited disk   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-5-3"  
class="td11">  Limited RAM   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-6-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-6-1"  
class="td11">        Order             </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-6-2"  
class="td11">  Current state   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-6-3"  
class="td11">     Sorted        </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-7-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-7-1"  
class="td11">     Ingestion rate        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-7-2"  
class="td11">  Relatively low   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-7-3"  
class="td11"> Extremely high  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-8-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-8-1"  
class="td11"> Temporal requirements  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-8-2"  
class="td11">     Little         </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-8-3"  
class="td11">  Near-real-time  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-9-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-9-1"  
class="td11">       Accuracy           </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-9-2"  
class="td11">   Exact data     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-9-3"  
class="td11"> Imprecise data  </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-10-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-10-1"  
class="td11">     Heterogeneity        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-10-2"  
class="td11"> Structured data  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-10-3"  
class="td11">  Imperfections   </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-11-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-11-1"  
class="td11">      Algorithms          </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-11-2"  
class="td11"> Multiple passes  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-14-11-3"  
class="td11">    One pass      </td>
</tr><tr class="hline" style="border-top:1px solid #000"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-14-12-"><td  style="white-space:nowrap; text-align:center;" id="TBL-14-12-1"  
class="td11">                      </td></tr></table></div>
</div>
                                                                                            
                                                                                            
<!--l. 4391--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.7   </span> <a 
 id="x1-18000012.7"></a>Characterize the kinds of queries in an SPE</h4>
<!--l. 4393--><p class="noindent" >We can classify stream operations attending to three independent criteria:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4395--><p class="noindent" ><span 
class="ecbx-1000">Trigger</span>: we can either keep the queries continuously running or launch them at some concrete instant.
     </li>
     <li class="itemize">
     <!--l. 4397--><p class="noindent" ><span 
class="ecbx-1000">Outputs</span>: the result of a query can be a set of elements, but can also be a simple boolean interpreted as
     some kind of alert that detects a change in the behavior of the stream.
     </li>
     <li class="itemize">
     <!--l. 4400--><p class="noindent" ><span 
class="ecbx-1000">Inputs</span>:  queries  cna  obviously  be  evaluated  over  a  subset  of  data  in  the  stream,  which  is  somehow
     equivalent to analysing small datasets. If we want to analyse the unbounded past stream as awhole, we
     need to rely in some summary structure.</li></ul>
<!--l. 4405--><p class="noindent" >The two most characteristics queries in stream processing are:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4407--><p class="noindent" ><span 
class="ecbx-1000">Window-based operations</span>: we can see them as taking a snapshot of the stream. Then, we can perform
     any operation as if we were working with a list of static messages.
     <!--l. 4411--><p class="noindent" >The point of this is getting rid of the problem of having the data on the move. However, simply taking
     a snapshot and never changing it would result oversimplistic. Thus, we take a neverending sequence of
     snapshots, and perform the analysis one snapshot at a time.
     <!--l. 4416--><p class="noindent" >Therefore, a <span 
class="ecbx-1000">window </span>is defined by both its duration (size) and its sliding interval. If both coincide, it is
     called a <span 
class="ecbx-1000">tumbling window</span>.
     </li>
     <li class="itemize">
     <!--l. 4419--><p class="noindent" ><span 
class="ecbx-1000">Binary operations</span>: there are four possible ways of joininig relations and streams: Relation-Relation,
     Relation-Stream, Stream-Relation and Stream-Stream.
     <!--l. 4423--><p class="noindent" >Note that <span id="textcolor69">Stream-Stream</span> does not make much sense, because it is very unlikely that given two streams,
     the two current elements can be joined. If we want to join two streams, the most common approach is to
     take a snapshot of one of them and use a Stream-Relation approach.
     <!--l. 4429--><p class="noindent" >Also, <span id="textcolor70">Relation-Relation</span> are not interesting from the point of view of stream data processing.
     <!--l. 4432--><p class="noindent" >The two remaining options are actually the same. Then, considering <span id="textcolor71">Stream-Relation operations</span>, there
     are specific algorithms required which are different from those that only deal with Relations, because one
     of the inputs is not static.</li></ul>
<!--l. 4438--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.8   </span> <a 
 id="x1-18100012.8"></a>Explain the two parameters of a sliding window</h4>
<!--l. 4440--><p class="noindent" >The window size is the interval of time in seconds for how much historical data shall be contained in RDD
before processing. The sliding interval is the amount of time in seconds for how much the window will
shift.
<!--l. 4444--><p class="indent" >   In more plain terms: the <span id="textcolor72">sliding interval</span> indicates when we process, and the <span id="textcolor73">window size</span> indicates how much time
back we take into account. Note that if the interval is bigger than the size, we would be letting some data go without
processing it. This info is exemplified in Figure <a 
href="#x1-181001r10">10<!--tex4ht:ref: fig:Window-parameters-visualization. --></a>. In the image, the second windowed stream is done with a tumbling
window.
<!--l. 4451--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                            
                                                                                            
<a 
 id="x1-181001r10"></a>
                                                                                            
                                                                                            
<!--l. 4453--><p class="noindent" ><img 
src="10_home_runner_work_BDMA_Notes_BDMA_Notes_UPC_Big_Data_Mng_LectureNotes_source_stream_window.png" alt="PIC"  
width="43" height="43" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;10: </span><span  
class="content">Window parameters visualization.</span></div><!--tex4ht:label?: x1-181001r10 -->
                                                                                            
                                                                                            
<!--l. 4456--><p class="indent" >   </div><hr class="endfigure">
   <h4 class="subsectionHead"><span class="titlemark">12.9   </span> <a 
 id="x1-18200012.9"></a>Explain the three stream architectural patterns</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4461--><p class="noindent" ><span 
class="ecbx-1000">Stream ingestion</span>: the objective of this pattern is to not lose any event. For this, we can use queuing
     mechanisms as Kafka.
     </li>
     <li class="itemize">
     <!--l. 4463--><p class="noindent" ><span 
class="ecbx-1000">Near-real-time event processing</span>: the objective of this pattern is to react to events as soon as
     possible.
         <ul class="itemize2">
         <li class="itemize">
         <!--l. 4466--><p class="noindent" >If we have a <span id="textcolor74">light-weight processing system</span>, we can use Flume.
         </li>
         <li class="itemize">
         <!--l. 4468--><p class="noindent" >If the<span id="textcolor75"> system is more complex</span>, we might need to use a distribution approach that guarantees some locality is
         needed. For this, we can use different queues, with Kafka, to efficiently distribute the data to multiple engine
         instances. <span id="textcolor76">Complex events</span> are characterized by:
             <ul class="itemize3">
             <li class="itemize">
             <!--l. 4474--><p class="noindent" >Pattern matching: state keeps all potential matches, using a Tree of a Non-Deterministic Finite
             Automata.
             </li>
             <li class="itemize">
             <!--l. 4476--><p class="noindent" >Hard to distribute
             </li>
             <li class="itemize">
             <!--l. 4477--><p class="noindent" >Consider time constraints, absence of events, re-emision of events.</li></ul>
         <!--l. 4479--><p class="noindent" >The groupings defined for <span id="textcolor77">complex topologies</span> can be:
             <ul class="itemize3">
             <li class="itemize">
             <!--l. 4482--><p class="noindent" >Shuffle grouping: random.
             </li>
             <li class="itemize">
             <!--l. 4483--><p class="noindent" >Fields grouping: same value, same task.
             </li>
             <li class="itemize">
             <!--l. 4484--><p class="noindent" >All grouping: broadcast to all tasks.
             </li>
             <li class="itemize">
             <!--l. 4485--><p class="noindent" >Global groupin: all data to a single task.
             </li>
             <li class="itemize">
             <!--l. 4486--><p class="noindent" >None grouping: execution stays in the thread of origin of data, whenever possible.
             </li>
             <li class="itemize">
             <!--l. 4488--><p class="noindent" >Direct grouping: producers direct the output to concrete predefined tasks.</li></ul>
                                                                                            
                                                                                            
         </li></ul>
     </li></ul>
<!--l. 4494--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.10   </span> <a 
 id="x1-18300012.10"></a>Explain the goals of Spark streaming architecture</h4>
<!--l. 4496--><p class="noindent" >Spark Streaming is an extension of the core Spark API, designed to handle near-real-time data processing by dividing
incoming data streams into small batches and processing them using Spark&#8217;s core engine. The goals of Spark Streaming
architecture are as follows:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4501--><p class="noindent" ><span 
class="ecbx-1000">Scalability</span>: To handle high volumes of data and scale horizontally across multiple nodes, providing the
     ability to process large data streams in parallel.
     </li>
     <li class="itemize">
     <!--l. 4504--><p class="noindent" ><span 
class="ecbx-1000">Fault-tolerance</span>: To ensure data reliability and system resiliency by providing mechanisms like data
     replication, lineage information, and checkpointing, which help recover from failures without losing data
     or computation progress.
     </li>
     <li class="itemize">
     <!--l. 4508--><p class="noindent" ><span 
class="ecbx-1000">High-throughput</span>:  To  efficiently  process  large  amounts  of  data  with  minimal  latency,  enabling
     near-real-time processing and analytics for various use cases.
     </li>
     <li class="itemize">
     <!--l. 4511--><p class="noindent" ><span 
class="ecbx-1000">Unified programming model</span>: To offer a single programming model for both batch processing and
     stream processing, simplifying the development and maintenance of applications that involve both types
     of processing.
     </li>
     <li class="itemize">
     <!--l. 4515--><p class="noindent" ><span 
class="ecbx-1000">Integration with the Spark ecosystem</span>: To leverage the existing Spark ecosystem, including libraries
     like MLlib for machine learning, GraphX for graph processing, and SQL support through Spark SQL,
     allowing users to combine multiple types of data processing and analytics within a single application.
     </li>
     <li class="itemize">
     <!--l. 4520--><p class="noindent" ><span 
class="ecbx-1000">Ease of use</span>: To provide an accessible API that makes it easy for developers to build and deploy streaming
     applications, enabling them to focus on the application logic rather than the complexities of distributed
     computing.
     </li>
     <li class="itemize">
     <!--l. 4524--><p class="noindent" ><span 
class="ecbx-1000">Flexibility</span>: To support various data sources, sinks, and processing patterns, allowing developers to build
     a wide range of applications for different domains and use cases.</li></ul>
<!--l. 4529--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.11   </span> <a 
 id="x1-18400012.11"></a>Draw the architecture of Spark streaming</h4>
                                                                                            
                                                                                            
<!--l. 4531--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.12   </span> <a 
 id="x1-18500012.12"></a>Identify the need of a stream ingestion pattern</h4>
<!--l. 4533--><p class="noindent" >The need for a stream ingestion pattern arises when you have to:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-185002x1">
     <!--l. 4535--><p class="noindent" >Capture and store high-velocity data streams from various sources.
     </li>
<li 
  class="enumerate" id="x1-185004x2">
     <!--l. 4536--><p class="noindent" >Ensure data durability and availability for processing.
     </li>
<li 
  class="enumerate" id="x1-185006x3">
     <!--l. 4537--><p class="noindent" >Handle backpressure and avoid data loss due to sudden spikes in data rates.
     </li>
<li 
  class="enumerate" id="x1-185008x4">
     <!--l. 4539--><p class="noindent" >Manage data partitioning and replication for fault tolerance.</li></ol>
<!--l. 4542--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.13   </span> <a 
 id="x1-18600012.13"></a>Identify the need of a near-real time processing pattern</h4>
<!--l. 4544--><p class="noindent" >The need for a near-real-time processing pattern arises when you have to:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-186002x1">
     <!--l. 4547--><p class="noindent" >Process data as it arrives, providing quick insights and enabling real-time decision-making.
     </li>
<li 
  class="enumerate" id="x1-186004x2">
     <!--l. 4549--><p class="noindent" >Respond to events or anomalies in the data immediately.
     </li>
<li 
  class="enumerate" id="x1-186006x3">
     <!--l. 4550--><p class="noindent" >Continuously update the application state based on incoming data.
     </li>
<li 
  class="enumerate" id="x1-186008x4">
     <!--l. 4551--><p class="noindent" >Handle large-scale data streams with low latency requirements.</li></ol>
                                                                                            
                                                                                            
<!--l. 4554--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.14   </span> <a 
 id="x1-18700012.14"></a>Identify the kind of message exchange pattern</h4>
<!--l. 4556--><p class="noindent" >The kind of message exchange pattern depends on the specific use case and system requirements. Common patterns
include:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-187002x1">
     <!--l. 4559--><p class="noindent" ><span 
class="ecbx-1000">Publish-subscribe</span>: Producers publish messages to a shared topic, and consumers subscribe to topics to
     receive messages.
     </li>
<li 
  class="enumerate" id="x1-187004x2">
     <!--l. 4561--><p class="noindent" ><span 
class="ecbx-1000">Point-to-point</span>: Producers send messages directly to specific consumers, with each message consumed
     by a single consumer.
     </li>
<li 
  class="enumerate" id="x1-187006x3">
     <!--l. 4563--><p class="noindent" ><span 
class="ecbx-1000">Request-reply</span>: A synchronous pattern where the sender expects a response for each sent message.</li></ol>
<!--l. 4567--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.15   </span> <a 
 id="x1-18800012.15"></a>Simulate the mesh-join algorithm</h4>
<!--l. 4569--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.16   </span> <a 
 id="x1-18900012.16"></a>Estimate the cost of the mesh-join algorithm</h4>
<!--l. 4571--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.17   </span> <a 
 id="x1-19000012.17"></a>Use windowing transformations in Spark streaming</h4>
   <!--l. 4573-->
<div class="lstlisting" id="listing-7"><span class="label"><a 
 id="x1-190001r1"></a><span 
class="ecrm-0500">1</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">from</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">pyspark</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">streaming</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">import</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">StreamingContext</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190002r2"></a><span 
class="ecrm-0500">2</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">from</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">pyspark</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">import</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">SparkContext</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190003r3"></a><span 
class="ecrm-0500">3</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190004r4"></a><span 
class="ecrm-0500">4</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Initialize</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Spark</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">context</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">and</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">streaming</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">context</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">with</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">a</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">batch</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">interval</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">of</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">1</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">second</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190005r5"></a><span 
class="ecrm-0500">5</span></span><span style="color:#000000"><span 
class="ectt-0800">sc</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">SparkContext</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">local</span></span><span style="color:#9400D1"><span 
class="ectt-0800">[*]</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">WindowedWordCount</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190006r6"></a><span 
class="ecrm-0500">6</span></span><span style="color:#000000"><span 
class="ectt-0800">ssc</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">StreamingContext</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#000000"><span 
class="ectt-0800">sc</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">1)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190007r7"></a><span 
class="ecrm-0500">7</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190008r8"></a><span 
class="ecrm-0500">8</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Set</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">checkpoint</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">directory</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">for</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">fault</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">tolerance</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190009r9"></a><span 
class="ecrm-0500">9</span></span><span style="color:#000000"><span 
class="ectt-0800">ssc</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">checkpoint</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">checkpoint</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190010r10"></a><span 
class="ecrm-0500">10</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190011r11"></a><span 
class="ecrm-0500">11</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Read</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">data</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">from</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">a</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">text</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">stream</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190012r12"></a><span 
class="ecrm-0500">12</span></span><span style="color:#000000"><span 
class="ectt-0800">lines</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">ssc</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">socketTextStream</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">localhost</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">9999)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190013r13"></a><span 
class="ecrm-0500">13</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190014r14"></a><span 
class="ecrm-0500">14</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Split</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">lines</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">into</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">words</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">and</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">create</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">pairs</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">(</span></span><span style="color:#009900"><span 
class="ectt-0800">word</span></span><span style="color:#009900"><span 
class="ectt-0800">,</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">1)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190015r15"></a><span 
class="ecrm-0500">15</span></span><span style="color:#000000"><span 
class="ectt-0800">words</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">lines</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">flatMap</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">lambda</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">line</span></span><span style="color:#000000"><span 
class="ectt-0800">:</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">line</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">split</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#9400D1"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#9400D1"><span 
class="ectt-0800">"</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">map</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">lambda</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">word</span></span><span style="color:#000000"><span 
class="ectt-0800">:</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#000000"><span 
class="ectt-0800">word</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">1)</span></span><span style="color:#000000"><span 
class="ectt-0800">)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190016r16"></a><span 
class="ecrm-0500">16</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190017r17"></a><span 
class="ecrm-0500">17</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Reduce</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">word</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">pairs</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">within</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">a</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">window</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">of</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">10</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">seconds</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">and</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">sliding</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">interval</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">of</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">2</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">seconds</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190018r18"></a><span 
class="ecrm-0500">18</span></span><span style="color:#000000"><span 
class="ectt-0800">windowed_word_counts</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">=</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">words</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">reduceByKeyAndWindow</span></span><span style="color:#000000"><span 
class="ectt-0800">(</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">lambda</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">a</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">b</span></span><span style="color:#000000"><span 
class="ectt-0800">:</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">a</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">+</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">b</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#FF00FF"><span 
class="ectt-0800">lambda</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">a</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">b</span></span><span style="color:#000000"><span 
class="ectt-0800">:</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">a</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">-</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">b</span></span><span style="color:#000000"><span 
class="ectt-0800">,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">windowDuration</span></span><span style="color:#000000"><span 
class="ectt-0800">=10,</span></span><span style="color:#000000"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#000000"><span 
class="ectt-0800">slideDuration</span></span><span style="color:#000000"><span 
class="ectt-0800">=2)</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190019r19"></a><span 
class="ecrm-0500">19</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190020r20"></a><span 
class="ecrm-0500">20</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Print</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">word</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">counts</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">within</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">window</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190021r21"></a><span 
class="ecrm-0500">21</span></span><span style="color:#000000"><span 
class="ectt-0800">windowed_word_counts</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">pprint</span></span><span style="color:#000000"><span 
class="ectt-0800">()</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190022r22"></a><span 
class="ecrm-0500">22</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190023r23"></a><span 
class="ecrm-0500">23</span></span><span style="color:#009900"><span 
class="ectt-0800">#</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">Start</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">the</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">streaming</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">context</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">and</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">wait</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">for</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">it</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">to</span></span><span style="color:#009900"><span 
class="ectt-0800">&#x00A0;</span></span><span style="color:#009900"><span 
class="ectt-0800">terminate</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190024r24"></a><span 
class="ecrm-0500">24</span></span><span style="color:#000000"><span 
class="ectt-0800">ssc</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">start</span></span><span style="color:#000000"><span 
class="ectt-0800">()</span></span><span 
class="ectt-0800">&#x00A0;</span><br /> 
<span class="label"><a 
 id="x1-190025r25"></a><span 
class="ecrm-0500">25</span></span><span style="color:#000000"><span 
class="ectt-0800">ssc</span></span><span style="color:#000000"><span 
class="ectt-0800">.</span></span><span style="color:#000000"><span 
class="ectt-0800">awaitTermination</span></span><span style="color:#000000"><span 
class="ectt-0800">()</span></span></div>
<!--l. 4602--><p class="noindent" >In this example, we first create a DStream from a socket text stream. We then split each line into words and create
key-value pairs for each word. The key is the word itself, and the value is 1, representing a single occurrence of the
word.
<!--l. 4607--><p class="indent" >   We then use the reduceByKeyAndWindow function to calculate the word count within a sliding window.
In this case, the window duration is set to 10 seconds, and the slide duration is set to 2 seconds. The
reduceByKeyAndWindow function takes two lambda functions as arguments - the first one is used to add the values
when a new RDD enters the window, and the second one is used to subtract the values when an RDD exits the
window.
<!--l. 4615--><p class="indent" >   Finally, we print the word counts within the window using the pprint function and start the streaming context. The
streaming context will run until terminated by the user or an error occurs.
<!--l. 4619--><p class="indent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">13   </span> <a 
 id="x1-19100013"></a>Data Stream Analysis</h3>
<!--l. 4624--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.1   </span> <a 
 id="x1-19200013.1"></a>Explain the difference between generic one-pass algorithms and stream processing</h4>
<!--l. 4626--><p class="noindent" >One-pass algorithms and stream processing are both designed to handle data that can&#8217;t be stored in its entirety due to
its size. However, they differ in their approach and specific use cases. A <span id="textcolor78">one-pass algorithm</span>, as the name suggests,
processes the data in one pass, typically reading from a dataset that&#8217;s stored in a file or a database. It aims to make the
best decision or computation at each step with the information available, without the ability to revisit the
data.
<!--l. 4634--><p class="indent" >   <span id="textcolor79">Stream processing</span>, on the other hand, is a type of computing that deals with continuously incoming data streams. It
processes the data on-the-go, often in real-time or near-real-time, without waiting for all data to arrive or be stored.
Stream processing can handle &#8217;infinite&#8217; data streams, which are never-ending and timely, while one-pass algorithms are
generally used with &#8217;finite&#8217; data sets.
<!--l. 4641--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.2   </span> <a 
 id="x1-19300013.2"></a>Name the two challenges of stream processing</h4>
<!--l. 4642--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-193002x1">
     <!--l. 4643--><p class="noindent" >Limited computation capacity: Stream processing involves real-time or near-real-time processing of data.
     The rate at which the data arrives might exceed the processing capability of the system, causing data loss
     or delayed processing.
     </li>
<li 
  class="enumerate" id="x1-193004x2">
     <!--l. 4647--><p class="noindent" >Limited memory capacity: In stream processing, data is continuously arriving. The system might not have
     enough memory to store all arriving elements, especially if the data arrival rate is very high, posing a
     challenge to keep track of the entire history of the stream.</li></ol>
<!--l. 4653--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.3   </span> <a 
 id="x1-19400013.3"></a>Name two solutions to limited processing capacity</h4>
<!--l. 4654--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-194002x1">
     <!--l. 4655--><p class="noindent" >Probabilistically drop some stream elements through uniform random sampling on the stream. A widely
     known technique is <span id="textcolor80">Load shedding</span>.
     </li>
<li 
  class="enumerate" id="x1-194004x2">
     <!--l. 4658--><p class="noindent" >Filter out some elements of the stream based on some characteristic of the data. For example, using <span id="textcolor81">Bloom
     filters</span>.</li></ol>
                                                                                            
                                                                                            
<!--l. 4662--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.4   </span> <a 
 id="x1-19500013.4"></a>Name three solutions to limited memory capacity</h4>
<!--l. 4663--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-195002x1">
     <!--l. 4664--><p class="noindent" >Focus on only part of the stream, ignoring the rest, by means of a Sliding window.
     </li>
<li 
  class="enumerate" id="x1-195004x2">
     <!--l. 4666--><p class="noindent" >Weight the elements of the stream depending on their position, so that we can keep track of the aggregate
     without keeping each and every element. Moreover, if we are not interested in the elements not present
     in the stream recently, we can define a threshold to filter them out. This is done with an exponentially
     decaying window.
     </li>
<li 
  class="enumerate" id="x1-195006x3">
     <!--l. 4671--><p class="noindent" >Keeping a summary structure that allows to approximate the response to some queries. These structures
     are usually called Synopsis.</li></ol>
<!--l. 4676--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.5   </span> <a 
 id="x1-19600013.5"></a>Decide the probability of keeping a new element or removing an old one from memory to keep
equi-probability on load shedding</h4>
<!--l. 4678--><p class="noindent" >If there are <span 
class="cmmi-10">p </span>memory positions and we have seen <span 
class="cmmi-10">n </span>elements in the stream, then the probability of keeping the new
element <span 
class="cmmi-10">n </span><span 
class="cmr-10">+ 1 </span>is
   <div class="math-display" >
<img 
src="summary25x.png" alt="        p
Prin = n+-1,
" class="math-display" ></div>
<!--l. 4684--><p class="indent" >   and if it is kept, then we remove elements from memory with probability
   <div class="math-display" >
<img 
src="summary26x.png" alt="P rout = 1.
        p
" class="math-display" ></div>
                                                                                            
                                                                                            
<!--l. 4691--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.6   </span> <a 
 id="x1-19700013.6"></a>Decide the parameters of the hash function to get a representative result on load shedding</h4>
<!--l. 4693--><p class="noindent" >We should take a hash function mapping to a large number of values, <span 
class="cmmi-10">M</span>, and keep only elements mapping to a value
below <span 
class="cmmi-10">t</span>. We dynamically reduce <span 
class="cmmi-10">t </span>as we run out of memory.
<!--l. 4697--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.7   </span> <a 
 id="x1-19800013.7"></a>Decide the optimum number of hash functions in a Bloom filter</h4>
<!--l. 4699--><p class="noindent" >If the filter has <span 
class="cmmi-10">n </span>bits and we expect to have <span 
class="cmmi-10">m </span>different key values, then the optimal amount of hash functions
is
   <div class="math-display" >
<img 
src="summary27x.png" alt="k = n-log 2.
    m
" class="math-display" ></div>
<!--l. 4706--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.8   </span> <a 
 id="x1-19900013.8"></a>Approximate the probability of false positives in a Bloom filter</h4>
<!--l. 4708--><p class="noindent" >The probability of false positives is around
   <div class="math-display" >
<img 
src="summary28x.png" alt="        (     km )k
P rFP =  1- e- n   ,
" class="math-display" ></div>
<!--l. 4712--><p class="indent" >   where <span 
class="cmmi-10">n </span>is the size of the filter, <span 
class="cmmi-10">m </span>is the number of keys and <span 
class="cmmi-10">k </span>is the number of hash functions. In the case of
optimal <span 
class="cmmi-10">k</span>, it is
   <div class="math-display" >
<img 
src="summary29x.png" alt="       (  )
         1  k       nm-
P rF P =  2   ~ 0.618  .
" class="math-display" ></div>
                                                                                            
                                                                                            
<!--l. 4721--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.9   </span> <a 
 id="x1-20000013.9"></a>Calculate the weighted average of an attribute considering and exponentially decaying function</h4>
<!--l. 4723--><p class="noindent" >
   <div class="math-display" >
<img 
src="summary30x.png" alt="         T+1               ( T            )
         &#x2211;          T+1-i   &#x2211;          T-i
AvgT+1 =    ai(1- c)     =      ai(1 - c)     &#x22C5;(1- c)+ aT+1 = AvgT &#x22C5;(1 - c)+ aT+1,
         i=0                 i=0
" class="math-display" ></div>
<!--l. 4726--><p class="indent" >   where <span 
class="cmmi-10">c </span>is a small constant, <span 
class="cmmi-10">T </span>is the current time, <span 
class="cmmi-10">a</span><sub><span 
class="cmmi-7">t</span></sub> is the element at time <span 
class="cmmi-10">t </span>or 0 if there is no element, and
<span 
class="cmmi-10">g</span><img 
src="summary31x.png" alt="(T - t)"  class="left" align="middle"> <span 
class="cmr-10">= </span><img 
src="summary32x.png" alt="(1- c)"  class="left" align="middle"><sup><span 
class="cmmi-7">T</span><span 
class="cmsy-7">-</span><span 
class="cmmi-7">t</span></sup> is the weight at time <span 
class="cmmi-10">T </span>of an item obtained at time <span 
class="cmmi-10">t</span>.
<!--l. 4730--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">13.10   </span> <a 
 id="x1-20100013.10"></a>Decide if heavy hitters will show false positives</h4>
<!--l. 4732--><p class="noindent" >It is possible to show false positives, depending on the stream.
<!--l. 4734--><p class="indent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">14   </span> <a 
 id="x1-20200014"></a>Big Data Architectures</h3>
<!--l. 4738--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.1   </span> <a 
 id="x1-20300014.1"></a>Explain the problem of a spaguetti architecture</h4>
<!--l. 4740--><p class="noindent" >In Big Data contexts, it is common to find different requirements for different tasks, as well as different tools that
provide means to perform these tasks, with different capabilities. Therefore, we can have different tasks spread over
different independent and heterogeneous systems. For example, just looking at Hadoop, we find HDFS and
HBase for storage, HCatalog for modeling, Sqoop for ingestion, Spark for processing and SparQL for
querying.
<!--l. 4748--><p class="indent" >   The spaguetti architecture arises when we solve our tasks&#8217; requirements one by one, finding what we consider the
best option for that specific task at each moment. This implies that we will end up using tens of different tools, making
integration more costly, creating artificially complex pipelines and difficulting the scalability of the system as a whole.
Therefore, architectural designs arise to avoid this problem.
<!--l. 4755--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.2   </span> <a 
 id="x1-20400014.2"></a>Explain the need of the Lambda Architecture</h4>
<!--l. 4757--><p class="noindent" >The Lambda Architecture addresses the problem of computing arbitrary functions on arbitrary data in real-time by
combining both batch and stream processing methods. This makes it possible to handle both low-latency real-time data
and keep the benefits of batch processing for more complex analytics.
<!--l. 4763--><p class="indent" >   Batch layer stores all incoming data and allows for computation over large data sets, while the speed layer deals
with recent data to provide real-time views. This allows the system to provide precomputed views from
the batch layer and recent data views from the speed layer, meeting the demands of both latency and
accuracy.
<!--l. 4769--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.3   </span> <a 
 id="x1-20500014.3"></a>Explain the difference between Kappa and Lambda Architectures</h4>
<!--l. 4771--><p class="noindent" >The Lambda Architecture includes two layers, the batch and the speed layer, while the Kappa Architecture only uses a
streaming layer. Lambda uses batch processing for handling large data sets and stream processing for real-time data,
while Kappa uses stream processing for all data. Kappa Architecture is often simpler because it only requires
maintaining one system, but it may not be suitable for all kinds of computations, especially for those that are naturally
easier to express as batch computations.
<!--l. 4780--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.4   </span> <a 
 id="x1-20600014.4"></a>Justify the need of a Data Lake</h4>
<!--l. 4782--><p class="noindent" >The main idea of a Data Lake is <span 
class="ecbx-1000">Load-first,Model-later</span>. In traditional analytical frameworks, the approach is to
model the schema beforehand, in a Model-first,Load-later manner. This approach restricts the potential analysis that
could be done in the data, since all information that is not compliant with the defined schema is lost. Therefore, the
idea is to store the raw data and then create on-demand views of this raw data to handle all analysis that we might
need in the future. The problems of this approach, usual in traditional Data Warehouses systems are that the
<span id="textcolor82">transformations become permanent</span>, the <span id="textcolor83">schema is fixed</span> and that the users of the data need to comply with the
schema as well, imposing them to learn the schema, what can be done, and what cannot (<span id="textcolor84">high entry
barriers</span>).
<!--l. 4796--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.5   </span> <a 
 id="x1-20700014.5"></a>Identify the difficulties of a Data Lake</h4>
<!--l. 4798--><p class="noindent" >If we don&#8217;t organize properly the Data Lake, then it could become really hard to track all the data that is stored in it,
effectively transforming the Data Lake into what is called a <span id="textcolor85">Data Swamp</span>. The second problem is that, since each
required analysis will need <span id="textcolor86">specific processing</span>, it is easy to end up having lots of different transformation pipelines,
                                                                                            
                                                                                            
which are very case-specific and can be hard to reuse.
<!--l. 4806--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.6   </span> <a 
 id="x1-20800014.6"></a>Explain the need of each component in the Bolster Architecture</h4>
<!--l. 4808--><p class="noindent" >The Bolster Architecture is a reference architecture for Big Data systems. It was designed to facilitate the design of Big
Data systems in multiple organizations and performed by a research-oriented team. The architecture is based on two
families of Big Data architectures and leverages the Big Data dimensions (the five "V&#8217;s") and the requirements defined
for each of them.
<!--l. 4815--><p class="indent" >   The Bolster Architecture consists of several components, each with a specific function:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4818--><p class="noindent" ><span 
class="ecbx-1000">Semantic Layer</span>: This layer contains the Metadata Management System (MDM), which is responsible
     for providing the other components with the necessary information to describe and model raw data, as
     well as keeping the footprint about data usage. The MDM contains all the metadata artifacts, represented
     by means of RDF ontologies leveraging the benefits provided by Semantic Web technologies, needed to
     deal with data governance and assist data exploitation.
     </li>
     <li class="itemize">
     <!--l. 4825--><p class="noindent" ><span 
class="ecbx-1000">Batch Layer</span>: This layer stores a copy of the master data set in raw format as data are ingested. This
     layer also pre-computes Batch Views that are provided to the Serving Layer.
     </li>
     <li class="itemize">
     <!--l. 4828--><p class="noindent" ><span 
class="ecbx-1000">Speed Layer</span>: This layer ingests and processes real-time data in the form of streams. Results are then
     stored, indexed, and published in Real-time Views.
     </li>
     <li class="itemize">
     <!--l. 4831--><p class="noindent" ><span 
class="ecbx-1000">Serving Layer</span>: Similarly to the Speed Layer, this layer also stores, indexes, and publishes data resulting
     from the Batch Layer processing in Batch Views.</li></ul>
<!--l. 4835--><p class="noindent" >The Bolster Architecture addresses the two main drawbacks identified in the <span 
class="cmmi-10">&#x03BB;</span>-architecture: it considers Variety,
Variability, and Veracity as first-class citizens and refines the <span 
class="cmmi-10">&#x03BB;</span>-architecture to facilitate its instantiation. These changes
boil down to a precise definition of the components and their interconnections.
<!--l. 4841--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.7   </span> <a 
 id="x1-20900014.7"></a>Map the components of the Bolster Architecture to the RDBMS Architecture</h4>
<!--l. 4843--><p class="noindent" >The <span id="textcolor87">Semantic Layer</span> in the Bolster Architecture, which contains the Metadata Management System (MDM), can be
compared to the <span id="textcolor88">system catalog</span> in an RDBMS. The MDM stores machine-readable semantic annotations, similar to
how the system catalog in an RDBMS stores metadata about the database.
<!--l. 4849--><p class="indent" >   The <span id="textcolor89">Batch Layer, Speed Layer, and Serving Layer</span> in the Bolster Architecture handle data storage and processing.
These layers can be compared to the <span id="textcolor90">data storage and processing</span> components of an RDBMS.
<!--l. 4854--><p class="indent" >   The Batch Layer stores a copy of the master data set in raw format as data are ingested and pre-computes Batch
Views that are provided to the Serving Layer. This is similar to how an RDBMS stores and processes
data.
<!--l. 4859--><p class="indent" >   The Speed Layer ingests and processes real-time data in the form of streams. Results are then stored, indexed, and
published in Real-time Views. This can be compared to the real-time data processing capabilities of some
RDBMSs.
<!--l. 4864--><p class="indent" >   The Serving Layer stores, indexes, and publishes data resulting from the Batch Layer processing in Batch Views.
This is similar to how an RDBMS stores, indexes, and retrieves data.
                                                                                            
                                                                                            
<!--l. 4868--><p class="indent" >   However, it&#8217;s important to note that the Bolster Architecture and an RDBMS have different purposes and are
designed to handle different types of data and workloads. The Bolster Architecture is designed for Big Data systems,
which often involve processing large volumes of unstructured or semi-structured data, while an RDBMS is typically
used for structured data and transactional workloads.
<!--l. 4875--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">14.8   </span> <a 
 id="x1-21000014.8"></a>Given a use case, define its software architecture</h4>
<!--l. 4877--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="sectionHead"><span class="titlemark">15   </span> <a 
 id="x1-21100015"></a>In-Memory Columnar Databases (New Relational Architecture)</h3>
<!--l. 4881--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.1   </span> <a 
 id="x1-21200015.1"></a>Justify the viability of in-memory databases</h4>
<!--l. 4883--><p class="noindent" >In-memory databases store data in the main memory (RAM) of a computer rather than on disk, which
results in much faster access times and thus faster query processing. Here are some reasons justifying their
viability:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4888--><p class="noindent" >Increased performance: Accessing data in memory is orders of magnitude faster than disk-based storage,
     reducing response times for data retrieval and analysis.
     </li>
     <li class="itemize">
     <!--l. 4891--><p class="noindent" >Real-time  analytics:  In-memory  databases  can  handle  complex  queries  and  perform  transactions  in
     real-time, which is crucial for applications requiring immediate insight, like financial trading systems or
     telecommunications networks.
     </li>
     <li class="itemize">
     <!--l. 4895--><p class="noindent" >Scalability:  Modern  systems  provide  capabilities  to  distribute  data  across  multiple  servers,  allowing
     in-memory databases to scale horizontally to accommodate larger data sets.
     </li>
     <li class="itemize">
     <!--l. 4898--><p class="noindent" >Reduced  complexity:  Because  data  is  stored  in  memory,  there  is  no  need  to  maintain  indexes  or
     perform complex optimizations that are typically required with disk-based databases, simplifying database
     management.</li></ul>
<!--l. 4903--><p class="noindent" >However, it&#8217;s worth noting that in-memory databases also have their trade-offs. They can be more expensive due to the
cost of RAM, and they can also face challenges with data persistence, as data in memory is volatile. But
these challenges can often be overcome with techniques like database replication and persistent storage
backups.
<!--l. 4909--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.2   </span> <a 
 id="x1-21300015.2"></a>Explain the principles of NUMA architecture</h4>
<!--l. 4911--><p class="noindent" >NUMA (Non-Uniform Memory Access) is a computer memory design used in multiprocessing, where the memory
access time depends on the memory location relative to the processor. Under NUMA, a processor can
access its own local memory faster than non-local memory (memory local to another processor or memory
shared between processors). This facilitates scaling up by growing a single machine. There are two main
trade-offs:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4918--><p class="noindent" >The smaller the memory, the less latency and higher bandwidth.
     </li>
     <li class="itemize">
     <!--l. 4919--><p class="noindent" >The more performant the memory, the more expensive it is.</li></ul>
<!--l. 4921--><p class="noindent" >Also, this architecture allows parallelism in the different cores and CPUs.
<!--l. 4924--><p class="indent" >   This architecture is also much faster and expensive than a cluster of shared-nothing machines, but it&#8217;s clear that
they are also much harder to manage if we want to push it to its full potential. The principles of NUMA
are:
                                                                                            
                                                                                            
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4929--><p class="noindent" >Local Memory: Each processor in a NUMA architecture has its own local memory. When a processor
     needs to access data from its own local memory, it can do so quickly.
     </li>
     <li class="itemize">
     <!--l. 4932--><p class="noindent" >Non-local Memory: When a processor needs to access memory that isn&#8217;t local (i.e., memory that is attached
     to a different processor), it can take longer. This is because the processor must go over the interconnect
     bus to reach the memory associated with the other processor.
     </li>
     <li class="itemize">
     <!--l. 4936--><p class="noindent" >Processor Interconnect: The processors in a NUMA system are connected through an interconnect bus.
     This interconnect can be used to share data between processors.
     </li>
     <li class="itemize">
     <!--l. 4939--><p class="noindent" >Scalability: NUMA architecture is designed to scale. As more processors are added, more local memory is
     added to the system, potentially improving overall system performance.</li></ul>
<!--l. 4943--><p class="noindent" >NUMA architectures are used in systems with large numbers of processors, providing benefits over traditional symmetric
multiprocessing (SMP) systems. However, to get the best performance from a NUMA system, software (like a
database management system) should be NUMA-aware and designed to minimize non-local memory
accesses.
<!--l. 4949--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.3   </span> <a 
 id="x1-21400015.3"></a>Enumerate 3 techniques to optimize cache usage</h4>
<!--l. 4950--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-214002x1">
     <!--l. 4951--><p class="noindent" ><span 
class="ecbx-1000">Locality awareness</span>: aims at reducing the number of idle CPU cycles waiting for the arrival of data.
     The system can benefit from <span id="textcolor91">spacial locality</span>, i.e., there is a high chance of accessing data contiguous to
     data already accessed; and <span id="textcolor92">temporal locality</span>, i.e., there is a high chance of accessing data that has been
     recently accessed.
     </li>
<li 
  class="enumerate" id="x1-214004x2">
     <!--l. 4957--><p class="noindent" ><span 
class="ecbx-1000">Flexible caching</span>: has the purpose of bringing and keeping as much relevant data as possible in cache. It
     is related to associativity which describes how different blocks of memory map to the same cache location.
     A fully associative cache allows a memory block to be placed in any cache location. This flexibility allows
     the cache to store more relevant data, but it comes at the cost of increased complexity and slower lookup
     times. Therefore: low associativity facilitates searching, since a disk block can only be found in few places,
     but complicates replacement. High associativity facilitates replacement, but makes it more difficult for
     searching.
     </li>
<li 
  class="enumerate" id="x1-214006x3">
     <!--l. 4967--><p class="noindent" ><span 
class="ecbx-1000">Cache-concious design</span>: this is relevant for DBMS developers, that need to be aware of cache line size,
     to only use multiple of that size in the code, optimizing access to data.</li></ol>
                                                                                            
                                                                                            
<!--l. 4972--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.4   </span> <a 
 id="x1-21500015.4"></a>Give 4 arguments supporting columnar storage</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4974--><p class="noindent" >Higher data compression ratios. Columnar storage allows for better data compression, as the data stored
     in a column is usually of the same type, leading to a high degree of redundancy. Techniques like run-length
     encoding, dictionary encoding, and bitmap encoding can be applied for more effective data compression.
     </li>
     <li class="itemize">
     <!--l. 4979--><p class="noindent" >Higher  performance  for  column  operations.  Columnar  storage  is  ideal  for  OLAP  (Online  Analytical
     Processing) queries which typically scan and aggregate over a small subset of the total columns in the
     table. Since data is stored column-wise, it can lead to significant IO reduction and faster execution times.
     </li>
     <li class="itemize">
     <!--l. 4984--><p class="noindent" >Parallelization. Columnar storage enables efficient parallel processing, as operations can be performed on
     individual columns independently. This allows for more efficient use of modern hardware architectures,
     including multi-core CPUs and vectorized instruction sets.
     </li>
     <li class="itemize">
     <!--l. 4988--><p class="noindent" >Elimination of additional indexes.</li></ul>
<!--l. 4992--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.5   </span> <a 
 id="x1-21600015.5"></a>Explain 3 classical optimization techniques in RDBMS related to column storage</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 4994--><p class="noindent" >Vertical partitioning: each table can be split as a set of two-column partitions <img 
src="summary33x.png" alt="(key,attributes)"  class="left" align="middle">, which
     improves useful reads ratio. This helps in optimizing query performance by reducing the amount of data
     scanned for a particular query. If a query only requires a subset of the total columns in a table, it&#8217;s more
     efficient to scan a vertically partitioned table that contains only those necessary columns.
     </li>
     <li class="itemize">
     <!--l. 5001--><p class="noindent" >Use index-only query plans: we can create a collection of indexes that cover all columns used in a query,
     so no table access is needed.
     </li>
     <li class="itemize">
     <!--l. 5003--><p class="noindent" >Use a collection of materialized views, such that there is a view with exactly the columns needed to answer
     the queries.</li></ul>
<!--l. 5007--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.6   </span> <a 
 id="x1-21700015.6"></a>Sketch the functional architecture of SanssouciuDB</h4>
                                                                                            
                                                                                            
<!--l. 5010--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.7   </span> <a 
 id="x1-21800015.7"></a>Explain 4 optimizations implemented in SanssouciuDB to improve data access</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 5012--><p class="noindent" >Use stored procedures.
     </li>
     <li class="itemize">
     <!--l. 5013--><p class="noindent" >Data ages by dynamic horizontal partitioning, depending on the lifecycle of objects. By default, only active
     data is incorporated into query processing. The definition of active data is given by the application.
     </li>
     <li class="itemize">
     <!--l. 5016--><p class="noindent" >Modifications are performed on a differential buffer, with a merge process carried out per table. This
     implies decompressing the table and compressing everything back again. This is done on-line.
     </li>
     <li class="itemize">
     <!--l. 5019--><p class="noindent" >There are append-only tables, being timepoint representation for OLTP and interval representation for
     OLAP.</li></ul>
<!--l. 5023--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.8   </span> <a 
 id="x1-21900015.8"></a>Explain how to choose the best layout</h4>
<!--l. 5025--><p class="noindent" >We should choose <span 
class="ecbx-1000">columnar storage </span>when:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 5027--><p class="noindent" >Calculations are executed on a single column or a few columns only.
     </li>
     <li class="itemize">
     <!--l. 5028--><p class="noindent" >The table is searched based on the values of a few columns.
     </li>
     <li class="itemize">
     <!--l. 5029--><p class="noindent" >The table has a large number of columns.
     </li>
     <li class="itemize">
     <!--l. 5030--><p class="noindent" >The table has a large number of rows, and columnar operations are required.
     </li>
     <li class="itemize">
     <!--l. 5032--><p class="noindent" >The majority of columns contain only a few distinct values, resulting in high compression rates.</li></ul>
<!--l. 5035--><p class="noindent" >We should choose <span 
class="ecbx-1000">row storage </span>when:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 5037--><p class="noindent" >The table has a small number of rows, such as configuration tables.
     </li>
     <li class="itemize">
     <!--l. 5038--><p class="noindent" >The application needs to process only a single record at a time (many selects of updates of single records).
                                                                                            
                                                                                            
     </li>
     <li class="itemize">
     <!--l. 5040--><p class="noindent" >The application typically needs to access the complete records.
     </li>
     <li class="itemize">
     <!--l. 5041--><p class="noindent" >The columns contain mainly distinct values, so compression rates would be low.
     </li>
     <li class="itemize">
     <!--l. 5043--><p class="noindent" >Aggregations and fast searching are not required.</li></ul>
<!--l. 5047--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.9   </span> <a 
 id="x1-22000015.9"></a>Identify the difference between column-stores and NOSQL related to transactions</h4>
<!--l. 5049--><p class="noindent" >In column-stores, we avoid replication management by only storing atomic data, relying on the performance obtained in
aggregate queries. With on-the-fly aggregation, the aggregate values are always up-to-date. Also, we reach this way
higher concurrency, since we can aggregate different measures concurrently for different columns. We can still replicate
some small and static tables. Since these systems provide full ACID support, the consistency is strong, in a
eager/secondary-copy synchronization mechanism scheme.
<!--l. 5058--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.10   </span> <a 
 id="x1-22100015.10"></a>Explain 3 difficulties of pipelining in column-stores</h4>
<!--l. 5059--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-221002x1">
     <!--l. 5060--><p class="noindent" ><span 
class="ecbx-1000">Short process trees</span>: In column-stores, operations are often applied to each column independently, which
     can result in a shallow process tree (with few levels of nested operations). This can limit the opportunities
     for pipelining, as each operation may complete quickly and there may be fewer opportunities to overlap
     operations.
     </li>
<li 
  class="enumerate" id="x1-221004x2">
     <!--l. 5065--><p class="noindent" >Some operators need <span 
class="ecbx-1000">all input data at once</span>: Certain operators, like sort or aggregate, need to process
     the entire input column before they can produce any output. This can make it more difficult to pipeline
     operations, as you have to wait for these operators to complete before passing their output to the next
     operator in the pipeline.
     </li>
<li 
  class="enumerate" id="x1-221006x3">
     <!--l. 5070--><p class="noindent" ><span 
class="ecbx-1000">Skewed cost of operations</span>: In column-stores, the cost of operations can vary significantly depending
     on the specific column and operation. For example, operations on a column with a high cardinality (many
     unique values) or a large amount of data may be more expensive than operations on a column with low
     cardinality or less data. This skew can make it harder to evenly distribute work across a pipeline and
     maintain high throughput.</li></ol>
                                                                                            
                                                                                            
<!--l. 5079--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.11   </span> <a 
 id="x1-22200015.11"></a>Explain 3 problems to implement parallelism in in-memory column-stores</h4>
<!--l. 5080--><p class="noindent" >
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-222002x1">
     <!--l. 5081--><p class="noindent" ><span 
class="ecbx-1000">High startup cost</span>: Parallelism involves dividing a task among multiple processing units. However, there
     is a startup cost associated with setting up these parallel tasks, including the time to divide the task and
     synchronize the results. If the tasks are too small or the number of tasks is too high, the overhead of
     managing these tasks can outweigh the benefits of parallel execution.
     </li>
<li 
  class="enumerate" id="x1-222004x2">
     <!--l. 5087--><p class="noindent" ><span 
class="ecbx-1000">Contention </span>(at harware level): Parallel tasks often need to access shared resources, such as memory or
     input/output devices. If multiple tasks try to access these resources at the same time, they can interfere
     with each other, leading to contention. This can degrade performance and limit the effectiveness of parallel
     execution.
     </li>
<li 
  class="enumerate" id="x1-222006x3">
     <!--l. 5092--><p class="noindent" ><span 
class="ecbx-1000">Skewness</span>: refers to a situation where the data or the workload is not evenly distributed across the tasks.
     For example, if one task gets assigned a larger portion of the data or a more complex operation, it can
     take longer to complete than the other tasks. This can cause the other tasks to sit idle while waiting for
     the skewed task to complete, reducing the overall efficiency of parallel execution.</li></ol>
<!--l. 5100--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.12   </span> <a 
 id="x1-22300015.12"></a>Explain 5 query optimization techniques specific to columnar storage</h4>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 5102--><p class="noindent" ><span 
class="ecbx-1000">Late materialization</span>: In column-stores, a query result is usually composed by combining values from
     multiple  columns.  With  late  materialization,  the  database  delays  combining  these  values  as  long  as
     possible. This allows the database to operate on smaller amounts of data, which can significantly improve
     performance for queries that only need a subset of a table&#8217;s columns.
     </li>
     <li class="itemize">
     <!--l. 5108--><p class="noindent" ><span 
class="ecbx-1000">Tuples are identified by position</span>: In columnar databases, tuples (or rows) are often identified by their
     position in the column rather than by a unique key. This allows the database to directly access the relevant
     data in each column without having to perform an additional lookup, which can improve performance.
     </li>
     <li class="itemize">
     <!--l. 5113--><p class="noindent" ><span 
class="ecbx-1000">Column-specific compression techniques</span>: Because all the values in a column are of the same type,
     columnar databases can use specialized compression techniques that take advantage of this uniformity.
     Techniques such as dictionary encoding, run-length encoding, and bitmap encoding can achieve high
     compression rates and improve query performance by reducing I/O.
     </li>
     <li class="itemize">
                                                                                            
                                                                                            
     <!--l. 5119--><p class="noindent" ><span 
class="ecbx-1000">Block iteration</span>: Columnar databases often store data in blocks, each containing a subset of a column&#8217;s
     values. By iterating over these blocks instead of individual values, the database can reduce CPU cache
     misses and improve performance. Values inside a block can be iterated as in an array (they are fixed-width),
     codified/compressed together, and exploited for parallelism of pipelining. When we combine block iteration
     with late materialization, we are doing what is called <span 
class="ecbx-1000">vectorized query processing</span>.
     </li>
     <li class="itemize">
     <!--l. 5127--><p class="noindent" ><span 
class="ecbx-1000">Specific join algorithms</span>: Joining tables is a common operation in relational databases. In columnar
     databases, join operations can be optimized by using algorithms that take advantage of the columnar
     storage format. For example, a hash join can be more efficient in a columnar database because it operates
     on individual columns and can take advantage of column-specific compression.</li></ul>
<!--l. 5136--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.13   </span> <a 
 id="x1-22400015.13"></a>Given a data setting, justify the choice of either row or column storage</h4>
<!--l. 5139--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">15.14   </span> <a 
 id="x1-22500015.14"></a>Given the data in a column, use run-length encoding with dictionary to compress it</h4>
<!--l. 5141--><p class="noindent" >
                                                                                            
                                                                                            
   <h3 class="likesectionHead"><a 
 id="x1-22600015.14"></a>References</h3>
<!--l. 1--><p class="noindent" >
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="XAbello2022"></a>Alberto Abelló and Sergi Nadal. Big data management. Lecture Notes.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [2]<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xabiteboul_manolescu_rigaux_rousset_senellart_2011"></a>Serge Abiteboul, Ioana Manolescu, Philippe Rigaux, Marie-Christine Rousset, and Pierre Senellart. <span 
class="ecti-1000">Web</span>
   <span 
class="ecti-1000">Data Management</span>. Cambridge University Press, 2011.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [3]<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xbrewer2000towards"></a>Eric&#x00A0;A  Brewer.   Towards  robust  distributed  systems.   In  <span 
class="ecti-1000">PODC</span>,  volume&#x00A0;7,  pages  343477&#8211;343502.
   Portland, OR, 2000.
</p>
   </div>
    
</body></html> 

                                                                                            


