#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\begin_preamble
\usepackage{footmisc}
\usepackage{listings}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{1,0.99,0.94}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,  
    frame=single,
    tabsize=2
}

\lstset{style=mystyle}
\end_preamble
\use_default_options true
\begin_modules
tcolorbox
customHeadersFooters
theorems-ams-bytype
theorems-sec-bytype
algorithm2e
\end_modules
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\pdf_quoted_options "linkcolor=blue, urlcolor=blue, citecolor=blue, pdfstartview={FitH}, unicode=true"
\papersize a4paper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\boxbgcolor #62a0ea
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2cm
\topmargin 3cm
\rightmargin 2cm
\bottommargin 3cm
\headheight 2cm
\headsep 1cm
\footskip 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
BDM-MIRI - Semantic Data Management
\end_layout

\begin_layout Date
Spring 2023
\end_layout

\begin_layout Author
Jose Antonio Lorencio Abril
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename upc-logo.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
\align right
Professors: Anna Queralt, Óscar Romero 
\end_layout

\begin_layout Standard
\align right
Student e-mail: jose.antonio.lorencio@estudiantat..upc.edu
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Address
This is a summary of the course 
\emph on
Semantic Data Management
\emph default
 taught at the Universitat Politècnica de Catalunya by Professors Anna Queralt
 and Óscar Romero in the academic year 22/23.
 Most of the content of this document is adapted from the course notes by
 Abelló and Nadal, 
\begin_inset CommandInset citation
LatexCommand cite
key "Romero2023"
literal "false"

\end_inset

, so I won't be citing it all the time.
 Other references will be provided when used.
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList figure

\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList table

\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList algorithm

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Part
Property Graphs
\end_layout

\begin_layout Section
Property Graphs
\end_layout

\begin_layout Subsection
Definitions
\end_layout

\begin_layout Standard
Property graphs were born in the database community, with the idea of enabling
 the possibility to query and process data in graph form.
 Up to date, there is not any official standard.
\end_layout

\begin_layout Standard
Property graphs are 
\series bold
ocurrence-based
\series default
, which means that they are defined by the particular instances inserted,
 without a pre-existent enforceable schema.
 The instances are represented by two main constructs:
\end_layout

\begin_layout Itemize

\series bold
Nodes
\series default
: represent entities.
\end_layout

\begin_layout Itemize

\series bold
Edges
\series default
: relate pairs of nodes, and may represent different types of relationships.
\end_layout

\begin_layout Standard
Both nodes and edges might be 
\series bold
labeled
\series default
 and can have a ser of properties, represented as 
\series bold
attributes
\series default

\begin_inset Foot
status open

\begin_layout Plain Layout
In some definitions, edges are not allowed to have attributes.
\end_layout

\end_inset

.
 In addition, edges can be defined to be directed or undirected.
 Moreover, multi-graphs are allowed, meaning that two nodes can be related
 by multiple edges.
\end_layout

\begin_layout Standard
More formally:
\end_layout

\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Definition
A 
\series bold
property graph
\series default
, 
\begin_inset Formula $G$
\end_inset

, is a tuple 
\begin_inset Formula $\left(V,E,\rho,\lambda,\sigma,Lab,Prop,Val\right)$
\end_inset

, where:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $V$
\end_inset

 is a finite set of vertices.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $E$
\end_inset

 is a finite set of edges, such that 
\begin_inset Formula $V$
\end_inset

 and 
\begin_inset Formula $E$
\end_inset

 have no elements in common
\begin_inset Foot
status open

\begin_layout Plain Layout
Usually, we will identify vertices and edges by their key identifier.
 Thus, this condition means that a key represents either a node or an edge,
 but not both at the same time.
\end_layout

\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $Lab$
\end_inset

 is a set of labels.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $Prop$
\end_inset

 is a set of properties and 
\begin_inset Formula $Val$
\end_inset

 is the set of possible values that the properties can take.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\rho:E\rightarrow V\times V$
\end_inset

 is a total function
\begin_inset Foot
status open

\begin_layout Plain Layout
A total function is a function 
\begin_inset Formula $f:Dom\rightarrow Im$
\end_inset

 such that 
\begin_inset Formula $\forall x\in Dom,\exists y\in Im|f\left(x\right)=y$
\end_inset

.
\end_layout

\end_inset

.
 Basically, 
\begin_inset Formula $\rho$
\end_inset

 assigns each edge 
\begin_inset Formula $e\in E$
\end_inset

 to the pair of nodes that it relates, 
\begin_inset Formula $\left(u,v\right)\in V\times V$
\end_inset

.
 Usually, 
\begin_inset Formula $\rho\left(e\right)=\left(u,v\right)$
\end_inset

 means that edge 
\begin_inset Formula $e$
\end_inset

 starts in 
\begin_inset Formula $u$
\end_inset

 and ends in 
\begin_inset Formula $v$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\lambda:\left(V\cup E\right)\rightarrow Lab$
\end_inset

 is a total function.
 Now, for each vertex and each edge, we assign a label to it
\begin_inset Foot
status open

\begin_layout Plain Layout
In some definitions, it is possible to assign a set of labels, so that 
\begin_inset Formula $\lambda:\left(V\cup E\right)\rightarrow2^{Lab}$
\end_inset

.
\end_layout

\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\sigma:\left(V\cup E\right)\times Prop\rightarrow Val$
\end_inset

 is a partial function
\begin_inset Foot
status open

\begin_layout Plain Layout
A partial function is a function that is not necessarily total.
\end_layout

\end_inset

.
 Here, we are assigning the values of each property of each node/edge.
\end_layout

\end_deeper
\end_inset


\end_layout

\begin_layout Example
A simple graph.
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename simplegraph.png
	scale 50

\end_inset


\end_layout

\end_deeper
\begin_layout Example
In this example, we have the visual representation of a simple graph.
 Let's create each of the components of the formal definition:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $V=\left\{ n_{1},n_{2},n_{3}\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $E=\left\{ e_{1},e_{2},e_{3}\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $Lab=\left\{ Person,Movie,acts\_in,directs\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $Prop=\left\{ name,gender,title,role,ref\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $Val=\left\{ Clint\ Eastwood,Anna\ Levine,male,female,Unforgiven,Bill,Delilah,IMDb\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\lambda\left(n_{1}\right)=Person,\lambda\left(n_{2}\right)=Movie,\lambda\left(n_{3}\right)=Person,\lambda\left(e_{1}\right)=acts\_in,\lambda\left(e_{2}\right)=directs,\lambda\left(e_{3}\right)=acts\_in$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\sigma\left(n_{1},name\right)=Clint\ Eastwood,\sigma\left(n_{1},gender\right)=male,\sigma\left(n_{2},title\right)=Unforgiven,\sigma\left(n_{3},name\right)=Anna\ Levine,$
\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\sigma\left(n_{3},gender\right)=female,\sigma\left(e_{1},role\right)=Bill,\sigma\left(e_{1},ref\right)=IMDb,\sigma\left(e_{3},role\right)=Delilah,\sigma\left(e_{3},ref\right)=IMDb$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Subsection
Traversal Navigation
\end_layout

\begin_layout Standard
The 
\series bold
graph traversal pattern
\series default
 is defined as the ability to rapidly traverse structures to an arbitrary
 depth and with an arbitrary path description.
\end_layout

\begin_layout Standard
This framework is totally opposite to set theory, on which relational databases
 are based on.
 In the relational theory, this is equivalent to joining data and selecting
 data, while in a graph database, the relationships are explicit (there
 no foreign keys), there is no need to add nodes for artificial concepts
 and we can consider the joins as being hard-wired in the data.
 This makes traversing from one node to another a constant time operation.
\end_layout

\begin_layout Standard
Traversing graph data depends on three main variables:
\end_layout

\begin_layout Itemize
The 
\series bold
query topology
\series default
, which refers to the complexity of what are we looking for, and the 
\series bold
traversal seeds
\series default
, which are the way in which the search is started.
\end_layout

\begin_layout Itemize
The 
\series bold
size of the graph
\series default
, typically measured as the number of edges.
\end_layout

\begin_layout Itemize
The 
\series bold
topology of the graph
\series default
.
\end_layout

\begin_layout Subsection
Graph operations
\end_layout

\begin_layout Standard
There are basically two types of operations:
\end_layout

\begin_layout Itemize

\series bold
Content-based queries
\series default
: in these queries, the value is relevant.
 We want to get a specific node, or the value of some attributes of a node/edge,
 etc.
 For example, aggregations.
\end_layout

\begin_layout Itemize

\series bold
Topological queries
\series default
: in this case, only the topology of the graph is considered.
 Several business problems are solved using graph algorithms exploring the
 graph topology.
 For example, computing the betweenness centrality of a node.
\end_layout

\begin_layout Itemize

\series bold
Hybrid approaches
\series default
: leverage both types of queries.
\end_layout

\begin_layout Standard
Of these types, we are going to focus on topological queries.
\end_layout

\begin_layout Subsubsection
Topological queries
\end_layout

\begin_layout Subsubsection*
Adjacency queries
\end_layout

\begin_layout Standard
Two nodes are adjacent if there is an edge between them (usually disregarding
 direction).
 Therefore, the adjacency of a node is defined as all nodes adjacent to
 it:
\begin_inset Formula 
\[
Adjacency\left({\color{blue}n}\right)=N|{\color{red}n_{i}}\in N\iff\exists{\color{green}{\color{teal}e}}:\rho\left({\color{green}{\color{teal}e}}\right)=\left({\color{red}n_{i}},{\color{blue}n}\right)\lor\rho\left({\color{teal}e}\right)=\left({\color{blue}n},{\color{red}n_{i}}\right).
\]

\end_inset


\end_layout

\begin_layout Standard
The computational cost of this operation is linear on the number of edges
 to visit.
\end_layout

\begin_layout Standard
Examples of use cases are finding all friends of a person, airports with
 direct connection,...
\end_layout

\begin_layout Subsubsection*
Reachability queries
\end_layout

\begin_layout Standard
A node is reachable from another node if there is a set of edges, called
 a 
\series bold
walk
\series default
, that can be traversed to get from one to the other (in this case, direction
 is usually taken into account, but it could be disregarded if needed).
 Now, the definition is as follows:
\begin_inset Formula 
\[
Reachability\left(n_{or},n_{dest}\right)=True\iff
\]

\end_inset


\begin_inset Formula 
\[
\exists Walk\left({\color{blue}n_{or}},{\color{red}n_{dest}}\right)=\left(e_{1},...,e_{m}\right)|\exists{\color{teal}n_{1},...,n_{m-1}}:\rho\left(e_{1}\right)=\left({\color{blue}n_{or}},{\color{teal}n_{1}}\right),\rho\left(e_{2}\right)=\left({\color{teal}n_{1},n_{2}}\right),...,\rho\left(e_{m}\right)=\left({\color{teal}n_{m-1}},{\color{red}n_{dest}}\right).
\]

\end_inset


\end_layout

\begin_layout Standard
Additional constraints can be defined:
\end_layout

\begin_layout Itemize
Fixed-length paths: we can fix the number of edges and nodes of the walk.
\end_layout

\begin_layout Itemize
Shortest path: find the walk that minimizes some metric, such as the number
 of hops or the sum of weights of the edges,...
\end_layout

\begin_layout Itemize
Non-repeated nodes: in this case the walk is called a 
\series bold
path
\series default
.
\end_layout

\begin_layout Itemize
Non-repeated edges: in this case the walk is called a 
\series bold
trail
\series default
.
 Note that a path is more restrictive than a trail.
\end_layout

\begin_layout Itemize
Regular simple paths: we can restrict the path to respect some regular expressio
n.
\end_layout

\begin_layout Standard
The computational cost is high for large graphs, and it also depends on
 what constraints are we imposing.
 For instance, if we want to compute the shortest path, we can use 
\series bold
Dijkstra's algorithm
\series default
, which is 
\begin_inset Formula $O\left(\left|V\right|^{2}\right)$
\end_inset

, or 
\begin_inset Formula $O\left(\left|E\right|\cdot\left|V\right|\log\left|V\right|\right)$
\end_inset

 using priority queues.
\end_layout

\begin_layout Standard
Examples of use cases are finding all friends of a friend, all flight connection
s,...
\end_layout

\begin_layout Subsubsection*
Label-constrained reachability
\end_layout

\begin_layout Standard
We compute reachability, imposing that all edges in the walk have a label
 in a defined set of labels:
\begin_inset Formula 
\[
G_{L}^{*}=\left\{ \left(s,t\right)|\exists p\in paths\left(s,t\right)\ such\ that\ \lambda\left(e\right)\in L,\forall e\in p\right\} .
\]

\end_inset

 Another way to see this is that we are trying to determine all pairs of
 nodes such that there is a path between them such that the concatenation
 of the edge labels along the path forms a string in the language denoted
 by the regular expresion 
\begin_inset Formula $\left(l_{1}\cup...\cup l_{n}\right)^{*}$
\end_inset

, where 
\begin_inset Formula $L=\left\{ l_{1},...,l_{n}\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
Typically, the allowed topology and labels involved are expressed as a regular
 expression.
 In general, this problem is known to be NP-complete.
\end_layout

\begin_layout Subsubsection*
Pattern matching
\end_layout

\begin_layout Standard
In this case, we want to find all subgraphs that follow a given pattern.
 More formally, we have 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 and a pattern 
\begin_inset Formula $P=\left(V_{p},E_{p}\right)$
\end_inset

 and we want to find all 
\begin_inset Formula $G'=\left(V',E'\right)$
\end_inset

 such that 
\begin_inset Formula $V'\subset V,E'\subset E$
\end_inset

 and 
\begin_inset Formula $P\cong G'$
\end_inset

, i.e., 
\begin_inset Formula $P$
\end_inset

 and 
\begin_inset Formula $G'$
\end_inset

 are isomorphic, i.e., there are biyections 
\begin_inset Formula $V'\overset{f_{1}}{\rightarrow}V_{p}$
\end_inset

 and 
\begin_inset Formula $E'\overset{f_{2}}{\rightarrow}E_{p}$
\end_inset

.
\end_layout

\begin_layout Standard
This problem is also NP-complete.
\end_layout

\begin_layout Standard
Examples of use cases are finding all groups of cities such that all of
 them are directly connected by flights (find cliques),...
\end_layout

\begin_layout Subsection
Property Graph Patterns
\end_layout

\begin_layout Standard
Among the operations that we have seen so far, it is interesting, in the
 context of property graphs, to focus on pattern matching.
 Now, we use 
\series bold
basic graph patterns (bgps)
\series default
, which are equivalent to conjunctive queries, and are a property graph
 where variables can appear in place of any constant.
\end_layout

\begin_layout Standard
A 
\series bold
match
\series default
 for a bgp is a mapping from variables to constants, such that when the
 mapping is applied to the bgp, the result is a subgraph of the original
 graph.
\end_layout

\begin_layout Standard
The 
\series bold
results
\series default
 for a bgp are all mappings from variables in the query to constants that
 comprise a match.
\end_layout

\begin_layout Example
A simple pattern matching.
 Assume we have the same graph we used before:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename simplegraph.png
	scale 50

\end_inset


\end_layout

\end_deeper
\begin_layout Example
And the following bgp:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename simplebgp.png
	scale 50

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Here, I have coloured variables in red, and left constant in black.
\end_layout

\begin_layout Example
Let's see some matches:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename simplebgp_1.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename simplebgp_2.png
	scale 50

\end_inset


\end_layout

\end_deeper
\begin_layout Example
And so on...
\end_layout

\begin_layout Subsubsection
Evaluating graph patterns
\end_layout

\begin_layout Standard
Now, we are going to formalize a bit the intuition built in the previous
 explanation and example.
 Evaluating a bgp 
\begin_inset Formula $P$
\end_inset

, against a graph 
\begin_inset Formula $G$
\end_inset

 corresponds to listing all possible matches of 
\begin_inset Formula $P$
\end_inset

 with respect to 
\begin_inset Formula $G$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Flex Color Box
status open

\begin_layout Definition
Given an edge-labelled graph 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 and a bgp 
\begin_inset Formula $P=\left(V',E'\right)$
\end_inset

, a 
\series bold
match
\series default
 of 
\begin_inset Formula $P$
\end_inset

 in 
\begin_inset Formula $G$
\end_inset

 is a mapping 
\begin_inset Formula 
\[
h:Const\cup Var\rightarrow Const
\]

\end_inset

 such that:
\end_layout

\begin_deeper
\begin_layout Enumerate
For each constant 
\begin_inset Formula $a\in Const$
\end_inset

, 
\begin_inset Formula $h\left(a\right)=a$
\end_inset

, i.e., constants are preserved.
\end_layout

\begin_layout Enumerate
For each edge 
\begin_inset Formula $\left(b,l,c\right)\in E'$
\end_inset

, we have 
\begin_inset Formula $\left(h\left(b\right),h\left(l\right),h\left(c\right)\right)\in E$
\end_inset

.
 This imposes that
\end_layout

\begin_deeper
\begin_layout Enumerate
Each edge of 
\begin_inset Formula $P$
\end_inset

 is mapped to an edge of 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Enumerate
The structure of 
\begin_inset Formula $P$
\end_inset

 is preserved in its image under 
\begin_inset Formula $h$
\end_inset

 in 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\end_inset


\end_layout

\begin_layout Subsubsection
Semantics of a match
\end_layout

\begin_layout Standard
Matches can be defined using different semantics on what we consider equivalent
 graphs, and what conditions the function 
\begin_inset Formula $h$
\end_inset

 have to meet:
\end_layout

\begin_layout Itemize

\series bold
Homomorphism-based semantics
\series default
: multiple variables in 
\begin_inset Formula $P$
\end_inset

 can map to the same constant in 
\begin_inset Formula $G$
\end_inset

 (
\begin_inset Formula $h$
\end_inset

 is not necessarily inyective).
 This correspondes to the familiar semantics of select-from-where queries
 in relational databases.
\end_layout

\begin_layout Itemize

\series bold
Isomorphism-based queries
\series default
: we add the constraint that 
\begin_inset Formula $h$
\end_inset

 must be inyective.
 
\end_layout

\begin_layout Standard
Nonetheless, there are intermediate solutions:
\end_layout

\begin_layout Itemize

\series bold
Strict isomorphism
\series default
: corresponds to the isomorphism-based queries, in its stricter sense.
 
\begin_inset Formula $h$
\end_inset

 is inyective.
\end_layout

\begin_layout Itemize

\series bold
No repeated-node semantics
\series default
: 
\begin_inset Formula $h$
\end_inset

 is only inyective for nodes.
\end_layout

\begin_layout Itemize

\series bold
No repeated-edge semantics
\series default
: 
\begin_inset Formula $h$
\end_inset

 is only inyective for edges.
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Graph Query Languages
\end_layout

\begin_layout Standard
Graph Query Languages are declarative languages used to query a graph.
 Typically, a GQL matches an extended version of pattern matching, and each
 database engine chooses fix semantics for it, not existing a common agreement
 nor standard.
 There are also APIs provigin implementation of graph metrica or label-constrain
ed shortest path, which, depending on the metric or algorithm chosen, maps
 to adjacency, reachability or pattern matching.
\end_layout

\begin_layout Subsection
Types of queries
\end_layout

\begin_layout Standard
There are different types of queries, each of them using a different access
 plan:
\end_layout

\begin_layout Itemize

\series bold
Adjacency queries
\series default
: neighbourhood queries require accessing the basic data structure and navigate
 it.
 Thus, their performance depends on the database implementation and the
 specific query, as the time to find a node or edge depends on this implementati
on.
\end_layout

\begin_layout Itemize

\series bold
Regular path queries
\series default
: combine pattern matching and reachability and require specific graph-oriented
 algorithms.
 They are equivalent to conjunctive queries.
 They are also called navigational graph patterns.
\end_layout

\begin_deeper
\begin_layout Standard
RPQs extend the bgp definition by allowing regular expressions on edges
 to describe path queries in a pattern, i.e., a 
\series bold
path
\series default
 is described as
\begin_inset Formula 
\[
x\overset{\alpha}{\rightarrow}y\ over\ G,
\]

\end_inset

 where 
\begin_inset Formula $x,y$
\end_inset

 are nodes in 
\begin_inset Formula $G$
\end_inset

 and 
\begin_inset Formula $\alpha$
\end_inset

 is a regular expression over 
\begin_inset Formula $Lab$
\end_inset

.
 The regular expressions differ from language to language.
 Some usual expressions are:
\end_layout

\begin_layout Itemize
The Kleene star *: 0 or more ocurrences.
\end_layout

\begin_layout Itemize
The Kleene plus +: 1 or more ocurrences.
\end_layout

\begin_layout Itemize
Concatenation 
\begin_inset Formula $\circ$
\end_inset


\end_layout

\begin_layout Itemize
Inverse 
\begin_inset Formula $^{-}$
\end_inset


\end_layout

\begin_layout Itemize
Union 
\begin_inset Formula $|$
\end_inset

:
\end_layout

\begin_layout Itemize
Combinations of them and the labels in 
\begin_inset Formula $Lab$
\end_inset

.
\end_layout

\begin_layout Example
Some simple RPQs.
 In our previous example, we can define some simple RPQs:
\end_layout

\begin_deeper
\begin_layout Itemize
Find all co-actors of all actors:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename RPQ.drawio.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Retrieve all actors you can reach by transitively following the co-actoring
 relationship, at least once:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename RPQ.drawio (1).png
	scale 60

\end_inset


\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Itemize

\series bold
Complex graph patterns
\series default
: add further expressivity beyond conjunctive queries, such as groupings,
 aggregations and set operations.
 The previous RPQs are equivalent to conjunctive queries without projections,
 but database languages are richer than this, enforcing GQLs to implement
 more complex semantics.
 
\series bold
GraphQL
\series default
 was the first graph algebra extending RPQs with relational-like operators.
\end_layout

\begin_layout Subsection
Popular languages
\end_layout

\begin_layout Subsubsection
Cypher
\end_layout

\begin_layout Standard
Cypher was created by Neo4j, and acts as a de facto standard, adopted by
 other graph databases.
 It is a high-level, declarative language, providing both DDL (Data Definition
 Language) and DML (Data Modification Language) capabilities, and allowing
 navigational graph patterns, except concatenation.
\end_layout

\begin_layout Standard
It applies pattern matching under 
\color blue
no-repeated-edges isomorphism
\color inherit
 semantics.
 The available clauses are:
\end_layout

\begin_layout Itemize
DML:
\end_layout

\begin_deeper
\begin_layout Itemize
MATCH: the graph pattern to match.
\end_layout

\begin_layout Itemize
WHERE: filtering criteria.
\end_layout

\begin_layout Itemize
WITH: divides a query into multiple distinct parts.
\end_layout

\begin_layout Itemize
RETURN: define what to return.
\end_layout

\end_deeper
\begin_layout Itemize
DDL:
\end_layout

\begin_deeper
\begin_layout Itemize
CREATE | MERGE: creates nodes and relationship.
 Merge does it only if it does not exist beforehand, entailing an overhead.
\end_layout

\begin_layout Itemize
DELETE: removes nodes, relationships and properties.
\end_layout

\begin_layout Itemize
SET: set values of properties.
\end_layout

\begin_layout Itemize
FOREACH: performs updating actions once per element in a list.
\end_layout

\end_deeper
\begin_layout Standard
Cypher applies a data pipeline, where each stage is a MATCH-WHERE-WITH/RETURN
 block, allowing the definition of aliases to be passed between stages.
\end_layout

\begin_layout Standard
For example, uppose you have a graph database with 
\family typewriter
Person
\family default
 nodes and two types of relationships:
\family typewriter
 FRIENDS_WITH
\family default
 and 
\family typewriter
WORKS_WITH
\family default
.
 You want to find all mutual friends of 
\family typewriter
Alice
\family default
 and 
\family typewriter
Bob
\family default
 who also work with someone named 
\family typewriter
Charlie
\family default
.
 You can achieve this with the following Cypher query:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=SQL"
inline false
status open

\begin_layout Plain Layout

MATCH (alice:Person {name: 'Alice'})-[:FRIENDS_WITH]-(mutual_friend:Person)-[:FR
IENDS_WITH]-(bob:Person {name: 'Bob'})
\end_layout

\begin_layout Plain Layout

WITH mutual_friend
\end_layout

\begin_layout Plain Layout

MATCH (mutual_friend)-[:WORKS_WITH]-(charlie:Person {name: 'Charlie'})
\end_layout

\begin_layout Plain Layout

RETURN mutual_friend.name
\end_layout

\end_inset


\end_layout

\begin_layout Standard
In this query, we have three stages in the data pipeline:
\end_layout

\begin_layout Enumerate
MATCH (Stage 1): Match the graph pattern where 
\family typewriter
Alice
\family default
 and 
\family typewriter
Bob
\family default
 have mutual friends.
 Bind the 
\family typewriter
mutual_friend
\family default
 node.
\end_layout

\begin_layout Enumerate
WITH: Pass the 
\family typewriter
mutual_friend
\family default
 node to the next stage.
\end_layout

\begin_layout Enumerate
MATCH (Stage 2): Match the graph pattern where the
\family typewriter
 mutual_friend
\family default
 from the previous stage works with 
\family typewriter
Charlie
\family default
.
\end_layout

\begin_layout Enumerate
RETURN: Return the name of the mutual friend who meets both criteria (being
 a mutual friend of 
\family typewriter
Alice
\family default
 and 
\family typewriter
Bob
\family default
 and working with 
\family typewriter
Charlie
\family default
).
\end_layout

\begin_layout Standard
In this example, the 
\family typewriter
WITH
\family default
 clause is used to separate the query into two stages.
 The first stage finds all mutual friends of 
\family typewriter
Alice
\family default
 and 
\family typewriter
Bob
\family default
, and the second stage filters those mutual friends to only include the
 ones who work with 
\family typewriter
Charlie
\family default
.
 The use of 
\family typewriter
WITH
\family default
 here is what enables the pipelining of stages in the query.
\end_layout

\begin_layout Example
Given the following graph:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename cypher_example.drawio.png
	scale 60

\end_inset


\end_layout

\begin_layout Enumerate
Return all nodes
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

MATCH (n)
\end_layout

\begin_layout Plain Layout

RETURN n;
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
Return all edges
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

MATCH ()-[e]-()
\end_layout

\begin_layout Plain Layout

RETURN e;
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
Return all neighbour nodes of 'John'
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

MATCH (john {name:'John'})-[:friend]-(f)
\end_layout

\begin_layout Plain Layout

RETURN john, f;
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
Return the incident nodes of all edges
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

MATCH (n1)-[e]->(n2)
\end_layout

\begin_layout Plain Layout

RETURN e, n1, n2;
\end_layout

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Subsubsection
GQL
\end_layout

\begin_layout Standard
There is an ongoing big effort towards stardardization of Graph Query Languages,
 through the GQL project.
\end_layout

\begin_layout Section
Graph Processing
\end_layout

\begin_layout Exercise
Understand the relationships between the basic graph operations.
 Answer the following questions:
\end_layout

\begin_deeper
\begin_layout Enumerate
Is adjacency subsumed by reachability?
\end_layout

\begin_deeper
\begin_layout Standard
No, because there is no way to compute all adjacent nodes to a given node
 by answering reachability queries.
\end_layout

\end_deeper
\begin_layout Enumerate
Is adjacency subsumed by pattern matching?
\end_layout

\begin_deeper
\begin_layout Standard
Yes, the adjacency query 
\begin_inset Formula $Adjacent\left(x\right)$
\end_inset

 is equivalent to the pattern matching query 
\begin_inset Formula $Match\left(x\rightarrow y\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
Is reachability subsumed by pattern matching?
\end_layout

\begin_deeper
\begin_layout Standard
Yes, the reachability query 
\begin_inset Formula $Reachable\left(x,y\right)$
\end_inset

 is equivalent to 
\begin_inset Formula $!not\_empty\left(Match\left(x\rightarrow^{*}y\right)\right)$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Exercise
Note that in the cases in which a query is subsumed in another, it makes
 sense to have the simplified version, which can be optimized as a simpler
 case of pattern matching.
\end_layout

\begin_layout Standard
Notice that so far, the operations have been presented conceptually, being
 agnostic of the underlying technology.
 The theoretical costs are:
\end_layout

\begin_layout Itemize
Adjacency is linear in the amount of vertices to visit 
\begin_inset Formula $O\left(\left|V\right|\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
Reachability is 
\begin_inset Formula $O\left(\left|V\right|^{3}\right)$
\end_inset

 using Dijkstra's shortest path.
\end_layout

\begin_layout Itemize
Label-constrained reachability is 
\begin_inset Formula $O\left(\left|V\right|\right)$
\end_inset

 for a single pair of vertices and 
\begin_inset Formula $O\left(\left|V\right|^{3}\right)$
\end_inset

 for all pairs.
 It is NP-complete if we enforce no-repeated-edges isomorphism semantics.
\end_layout

\begin_layout Itemize
Pattern matching in general is NP-complete.
\end_layout

\begin_layout Itemize
Navigational pattern matching is also NP-complete, but can be reduced to
 
\begin_inset Formula $O\left(\left|V\right|^{3}\right)$
\end_inset

 using bounded simulation algorithms.
\end_layout

\begin_layout Exercise
Identify the most efficient algorithm to solve a given query.
 Assume a graph containing relationships and nodes of actors and films (the
 same as before, but with virtually more information).
 Define:
\end_layout

\begin_deeper
\begin_layout Enumerate
A query that should be solved as an Adjacency problem.
\end_layout

\begin_deeper
\begin_layout Standard
Retrieve all pairs of 
\begin_inset Formula $\left(Person,Film\right)$
\end_inset

 such that 
\begin_inset Formula $Person$
\end_inset

 acts in 
\begin_inset Formula $Film$
\end_inset

.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename exercise_queries.drawio.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
A query that should be solved as a Label-constrained Reachability problem.
\end_layout

\begin_deeper
\begin_layout Standard
Retrieve all pairs of actors related by coacting relationship.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename exercise_queries.drawio_1.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
A query that should be solved as a Navigational Pattern matching problem
\end_layout

\begin_deeper
\begin_layout Standard
People and movies in which the person acts and directs.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename exercise_queries_2.drawio.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
NO! This can be done with reachability, repeating the same node:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename exercise_queries_3.drawio (1).png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
So, we need something else...
 If we fix something in the middle, then we cannot use reachability.
 For example, retrieve all co-actors related by the Movie Titanic:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename exercise_queries_4.drawio.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
We can also enforce other complex constraints, such as: retrieve all movies
 in which there are exactly 3 actors:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename exercise_queries_5.drawio.png
	scale 60

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Subsection
Dijkstra's algorithm
\end_layout

\begin_layout Standard
Dijkstra's algorithm defines a method to find the shortest path between
 two nodes in a graph in which the edges have a cost assigned (it can be
 used in general if we take the distance between two nodes as the number
 of edges used to go from one to the other).
\end_layout

\begin_layout Standard
More formally, if we have a path between two nodes, 
\begin_inset Formula $u,v$
\end_inset

, 
\begin_inset Formula $P\left(u,v\right)=\left\{ e_{1},...,e_{n}\right\} $
\end_inset

, then the distance of the path is
\begin_inset Formula 
\[
d\left(u,v\right)=d\left(P\right)=\sum_{i=1}^{n}c\left(e_{i}\right),
\]

\end_inset

 where 
\begin_inset Formula $c\left(e_{i}\right)$
\end_inset

 is the cost of going through edge 
\begin_inset Formula $e_{i}$
\end_inset

.
 If we want to account only for the number of edges used, we can then define
 
\begin_inset Formula $c\left(e\right)=1$
\end_inset

 for all 
\begin_inset Formula $e\in E$
\end_inset

.
\end_layout

\begin_layout Standard
Dijkstra
\begin_inset Foot
status open

\begin_layout Plain Layout
See 
\begin_inset CommandInset href
LatexCommand href
name "Dijkstra on Wikipedia"
target "https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm"
literal "false"

\end_inset

.
\end_layout

\end_inset

 noticed two very convenient properties of shortest paths: 
\end_layout

\begin_layout Enumerate
Every subpath of a shortest path is itself a shortest path.
\end_layout

\begin_deeper
\begin_layout Standard
This is easy to see, since if we have a shortest path between 
\begin_inset Formula $u$
\end_inset

 and 
\begin_inset Formula $v$
\end_inset

, 
\begin_inset Formula $P\left(u,v\right)$
\end_inset

, and we take two of the nodes that are included in the path, say 
\begin_inset Formula $u_{1}$
\end_inset

 and 
\begin_inset Formula $u_{2}$
\end_inset

, then the subpath that goes from 
\begin_inset Formula $u_{1}$
\end_inset

 to 
\begin_inset Formula $u_{2}$
\end_inset

 must also be of shortest length.
 Imagine it was otherwise, then there would be a path 
\begin_inset Formula $P'\left(u_{1},u_{2}\right)$
\end_inset

 shorter than the subpath we found in 
\begin_inset Formula $P$
\end_inset

.
 Then, we could substitute this subpath by 
\begin_inset Formula $P'$
\end_inset

, and the new path would be shorter than 
\begin_inset Formula $P$
\end_inset

.
 But 
\begin_inset Formula $P$
\end_inset

 is a shortest path, so this is not possible.
\end_layout

\end_deeper
\begin_layout Enumerate
The triangle inequality of shortest paths:
\begin_inset Formula 
\[
d\left(u,v\right)\leq d\left(u,x\right)+d\left(x,v\right),\ \forall x\in E.
\]

\end_inset


\end_layout

\begin_layout Standard
The algorithm is detailed in Algorithm 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:Dijkstra(WeightedGraph-G,-Source"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 Note that this algorithm is a bit more general, since it allows to find
 the shortest paths from one source node 
\begin_inset Formula $U$
\end_inset

 to the rest of the nodes in the graph.
 If we want a specific one, we can stop when we reach it or just find it
 from the output.
 To get the shortest path from 
\begin_inset Formula $U$
\end_inset

 to 
\begin_inset Formula $V$
\end_inset

, we would go to 
\begin_inset Formula $prev\left[V\right]$
\end_inset

 and traverse this in reverse until getting to 
\begin_inset Formula $U$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset listings
lstparams "language=Python"
inline false
status open

\begin_layout Plain Layout

for each vertex v in G.Vertices:
\end_layout

\begin_layout Plain Layout

  dist[v] <- INFINITY
\end_layout

\begin_layout Plain Layout

  prev[v] <- UNDEFINED
\end_layout

\begin_layout Plain Layout

  add v to Q
\end_layout

\begin_layout Plain Layout

dist[U] <- 0
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

while Q is not empty:
\end_layout

\begin_layout Plain Layout

  u <- vertex in Q with min dist[u]
\end_layout

\begin_layout Plain Layout

  remove u from Q
\end_layout

\begin_layout Plain Layout

  
\end_layout

\begin_layout Plain Layout

  for each neighbor v of u still in Q:
\end_layout

\begin_layout Plain Layout

      alt <- dist[u] + Graph.Edges(u, v)
\end_layout

\begin_layout Plain Layout

      if alt < dist[v]:
\end_layout

\begin_layout Plain Layout

          dist[v] <- alt
\end_layout

\begin_layout Plain Layout

          prev[v] <- u
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

return dist[], prev[]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Dijkstra(WeightedGraph G, SourceNode U)
\begin_inset CommandInset label
LatexCommand label
name "alg:Dijkstra(WeightedGraph-G,-Source"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Pattern Matching
\end_layout

\begin_layout Standard
Even considering the most basic fragment of graph patterns and for all semantics
 applied (homomorphism, isomorphism, no-repeated node isomorphism or no-repeated
 edge isomorphism), the problem is NP-complete, and the problem is tackled
 using different techniques, algorithms and heuristics.
\end_layout

\begin_layout Subsection
Complex Graph Processing
\end_layout

\begin_layout Subsubsection
Graph Metrics
\end_layout

\begin_layout Standard
A 
\series bold
metric
\series default
 can be defined as a combination of adjacency, reachability, pattern matching
 and complex graph patterns, so the cost of a metric depends on how it is
 defined.
 Nevertheless, there are very usual and relevant metrics, which are typically
 provided as built-in functions.
 For example, the min/max degree in the graph, its diameter, pageRank,...
\end_layout

\begin_layout Subsubsection
Graph Processing Pipelines
\end_layout

\begin_layout Standard
A pipeline is a list of algorithms over a graph, which are pipelined, inputting
 the output of an algorithm to the next one, to obtain some result.
 Therefore, we can see a metric as a pre-defined pipeline, but a pipeline
 can be as complex as we want/need.
\end_layout

\begin_layout Subsubsection
Graph Embeddings
\end_layout

\begin_layout Standard
An embedding is a vector representation of a graph, and it is useful to
 perform data analysis using typical ML algorithms, that have been developed
 using vectors.
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Graph Databases
\end_layout

\begin_layout Standard
A 
\series bold
graph database
\series default
 is a software that provides a way to store and persist graph data, as well
 as means to process this data.
 Examples of graph databases are Neo4j or Titan.
\end_layout

\begin_layout Standard
A 
\series bold
distributed graph framework 
\series default
refers to a processing framework over a graph database.
 We could compare it to MapReduce
\begin_inset Foot
status open

\begin_layout Plain Layout
See 
\begin_inset CommandInset href
LatexCommand href
name "MapReduce in Wikipedia"
target "https://en.wikipedia.org/wiki/MapReduce"
literal "false"

\end_inset

.
\end_layout

\end_inset

 or to Spark
\begin_inset Foot
status open

\begin_layout Plain Layout
See 
\begin_inset CommandInset href
LatexCommand href
name "Apache Spark in Wikipedia"
target "https://en.wikipedia.org/wiki/Apache_Spark"
literal "false"

\end_inset

.
\end_layout

\end_inset

, in the sense that it is a mean to extract data from a graph database,
 but not to store graphs.
 Examples of these frameworks are Pregel or Giraph.
\end_layout

\begin_layout Subsection
Implementation of Graph Databases
\end_layout

\begin_layout Standard
Graph databases can be implemented in different ways, and each approach
 presents advantages and disadvantages.
\end_layout

\begin_layout Subsubsection
Incidence Lists
\end_layout

\begin_layout Standard
In incidence lists, vertices and edges are stored as records of objects,
 such that each vertex stores incident edges, and each edge stores incident
 nodes.
 
\end_layout

\begin_layout Example
An Incidence List
\end_layout

\begin_layout Example
This graph:
\end_layout

\begin_layout Example
\begin_inset Graphics
	filename pegado1.png
	scale 60

\end_inset


\end_layout

\begin_layout Example
Can be encoded in an incidence list as follows:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename incidentlist.drawio.png
	scale 80

\end_inset


\end_layout

\end_deeper
\begin_layout Example
The diagram is a bit messy, sorry for that.
\end_layout

\begin_layout Subsubsection*
Incidence Lists in Neo4j
\end_layout

\begin_layout Standard
Neo4j is implemented using incident lists, using the concept of linked lists.
\end_layout

\begin_layout Subsubsection*
Nodes
\end_layout

\begin_layout Standard
In Neo4j, there is one physical file to store all nodes in-memory, with
 a Least Frequently Used cache policy, and a fixed size for the records
 (of 15B).
 This enables for very fast look-ups in 
\begin_inset Formula $O\left(1\right)$
\end_inset

 time.
\end_layout

\begin_layout Standard
Let's delve into this.
 This is the anatomy of a Node:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="15">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
inUse
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nextRelId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nextPropId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
labels
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
extra
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1B
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1B
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
The first byte is used for some metadata, such as a flag 'inUse'.
\end_layout

\begin_layout Standard
The bytes 2-5 are the ID of the first relationship (edge) incident to the
 node.
\end_layout

\begin_layout Standard
The bytes 6-9 are the ID of the first property of the node.
\end_layout

\begin_layout Standard
The bytes 10-14 encode the labels of the node.
\end_layout

\begin_layout Standard
The last byte contain extra information.
\end_layout

\begin_layout Subsubsection*
Relationships and properties
\end_layout

\begin_layout Standard
There are two more kind of files to encode relationships and properties,
 also containing fixed size records and using a LFU cache policy.
 A relationship looks like this:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="33">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
meta
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
sNodeId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
dNodeId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
typeId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
sNodePrevRelId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
sNodeNextRelId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
dNodePrevRelId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
dNodeNextRelId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
nextPropId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
1B
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
The property file looks like this:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="33">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
meta
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
node/edgeId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
prevPropId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
nextPropId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
propNameId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
propValueId
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
1B
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
4B
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
In this case, the metadata field has a bit indicating whether the property
 belongs to a node or a relationship.
\end_layout

\begin_layout Example
Encode this graph using the seen nomenclature:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename simplegraph.png
	scale 50

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Nodes:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
meta
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
firstRel
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
firstProp
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
labels
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
extra
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Relationships:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="10">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
meta
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sId
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dId
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
label
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sNprevR
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sNnextR
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dNprevR
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dNnextR
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
prop
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p8
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Properties:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="7">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
meta
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n/eId
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
prevP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nextP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
idName
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
idValue
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v5
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
n3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v8
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v6
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v4
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Names:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
name
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
gender
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
role
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ref
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
na5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
title
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Values:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Clint Eastwood
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Male
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bill
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IMDb
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Unforgiven
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Delilah
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Anna Levine
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
v8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Female
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Labels:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Person
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Movie
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
acts_in
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
directs
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Subsubsection
Adjacency Lists
\end_layout

\begin_layout Standard
For each node, we store the list of its neighbors.
 If the graph is directed, the list contains only the outgoing nodes.
 This approach makes it cheaper for obtaining the neighbors of a node, but
 it is not suitable for checking if there is an edge between two nodes,
 since we would need to travers the lists for both nodes completely.
\end_layout

\begin_layout Example
An Adjacency List
\end_layout

\begin_layout Example
This graph:
\end_layout

\begin_layout Example
\begin_inset Graphics
	filename pegado1.png
	scale 60

\end_inset


\end_layout

\begin_layout Example
Can be encoded in an adjacency list as follows:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="7">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\rightarrow$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Subsubsection
Incidence Matrix
\end_layout

\begin_layout Standard
An incidence matrix is a bidimensional graph representation, in which rows
 represent vertices and columns represent edges.
 Then, a non-null entry represents that the source vertex is incident to
 the edge.
\end_layout

\begin_layout Example
An Incidence Matrix
\end_layout

\begin_layout Example
This graph:
\end_layout

\begin_layout Example
\begin_inset Graphics
	filename pegado1.png
	scale 60

\end_inset


\end_layout

\begin_layout Example
Can be encoded in an incidence matrix as follows:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="7">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
edges
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
e1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
e2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
e3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
e4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
e5
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
nodes
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Where 0='not incident', 1='source', 2='dest' and 3='source&dest'.
\end_layout

\begin_layout Subsubsection
Adjacency matrix
\end_layout

\begin_layout Standard
This is also a bidimensional graph representation, in which rows represent
 source vertices, and columns represent destination vertices.
 Therefore, each non-null entry represents that there is an edge from the
 source node to the destination node.
\end_layout

\begin_layout Example
An Adjacency Matrix
\end_layout

\begin_layout Example
This graph:
\end_layout

\begin_layout Example
\begin_inset Graphics
	filename pegado1.png
	scale 60

\end_inset


\end_layout

\begin_layout Example
Can be encoded in an adjacency matrix as follows:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
destination
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rotate="90" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
source
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Subsection
Types of Graph Databases
\end_layout

\begin_layout Standard
Some graph databases and graph processing frameworks are based on strong
 assumptions that are not always explicit, but are rather a consequence
 of the internal implementation of graphs.
 We can distinguish between:
\end_layout

\begin_layout Itemize

\series bold
Operational graphs
\series default
: they are the graph equivalent of a CRUD database.
 In this kind of graph database, nodes and edges can be deleted, updated,
 inserted and read.
 Examples are Neo4j or OrientDB.
\end_layout

\begin_layout Itemize

\series bold
Analytical graphs
\series default
: these are snapshot graphs that cannot be modified by the final user, so
 they are the equivalent of a data warehouse.
 For example, the graph processing frameworks can be seen as analytical
 graphs.
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Distributed Graph Processing
\end_layout

\begin_layout Standard
When we have a centralized graph, the cost of the queries that we launch
 on it depends on the number of edges/nodes visited during processing.
 Therefore, this cost is affected by the graph size and its topology, and
 the processing algorithm used.
 But sometimes the graph is large and the algorithm expensive.
 For instance, navigational pattern matching, in the best case, is still
 of cubic computational complexity.
\end_layout

\begin_layout Standard
Also, graph computations are difficult to scale and parallelize, because:
\end_layout

\begin_layout Itemize
Computations are data-driven: this means that the computations are driven
 by vertices and edges, with the structure of the computation not known
 a priori.
\end_layout

\begin_layout Itemize
Unstructured problems: the data stored in graphs is usually unstructured
 and irregular, making it difficult to partition.
\end_layout

\begin_layout Itemize
Poor locality: the computations and access patterns tend not to have very
 much locality.
\end_layout

\begin_layout Itemize
High data access to computation ratio: since exploring the structure of
 a graph is more usual than performing large numbers of computations.
\end_layout

\begin_layout Standard
Sequential graph algorithms, which require random access to all the data,
 present poor locality and together with the indivisibility of the graph
 structure cause time and resource intensive pointer chasing between storage
 mediums in order to access each datum.
 In response to these shortcomings, new distributed frameworks based on
 the vertex-centric programming model were developed.
 This approach is:
\end_layout

\begin_layout Itemize
No shared-memory (there is a local view of data).
\end_layout

\begin_layout Itemize
Meant to converge upon iteration.
\end_layout

\begin_layout Itemize
Naturally adapting to distributed settings.
\end_layout

\begin_layout Standard
As opposed to having a global perspective of the data (assuming all data
 is randomly accessible in memory), vertex-centric frameworks employ a local,
 vertex oriented perspective of computation, introducing the paradigm 
\series bold
Think Like A Vertex (TLAV)
\series default
.
\end_layout

\begin_layout Subsection
Distributed Graph Storage
\end_layout

\begin_layout Standard
Several open-source solutions like HDFS, HBase, or Apache Titan can be used
 for storage.
 Proprietary solutions like Amazon Neptune also exist.
 Each approach has its own trade-offs: open-source solutions offer flexibility
 but may demand additional maintenance and expertise, while proprietary
 solutions provide comprehensive support but may pose usage limitations
 and costs.
\end_layout

\begin_layout Standard
For distributed processing frameworks to function effectively, graph data
 needs to be exposed as two views: a set of vertices and a set of edges.
 Traditional distributed data management considerations, like partitioning
 and replicas, apply to these views.
\end_layout

\begin_layout Subsection
TLAV Frameworks
\end_layout

\begin_layout Standard
TLAV frameworks operate on a message passing interface and support iterative
 execution of a user-defined vertex program.
 Vertices pass messages to adjacent vertices, and this iterative process
 continues until a termination condition is met.
\end_layout

\begin_layout Standard
They might either follow the 
\series bold
Bulk Synchronous Parallel (BSP) computing model
\series default
, in which computation is based on 
\series bold
superstep
\series default
, where a superstep must finish entirely before the next superstep starts,
 defining a synchronization barrier per superstep; or an 
\series bold
asynchronous computing model
\series default
, which is prone to suffer from deadlocks and data races, but may improve
 the performance under certain assumptions/conditions.
\end_layout

\begin_layout Standard
Examples of TLAV frameworks include Pregel, Apache Giraph, and GraphX, each
 offering its own strengths and weaknesses.
 It's also important to note the role of fault-tolerance in distributed
 graph processing.
 Ensuring system resilience to node failures is a critical aspect that helps
 maintain operation continuity.
\end_layout

\begin_layout Example
Calculating max using TLAV.
\end_layout

\begin_layout Example
In the first superstep: all vertices send its value to its adjacent vertices.
\end_layout

\begin_layout Example
On each superstep: each vertex compares the value that it has received (if
 any) to the current value that it has.
 If it is greater, then it updates.
 In case of update, it sends again this new value to adjacent nodes.
\end_layout

\begin_layout Example
Stop condition: no vertex changes in a superstep.
\end_layout

\begin_layout Example
The process could be as the following:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename TLAV.drawio.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Here, when a node is red, is because it updated, and the red arrows indicate
 messages.
 The process finishes when no node changes.
\end_layout

\begin_layout Subsubsection
Synchronized TLAV
\end_layout

\begin_layout Standard
As we have explained, TLAV framework supports iterative execution of a user
 defined vertex program over vertices of the graph.
 Programs are thus composed of several interdependent components that drive
 program execution, the 
\series bold
vertex kernels
\series default
.
 A 
\series bold
synchronization barrier
\series default
 is set between interdependent components, defining the supersteps.
\end_layout

\begin_layout Standard
Therefore, a superstep is composed of different kernels, and it ends when
 all kernels finish, and all messages are sent.
 Then, there is a synchronization barrier, which is used to synchronize
 the obtained results, so that the next superstep can begin.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename TLAV_1.drawio.png
	scale 60

\end_inset


\end_layout

\begin_layout Example
Single-Source Shortest-Path
\end_layout

\begin_layout Example
The following code computes the shortest path in a graph using the TLAV
 framework:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset listings
lstparams "language=Python"
inline false
status open

\begin_layout Plain Layout

input: 
\end_layout

\begin_layout Plain Layout

	a graph G=(V,E)
\end_layout

\begin_layout Plain Layout

	a starting vertex U
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

foreach v in V:
\end_layout

\begin_layout Plain Layout

	shortest_path_L[v] = inf
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

send(0,U)
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

repeat
\end_layout

\begin_layout Plain Layout

	for v in V do in parallel:
\end_layout

\begin_layout Plain Layout

		minIncoming = min(receive(path_length));
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		if minIncoming < shortest_path_L[v]:
\end_layout

\begin_layout Plain Layout

			shortest_path_L[v] = minIncoming
\end_layout

\begin_layout Plain Layout

			
\end_layout

\begin_layout Plain Layout

			foreach e in E:
\end_layout

\begin_layout Plain Layout

				path_length = shortest_path_L[v] + length[e]
\end_layout

\begin_layout Plain Layout

				
\end_layout

\begin_layout Plain Layout

				j = destination(e)
\end_layout

\begin_layout Plain Layout

				send(path_length,j)
\end_layout

\begin_layout Plain Layout

			end
\end_layout

\begin_layout Plain Layout

		end
\end_layout

\begin_layout Plain Layout

		halt() # if no message sent, then halt
\end_layout

\begin_layout Plain Layout

	end
\end_layout

\begin_layout Plain Layout

until no more messages are sent;
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Example
The execution could be as follows:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename TLAV_2.drawio.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Example
The colors indicate the same as in the previous example.
 The green node is the source node for the algorithm and the numbers indicate
 the weights of the edges.
\end_layout

\begin_layout Subsubsection
TLAV: Graph Distribution
\end_layout

\begin_layout Standard
We have seen that TLAV graph processing requires the graph data to be exposed
 in the form of two views: the set of vertices and the set of edges.
 Let's see how TLAV can be achieved in a distributed environment.
 Let's begin with an example:
\end_layout

\begin_layout Example
Consider the following distributed graph:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename tlav.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Example
This graph can be represented as follows:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename tlav_0.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Here, we have depicted the two views, partitioned.
 Each partition is depicted by a yellow rectangle.
 And the instances are stored in the partitions.
 Note that the vertices do not store the nodes, I have draw them like that
 to facilitate readability.
\end_layout

\begin_layout Example
Now, we want to set up a simple TLAV environment.
 We are going to send messages 
\begin_inset Formula $\left\{ a_{m},b_{m},c_{m},f_{m}\right\} $
\end_inset

.
 Each message is sent to the node it is named after.
 For example, 
\begin_inset Formula $a_{m}$
\end_inset

 goes to node 
\begin_inset Formula $a$
\end_inset

.
 The nodes will send the message to all nodes to which they are connected,
 and these will generate a message named after them.
 For example, if 
\begin_inset Formula $b$
\end_inset

 receive a message, it will send 
\begin_inset Formula $b_{m}$
\end_inset

.
 The first superstep of this process is:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename tlav_1.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Note how messages can be merged in two ways: intrapartition and interpartition.
 The messages in the white box would be sent to the vertices for the next
 superstep.
\end_layout

\begin_layout Standard
It is very important to realize that states can only be shared through messages,
 since there is no shared memory.
 
\end_layout

\begin_layout Standard
About the vertex kernel, keep in mind the after its execution, the vertices
 send messages to adjacent vertices, and these messages could be as complex
 as needed, and they can even modify the graph.
 The kernel must also include a 
\series bold
halt condition
\series default
, so that a node knows when to stop sending messages, and convergence can
 be achieved.
\end_layout

\begin_layout Subsubsection*
Pregel
\end_layout

\begin_layout Standard
Pregel is a very famous TLAV framework.
 Its model of computation is as follows:
\end_layout

\begin_layout Itemize
Input: a directed graph with three views:
\end_layout

\begin_deeper
\begin_layout Itemize
List of nodes, uniquely identified.
\end_layout

\begin_layout Itemize
List of edges.
\end_layout

\begin_layout Itemize
Triplet views: an edge and its nodes information, showing all the information
 for the edge.
\end_layout

\end_deeper
\begin_layout Itemize
Processing: in each superstep the vertices work in parallel.
\end_layout

\begin_deeper
\begin_layout Itemize
They can modify their state, the state of their outgoing edges, receive
 messages from the previous superstep, send messages to other vertices for
 the next superstep and modify the graph topology.
\end_layout

\begin_layout Itemize
The algorithm finishes based on a voting to halt.
 This means that when a node halts, it becomes inactive and stop sending
 processing and sending messages, until it receives another messages.
 When all nodes are inactive, the process finishes.
\end_layout

\end_deeper
\begin_layout Itemize
Output: the set of values explicitly outputed by the vertices.
\end_layout

\begin_layout Subsubsection*
GraphX
\end_layout

\begin_layout Standard
GraphX is a subproject of Apache Spark, built as a Spark module and following
 Pregel's principles, but it only allows to send messahes to adjacent vertices.
\end_layout

\begin_layout Standard
It uses Spark GraphFrames to provide Pregel's required views (vertices,
 edges and triplets) and provides a library with typical distributed algorithms,
 such as pageRank, connected componentes, triangle count,...
\end_layout

\begin_layout Subsubsection
Deepening into TLAV
\end_layout

\begin_layout Subsubsection*
Scheduling
\end_layout

\begin_layout Standard
Scheduling refers to how user-defined vertex programmes are scheduled for
 execution.
 They can be Synchronous, Asynchronous, Both or Hybrid.
\end_layout

\begin_layout Standard

\series bold
Synchronous scheduling
\series default
 is based on the Bulk Synchronous Parallel (BSP) processing model.
 Active vertices are executed conceptually in parallel over one or more
 iterations, called supersteps and synchronization is achieved through a
 global synchronization barrier situated between each superstep that block
 vertices from computing the next superstep until all workers complete the
 current one.
 Each worker has to coordinate with the master to progress to the next superstep.
\end_layout

\begin_layout Standard
Synchronization is achieved because the barrier ensures that each vertex
 within a superstep has access to only the data from the previous superstep.
 Note that inside a superstep, vertices can be scheduled in a fixed or random
 order, because the execution order does not affect the state of the program
 (it should not, at least).
\end_layout

\begin_layout Standard

\color blue
Pros
\color inherit
 os synchronous scheduling:
\end_layout

\begin_layout Itemize
Conceptually simple.
\end_layout

\begin_layout Itemize
Good for certain algorithms.
\end_layout

\begin_layout Itemize
Almost always deterministic, making synchronous applications easy to design,
 program, test, debug and deploy.
\end_layout

\begin_layout Itemize
Scalable: potentially linear in the number of vertices and can benefit from
 batch messaging between supersteps.
\end_layout

\begin_layout Standard

\color red
Cons
\color inherit
:
\end_layout

\begin_layout Itemize
System throughput must remain high in each sueprstep ot justify the synchronizat
ion cost.
 Throughput is affected by the drop of active vertices or by the imbalance
 workload among workers, resulting in the system becoming underutilized;
 the iterative nature of graph algorithms, which suffer from 'the curse
 of the last reducer' (straggler problem), where many computations finish
 quickly but a small fraction of computations take a desproportionately
 larger amount of time; and the speed of computation of each node.
\end_layout

\begin_layout Itemize
The algorithm may not converge for some graph topologies.
 In general, algorithms that require some type of neighbor coordination
 may not always converge with the synchronous scheduling model without the
 use of some extra logic in the vertex program.
\end_layout

\begin_layout Standard

\series bold
Asynchronous scheduling
\series default
 is different.
 There is no explicit synchronization points, so any active vertex is eligible
 for computation whenever processor and network resources are available.
 The vertex execution order can be dynamically generated and reorganized
 by the scheduler, and the straggler problem is eliminated.
 As a result, many asynchronous models outperform corresponding synchronous
 models, but at the expense of added complexity.
\end_layout

\begin_layout Standard
Pros:
\end_layout

\begin_layout Itemize
Outperform synchronous systems when the workload is imbalanced.
\end_layout

\begin_layout Standard
Cons:
\end_layout

\begin_layout Itemize
It cannot take advantage of batch messaging optimizations.
\end_layout

\begin_layout Itemize
The typical pull model execution may result in unnecessary processing.
\end_layout

\begin_layout Itemize
Asynchronous algorithms face more difficult scheduling problems and also
 consistency issues.
\end_layout

\begin_layout Standard
In general, synchronous execution generally accommodates IO bound algorithms,
 while asynchronous execution well-serves CPU bound algorithms by adapting
 to large and variable workloads.
\end_layout

\begin_layout Subsubsection*
Message Passing
\end_layout

\begin_layout Standard
Information is sent from one vertex program kernel to another via messages,
 which contain local vertex data and is addressed to the ID of the recipient
 vertex.
 A message can be addressed anywhere, but since vertices do not have ID
 information of all the other vertices, destination vertex IDs are typically
 obtained by iterating over outgoing edges.
\end_layout

\begin_layout Standard
After computation is complete and a destination ID for each message is determine
d, the vertex dispatches messages to the local worker process, which determines
 whether the recipient resides on the local machine or a remote one.
\end_layout

\begin_layout Itemize
If it is in the local machine, the worker process the message directly into
 the vertex's incoming messages queue.
\end_layout

\begin_layout Itemize
Otherwise, the worker process looks up the worker ID of the destination
 vertex and places the message in an outgoing message buffer, which are
 flushed when they reach a certain capacity, sending messages over the network
 in batches.
 In principle, it tries to wait until the end of a superstep to send all
 messages in batch-mode.
\end_layout

\begin_layout Standard
There three main strategies to optimize message passing:
\end_layout

\begin_layout Enumerate

\series bold
Sender-side combiner
\series default
: messages from several nodes are merged in the sender worker, which sends
 them to the destination worker.
\end_layout

\begin_layout Enumerate

\series bold
Receiver-side combiner
\series default
: in this case, the sender worker sends all the messages produced by all
 nodes to the destination worker, which makes the merging.
\end_layout

\begin_layout Enumerate

\series bold
Receiver-side scatter
\series default
: the sender worker send a message, which is received by the destination
 worker, sending it to several nodes.
\end_layout

\begin_layout Subsubsection*
Shared Memory
\end_layout

\begin_layout Standard
Shared memory exposes vertex data as shared variables that can be directly
 read or modigied by other vertex programs, avoiding the additional memory
 overhead constituted by messages.
 This is typical of centralized graph processing, but there are also some
 distributed systems that apply it.
\end_layout

\begin_layout Standard
The 
\series bold
main problem
\series default
 is that for shared-memory TLAV frameworks, race conditions may arise when
 an adjacent vertex resides on a remote mahcine.
 Shared-memory TLAV frameworks often ensure memory consistency through mutual
 exclusion by requiring serializable schedules.
 
\series bold
Serializability
\series default
 means that every parallel execution has a corresponding sequential execution
 that maintains consistency.
\end_layout

\begin_layout Standard
The most prominent solutions up to today are:
\end_layout

\begin_layout Itemize
In GraphLab, border vertices are provided locally cached ghost copies of
 remote neighbors, where consistency between ghosts and the original vertex
 is maintained using pipelined distributed locking.
\end_layout

\begin_layout Itemize
In PowerGraph and GiraphX, graphs are partitioned by edges and cut along
 vertices, where consistency across cached mirrors of the cut vertex is
 maintained using parallel Chandy-Misra locking.
\end_layout

\begin_layout Standard
The reduced overhead of shared memory compared to message passing may lead
 to 35% faster converges when computing PageRank on a large web graph.
\end_layout

\begin_layout Subsubsection*
Partitioning
\end_layout

\begin_layout Standard
Large-scake graphs must be divided into parts to be placed in distributed
 storage/memory.
 Good partitions often lead to improved performance, but expensive strategies
 to partition can end up dominating processing time, leading many implementation
s to incorporate simple strategies, such as random placement.
\end_layout

\begin_layout Standard
Effective partitioning evenly distributes the vertices for balanced workload
 while minimizing imterpartition edges to avoid costly network traffic.
 This is formally known as a 
\emph on
k-way graph partitioning
\emph default
, which is a NP-complete problem, with no fixed-factor approximation.
\end_layout

\begin_layout Standard
The leading work in graph partitioning can be broadly characterized as rigorous
 but impractical mathematical strategies or pragmatic heuristics used in
 practices, but this is currently an open problem.
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Part
Knowledge Graphs
\end_layout

\begin_layout Section
Introduction to Knowledge Graphs
\end_layout

\begin_layout Standard
In a knowledge graph, every node is represented with a unique identifies
 and can be universally reffered, i.e., they can be referred potentially from
 any other database in the world.
\end_layout

\begin_layout Standard
Metadata is represented as nodes and edges in the graph.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado2.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Example knowledge graph from 
\begin_inset CommandInset citation
LatexCommand cite
key "Romero2023"
literal "false"

\end_inset

.
\begin_inset CommandInset label
LatexCommand label
name "fig:Example-knowledge-graph"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Knowledge graphs facilitate linking data, because linking via their metadata
 is much more powerful than by the characteristics of the instances, and
 it is a unique feature of their own.
 In Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Examples-of-data"
plural "false"
caps "false"
noprefix "false"

\end_inset

, we can see several relationships between metadata nodes:
\end_layout

\begin_layout Itemize
A subClassOf B indicates that concept A is a subset (more specific) of concept
 B.
\end_layout

\begin_layout Itemize
A equivalentClass B indicates that classes A and B represent the same informatio
n, even if they are stored in different machines.
\end_layout

\begin_layout Itemize
A equivalent B also indicate equivalence of representation, but in this
 case it refers to subgraphs of the metadata.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado3.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pegado4.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Examples of data linkage from 
\begin_inset CommandInset citation
LatexCommand cite
key "Romero2023"
literal "false"

\end_inset

.
\begin_inset CommandInset label
LatexCommand label
name "fig:Examples-of-data"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Example
Assume Knowledge Graph as the canonical data model.
 First, model as graphs each source (separately):
\end_layout

\begin_deeper
\begin_layout Enumerate
Model schema and some instances for each source:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Source 1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
User
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tweet
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Date
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Location
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Source 2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Product
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Product Features
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Source 3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
User
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Product
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Time
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
Then, relate the metadata from each graph with new edges generating a unique
 connected graph.
 For this:
\end_layout

\begin_deeper
\begin_layout Enumerate
Look for similar or identical concepts.
\end_layout

\begin_layout Enumerate
Think of interesting relationships you could exploit later.
\end_layout

\end_deeper
\end_deeper
\begin_layout Example
Assume you can use the following pre-defined edges: equivalentClass, type
 and subClassOf, which embed the semantics already discussed.
\end_layout

\begin_layout Standard
A possible solution is the following:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename kg.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
Note that to model the ternary relationship between (User, Product, Time)
 we needed to add an artificial node.
 This is called 
\series bold
reification
\series default
.
\end_layout

\begin_layout Subsubsection*
Schema.org
\end_layout

\begin_layout Standard
Schema.org is a global initiative to mark up data.
 It provides a vocabulary of terms and their relationships.
 Google and others ahve built their semantic-aware searchers based on schema.org
 and built huge knowledge graphs based on it.
\end_layout

\begin_layout Section
Resource Description Format (RDF)
\end_layout

\begin_layout Standard
RDF is a simple language for describing annotations (facts) about resources.
 It is the most basic ontology language.
 The triples that it uses as basic construct map to first order logic as
 grounded atomic formulas, and blank nodes map to existential variables.
\end_layout

\begin_layout Standard
The basic RDF block is the 
\series bold
RDF statement
\series default
 which is a triple representing a binary relationship between two resources
 or between a resource and a literal.
 The syntax is:
\end_layout

\begin_layout Standard
\align center
<subject predicate object>
\end_layout

\begin_layout Standard
where:
\end_layout

\begin_layout Itemize
subject S has value object O for predicate P.
\end_layout

\begin_layout Itemize
subject and predicate are resources and must be URIs.
\end_layout

\begin_layout Itemize
object can be a resource (URI) or a literal (constant value).
\end_layout

\begin_layout Standard
As can be inferred from this, resources are identified by URIs, which are
 global identifiers.
 A URI is composed of a URL and a URN:
\end_layout

\begin_layout Itemize
URN is the Universal Resource Name: id
\end_layout

\begin_layout Itemize
URL is the Universal Resource Location: where it is
\end_layout

\begin_layout Standard
Many times, we omit the URL for simplicity, and refer to the URI as :URN.
\end_layout

\begin_layout Standard
A 
\series bold
blank node
\series default
 is a resource without a URL (i.e., _).
\end_layout

\begin_layout Standard
Literals are atomic values such as strings, dates or numbers.
\end_layout

\begin_layout Standard
We can thus define a 
\series bold
RDF graph 
\series default
(or semantic graph) as a set of these RDS statements.
\end_layout

\begin_layout Standard
To query RDF graph, SPARQL is the de facto language (also for it variants
 and extensiosn).
 It is inspired by SQL but oriented to express graph operations.
\end_layout

\begin_layout Example
A RDF graph example.
\end_layout

\begin_layout Example
The graph:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename pegado5.png

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Can be represented as an RDF like this:
\end_layout

\begin_layout Example
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

(:Dupond :Leads :CSDept)
\end_layout

\begin_layout Plain Layout

(:Dupond :TeachedIn :UE111)
\end_layout

\begin_layout Plain Layout

(:Dupond :TeachesTo :Pierre)
\end_layout

\begin_layout Plain Layout

(:Pierre :EnrolledIn :CSDept)
\end_layout

\begin_layout Plain Layout

(:Pierre :RegisteredTo :UE111)
\end_layout

\begin_layout Plain Layout

(:UE111 :OfferedBy :CSDept)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Usually, RDF is serialized using the XML format.
 
\end_layout

\begin_layout Standard
The rdf URL is a namespace for RDF.
\end_layout

\begin_layout Standard
Other RDF syntaxes are turtle (which is human-readbale), N-triples or Notation
 3.
\end_layout

\begin_layout Subsection
RDF Modeling
\end_layout

\begin_layout Standard
RDF modeling is based on binary relationships, but n-ary relationships may
 be needed, so blank nodes were presented as a solution for this.
 A 
\series bold
blank node
\series default
 is a node without a URI, which cannot be referenced and can only be subjects
 or objects.
 Its semantics are not completely clear yet, but their 
\series bold
de facto use
\series default
 is as an identifier without a URI.
 The W3C position is this regard is to use blank nodes for incomplete data:
 unknown values or anonymized values.
 The de facto use is pragmatic, but good practices discourage their use:
 all resources should have a proper URI.
\end_layout

\begin_layout Example
Quoting
\end_layout

\begin_layout Example
The following use of a blank node:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Graphics
	filename pegado6.png

\end_inset


\end_layout

\end_deeper
\begin_layout Example
Can be expressed as:
\end_layout

\begin_layout Example
:oscar :takes [:course :SDM]
\end_layout

\begin_layout Example
This is quoting, which is general is [property object], and the subject
 is the blank node.
\end_layout

\begin_layout Standard
Notice that we cannot express neither schema nor additional constraints,
 such as 'at least one' or 'at most three'.
\end_layout

\begin_layout Subsection
RDF-star
\end_layout

\begin_layout Standard
RDF-star in as RDF extension, more comapct and with a predice syntax for
 reification.
\end_layout

\begin_layout Example
The following is RDF-star:
\end_layout

\begin_layout Example
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

@prefix: <http://www.example.org/>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

:employee38 :familyName 
\begin_inset Quotes eld
\end_inset

Smith
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Plain Layout

:employee22 :claims << :employee38 :jobTitle 
\begin_inset Quotes eld
\end_inset

Assistant Designer
\begin_inset Quotes erd
\end_inset

 >>
\end_layout

\end_inset


\end_layout

\begin_layout Example
Here, we have what is called an 
\series bold
embedded triple
\series default
, and it models the 3-way relationship between (:emp22, :emp38, 
\begin_inset Quotes eld
\end_inset

Assistant Designer
\begin_inset Quotes erd
\end_inset

).
\end_layout

\begin_layout Standard

\series bold
SPARQL-star
\series default
 is an extension of SPARQL to query RDF-star graphs.
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
btprint "btPrintCited"
bibfiles "upc"
options "plain"

\end_inset


\end_layout

\end_body
\end_document
